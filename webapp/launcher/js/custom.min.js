IG$.__chartoption.chartcateg.push({name:"Time based Stock Chart",value:"h-stock"}),IG$.cSET="f_palette;f_showvalues;m_zoom_level;f_gauge_type;f_gauge_refresh;m_marker;m_min;m_max;s_t_f;s_t_fo;e3d_en;e3d_al;e3d_be;e3d_de;e3d_vd;edu_val1;cdata_m_tmpl;m_xypos",IG$._customChartPanels=[{layout:"anchor",border:0,title:"Styles",autoScroll:!0,defaults:{anchor:"100%"},initData:function(){var e=this,a=e.__main__,t=a.sheetoption&&a.sheetoption.model?a.sheetoption.model.chart_option:null;t&&(e.down("[name=f_palette]").setValue(t.f_palette),e.down("[name=f_showvalues]").setValue(t.f_showvalues),e.down("[name=f_gauge_type]").setValue(t.f_gauge_type),e.down("[name=f_gauge_refresh]").setValue(t.f_gauge_refresh),e.down("[name=e3d_en]").setValue(!0===t.e3d_en),e.down("[name=e3d_al]").setValue(t.e3d_al||5),e.down("[name=e3d_be]").setValue(t.e3d_be||7),e.down("[name=e3d_de]").setValue(t.e3d_de||10),e.down("[name=e3d_vd]").setValue(t.e3d_vd||5))},updateOptionValues:function(){var e=this,a=e.__main__,t=a.sheetoption&&a.sheetoption.model?a.sheetoption.model.chart_option:null;t&&(t.f_palette=e.down("[name=f_palette]").getValue(),t.f_showvalues=e.down("[name=f_showvalues]").getValue(),t.f_gauge_type=e.down("[name=f_gauge_type]").getValue(),t.f_gauge_refresh=e.down("[name=f_gauge_refresh]").getValue(),t.e3d_en=e.down("[name=e3d_en]").getValue(),t.e3d_al=""+e.down("[name=e3d_al]").getValue(),t.e3d_be=""+e.down("[name=e3d_be]").getValue(),t.e3d_de=""+e.down("[name=e3d_de]").getValue(),t.e3d_vd=""+e.down("[name=e3d_vd]").getValue())},invalidateFields:function(e){var a=e.subtype;this.down("[name=pa01]").setVisible("gauge"==a)},items:[{xtype:"fieldset",title:"Style options (Fusion Charts)",hidden:!0,layout:"anchor",items:[{xtype:"combobox",name:"f_palette",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Palette",store:{xtype:"store",fields:["name","value"],data:[{name:"Set 1",value:"1"},{name:"Set 2",value:"2"},{name:"Set 3",value:"3"},{name:"Set 4",value:"4"},{name:"Set 5",value:"5"},{name:"Set 6",value:"6"}]}},{xtype:"checkbox",name:"f_showvalues",fieldLabel:"Show values",boxLabel:"Enable"}]},{xtype:"fieldset",title:"3D Options",layout:"anchor",items:[{xtype:"displayfield",value:"Apply only if 3D is available on chart type"},{xtype:"checkbox",name:"e3d_en",fieldLabel:"Enable 3D",boxLabel:"Enable"},{xtype:"numberfield",name:"e3d_al",minValue:0,maxValue:45,fieldLabel:"Alpha Angle",value:10},{xtype:"numberfield",name:"e3d_be",minValue:0,maxValue:45,fieldLabel:"Beta Angle",value:25},{xtype:"numberfield",name:"e3d_de",minValue:0,maxValue:100,fieldLabel:"Depth",value:70},{xtype:"numberfield",name:"e3d_vd",minValue:0,maxValue:100,fieldLabel:"View Distance",value:25}]},{xtype:"fieldset",title:"Gauge options",name:"pa01",layout:"anchor",hidden:!0,items:[{xtype:"combobox",name:"f_gauge_type",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Gauge Type",store:{xtype:"store",fields:["name","value"],data:[{name:"Angular gauge",value:"angular"},{name:"Cylinder",value:"cylinder"},{name:"Linear gauge",value:"hlinear"}]}},{xtype:"numberfield",name:"f_gauge_refresh",fieldLabel:"Refresh second",value:2,minValue:1,maxValue:1e3}]}],listeners:{afterrender:function(e){e.initData.call(e)}}},{layout:"anchor",border:0,title:"Extra Options",defaults:{anchor:"100%"},initData:function(){var e=this,a=e.__main__,t=a.sheetoption&&a.sheetoption.model?a.sheetoption.model.chart_option:null;t&&(e.down("[name=m_zoom_level]").setValue(t.m_zoom_level||"8"),e.down("[name=m_marker]").setValue(t.m_marker||""),e.down("[name=m_min]").setValue(t.m_min||"1000"),e.down("[name=m_max]").setValue(t.m_max||"10000"),e.down("[name=cdata_m_tmpl]").setValue(t.cdata_m_tmpl),e.down("[name=m_xypos]").setValue(t.m_xypos||""))},updateOptionValues:function(){var e=this,a=e.__main__,t=a.sheetoption&&a.sheetoption.model?a.sheetoption.model.chart_option:null;t&&(t.m_zoom_level=""+e.down("[name=m_zoom_level]").getValue(),t.m_marker=e.down("[name=m_marker]").getValue(),t.m_min=""+e.down("[name=m_min]").getValue(),t.m_max=""+e.down("[name=m_max]").getValue(),t.cdata_m_tmpl=e.down("[name=cdata_m_tmpl]").getValue(),t.m_xypos=e.down("[name=m_xypos]").getValue())},invalidateFields:function(e){var a=e.subtype;this.down("[name=pb01]").setVisible("googlemap"==a||"navermap"==a||"esri"==a||"vworldmap"==a),this.down("[name=m_xypos]").setVisible("vworldmap"==a),this.down("[name=pb02]").setVisible("kpi"==a)},items:[{xtype:"container",layout:"anchor",name:"pb01",hidden:!0,items:[{xtype:"fieldset",title:"Map options",layout:"anchor",items:[{xtype:"numberfield",name:"m_zoom_level",fieldLabel:"Zoom Level",minValue:1,maxValue:10}]},{xtype:"fieldset",title:"Map Draw options",layout:"anchor",items:[{xtype:"combobox",name:"m_marker",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Palette",store:{xtype:"store",fields:["name","value"],data:[{name:"Marker",value:""},{name:"Circle",value:"circle"},{name:"Info",value:"info"}]},listeners:{change:function(e){this.__main__;var a=this.__mainp__,t=e.getValue();a.down("[name=cdata_m_tmpl]").setVisible("info"==t)},scope:this}},{xtype:"numberfield",fieldLabel:"Min radius",name:"m_min",minValue:100,maxValue:1e6},{xtype:"numberfield",fieldLabel:"Max radius",name:"m_max",minValue:100,maxValue:1e7},{xtype:"textarea",anchor:"100%",fieldLabel:"Template",name:"cdata_m_tmpl",hidden:!0},{xtype:"combobox",name:"m_xypos",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,hidden:!0,fieldLabel:"GeoCode",store:{xtype:"store",fields:["name","value"],data:[{name:"Unknown",value:""},{name:"EPSG:4326",value:"EPSG:4326"},{name:"EPSG:3857",value:"EPSG:3857"}]}}]}]},{xtype:"fieldset",title:"KPI Indicator",layout:"anchor",hidden:!0,name:"pb02",items:[{xtype:"button",text:"Indicator Wizard",handler:function(){var e=(t=this).__main__,a=e.sheetoption&&e.sheetoption.model?e.sheetoption.model.chart_option:null;if(window.IG$.kpi_1){n=a.cindicator?JSON.parse(a.cindicator):{};new IG$.kpi_1({cop:a,cindicator:n}).show()}else{var t=this,n=a.cindicator?JSON.parse(a.cindicator):{};IG$.getScriptCache(["./custom/custom.kpi.worker.js"],new IG$.callBackObj(t,(function(){new IG$.kpi_1({cop:a,cindicator:n}).show()})))}},scope:this}]}],listeners:{afterrender:function(e){e.initData.call(e)}}},{id:"card-8",layout:"anchor",border:0,title:"Stock Options",defaults:{anchor:"100%"},initData:function(){var e=this.__main__,a=e.sheetoption&&e.sheetoption.model?e.sheetoption.model.chart_option:null,t=e.sheetoption.model.rows,n=this.down("[name=s_t_f]"),l=this.down("[name=s_t_fo]"),o=[{name:"Select Item",uid:""}];if(a){for(i=0;i<t.length;i++)o.push({name:t[i].name,uid:t[i].uid});n.store.loadData(o),n.setValue(a.s_t_f||""),l.setValue(a.s_t_fo)}},updateOptionValues:function(){var e=this.__main__,a=e.sheetoption&&e.sheetoption.model?e.sheetoption.model.chart_option:null,t=this.down("[name=s_t_f]");a&&(a.s_t_f=t.getValue(),a.s_t_fo=this.down("[name=s_t_fo]").getValue())},items:[{xtype:"fieldset",title:"Time Field",layout:"anchor",items:[{xtype:"combobox",name:"s_t_f",fieldLabel:"Field Column",queryMode:"local",valueField:"uid",displayField:"name",editable:!1,store:{xtype:"store",fields:["name","uid"]}},{xtype:"textfield",name:"s_t_fo",fieldLabel:"Date Format"}]}],listeners:{afterrender:function(e){e.initData.call(e)}}}],IG$.makeCustomChartOption=function(e,a){var t=[],n=function(e,a){var t;for(t=0;t<a.length;t++)a[t]._items&&n(e,a[t]._items),a[t].handler&&(a[t].scope=e),a[t]._listeners&&a[t]._listeners.scope&&a[t]._listeners.scope.length&&($.each(a[t]._listeners.scope,(function(a,t){a.scope=e})),$.each(a[t]._listeners,(function(a,t){"scope"!=a&&t.length&&$.each(t,(function(a,t){t.scope&&(t.scope=e)}))})))};return $.each(IG$._customChartPanels,(function(l,o){var i=$s.create($s.formpanel,o);i.__main__=e,i.__mainp__=a,i._items&&n(i,i._items),a.add(i),t.push(i)})),t};
IG$.geocoder||(IG$.geocoder={}),IG$.geocoder["com.amplix.geo.SGIS"]={getGeoCode:function(mvalue){var r={lat:null,lng:null},m=eval("("+mvalue+")");return m.length>0&&(r.lat=m[0].posX,r.lng=m[0].posY),r}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Google map",charttype:"googlemap",subtype:"googlemap",img:"map_google",grp:"scientific"}),IG$.__chartoption.chartext.googlemap=function(t){this.owner=t},IG$.__chartoption.chartext.googlemap.prototype={drawChart:function(t,o){if(ig$.google_map_api_key){if(!IG$.__chartoption.chartext.googlemap._loaded){var a=this;IG$.getScriptCache([{src:"https://maps.googleapis.com/maps/api/js?key="+ig$.google_map_api_key,defer:!0,async:!0}],new IG$.callBackObj(this,(function(){IG$.getScriptCache(["./custom/custom.map.google.worker.js","./custom/custom.map.google.clustermarker.js"],new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.googlemap._loaded=1,a.drawChart.call(a,t,o)})))})))}}else IG$.alertmsg(ig$.appname,"API key is missing!",null,null,0,"error")},updatedisplay:function(t,o,a){var e=this.map;e&&google.maps.event.trigger(e,"resize")}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Daum Map",charttype:"daummap",subtype:"daummap",img:"map_daum",grp:"scientific"}),IG$.__chartoption.chartext.daummap=function(a){this.owner=a},IG$.__chartoption.chartext.daummap.prototype={drawChart:function(a,t){var e,m,n=a.container,o=$(n);o.empty(),e=new daum.maps.Map(o[0],{center:new daum.maps.LatLng(37.537123,127.005523),level:3}),this.map=e,o.bind("mousedown",(function(a){}));var r,p,u,d;if(t&&t.geodata.length>0){for(m=0;m<t.geodata.length;m++)r=0==m?Number(t.geodata[m].lng):Math.min(r,Number(t.geodata[m].lng)),p=0==m?Number(t.geodata[m].lng):Math.max(p,Number(t.geodata[m].lng)),u=0==m?Number(t.geodata[m].lat):Math.min(u,Number(t.geodata[m].lat)),d=0==m?Number(t.geodata[m].lat):Math.max(d,Number(t.geodata[m].lat));(p-r)/2,(d-u)/2}},updatedisplay:function(a,t,e){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"SGIS Map",charttype:"sgismap",subtype:"sgismap",img:"map_sgis",grp:"scientific"}),IG$.__chartoption.chartext.sgismap=function(a){this.owner=a},IG$.__chartoption.chartext.sgismap.prototype={drawChart:function(a,t){var e,o,n=a.container;$(n).empty(),mapCreate(n),this.sgismap=sgismap;var i,r,m,g,s=197752.5,l=451441;if(t&&t.geodata.length>0){for(e=0;e<t.geodata.length;e++)i=0==e?Number(t.geodata[e].lng):Math.min(i,Number(t.geodata[e].lng)),r=0==e?Number(t.geodata[e].lng):Math.max(r,Number(t.geodata[e].lng)),m=0==e?Number(t.geodata[e].lat):Math.min(m,Number(t.geodata[e].lat)),g=0==e?Number(t.geodata[e].lat):Math.max(g,Number(t.geodata[e].lat));s=(r-i)/2,l=(g-m)/2}addControl("zoomInIcon"),addControl("zoomOutIcon");var p=new OpenLayers.LonLat(s,l);sgismap.setCenter(p,4),setLegendLevel("15"),setLegendColor("green");var c,h,u,N,_,y,b,f=t.colfix,v='<?xml version="1.0" encoding="utf-8"?><kml xmlns="http://www.opengis.net/kml/2.2">';for(v+="<Document>",e=0;e<t.geodata.length;e++){for((c=t.geodata[e]).lat=Number(c.lat),c.lng=Number(c.lng),d=t.data[c.row],c.data=d,o=0;o<f;o++)c.disp=0==o?d[o].text:c.disp+" "+d[o].text;b=Number(c.data[f+0].code),0==isNaN(b)&&(_=isNaN(_)?b:Math.max(_,b),y=isNaN(y)?b:Math.min(y,b)),c.dval=b}for(e=0;e<t.geodata.length;e++){for(v+="<Placemark><name>"+(c=t.geodata[e]).disp+"</name><description>"+c.disp+"</description><MultiGeometry>",v+="<Polygon><outerBoundaryIs><LinearRing><coordinates>",o=0;o<20;o++)h=1e3+c.dval/(_-y)*4e3,theta=6.28*o/20,N=c.lng+Math.cos(theta)*h,u=c.lat+Math.sin(theta)*h,v+=0==o?u+","+N:" "+u+","+N;v+="</coordinates></LinearRing></outerBoundaryIs></Polygon>",v+="</MultiGeometry></Placemark>"}v+="</Document></kml>";var x={item_name:"(n)",item_code:"in_age_001",max:_,min:y,unit:"(n)"};for(e=0;e<t.geodata.length;e++)x[(c=t.geodata[e]).disp]={item_value:c.dval,rank:e};getStatisticsValue(x,v)},updatedisplay:function(a,t,e){this.map.m1.call(this.map)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Naver Map",charttype:"navermap",subtype:"navermap",img:"map_naver",grp:"scientific"}),IG$.__chartoption.chartext.navermap=function(a){},IG$.__chartoption.chartext.navermap.prototype={drawChart:function(a,t){if(ig$.naver_map_api_key){var n=this,r=["https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId="+ig$.naver_map_api_key,"./custom/custom.map.naver.worker.js"];IG$.__chartoption.chartext.navermap_main?(n.dmain&&(n.dmain.dispose(),n.dmain=null),n.dmain=new IG$.__chartoption.chartext.navermap_main(a),n.dmain.drawChart.call(n.dmain,a,t)):IG$.__chartoption.chartext.navermap._loaded||IG$.getScriptCache(r,new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.navermap._loaded=1;var r=new IG$.__chartoption.chartext.navermap_main(a);n.dmain=r,r.drawChart.call(r,a,t)})))}else IG$.alertmsg(ig$.appname,"API key is missing!",null,null,0,"error")},updatedisplay:function(a,t,n){this.dmain&&this.dmain.updatedisplay.call(this.dmain,a,t,n)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"VWorld Map",charttype:"vworldmap",subtype:"vworldmap",img:"map",grp:"scientific"}),IG$.__chartoption.chartext.vworldmap=function(a){},IG$.__chartoption.chartext.vworldmap.prototype={drawChart:function(a,t){var r=this;IG$.__chartoption.chartext.vworldmap_main?(r.dmain&&(r.dmain.dispose(),r.dmain=null),r.dmain=new IG$.__chartoption.chartext.vworldmap_main(a),r.dmain.drawChart.call(r.dmain,a,t)):IG$.__chartoption.chartext.vworldmap._loaded||IG$.getScriptCache(["./custom/custom.map.vworld.worker.js"],new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.vworldmap._loaded=1;var o=new IG$.__chartoption.chartext.vworldmap_main(a);r.dmain=o,o.drawChart.call(o,a,t)})))},updatedisplay:function(a,t,r){this.dmain&&this.dmain.updatedisplay.call(this.dmain,a,t,r)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Air bus",charttype:"airbusseat",subtype:"airbusseat",img:"svg_airbus",grp:"scientific"}),IG$.__chartoption.chartext.airbusseat=function(a){this.owner=a},IG$.__chartoption.chartext.airbusseat.prototype={drawChart:function(a,t){var e,r=a.container;this.map=e=new IG$.SVGLoader($(r)),e.load("./data/Airbus_A380_seatmap.svg"),e.l5.bind("svgloaded",(function(){var a,r,s,i,n,o,u,m,h,p,l={point:{},measures:[]},d=[];for(key in e.mapid)d.push(key);if(t)for(i=t.colfix,n=t.rowfix,a=0;a<t.data.length;a++)if(s=t.data[a],a<n)for(r=i;r<s.length;r++)u=(o=s[r]).text||o.code,0==a?l.measures.push({text:u,min:null,max:null}):l.measures[r-i].text+=" "+u;else{for(r=0;r<s.length;r++)u=(o=s[r]).text||o.code,r<i?0==r&&(rnd=Math.floor(Math.random()*d.length),u=d[rnd],(m=l.point[u])||(m={mapid:u,data:[]})):(h=i-r,p=Number(u),0==isNaN(p)&&(l.measures[h].min=null==l.measures[h].min?p:Math.min(l.measures[h].min,p),l.measures[h].max=null==l.measures[h].max?p:Math.max(l.measures[h].max,p)),m.data.length>h?m.data[h]=p:m.data.push(p));l.point[m.mapid]=m}e.loadData(l)}))},updatedisplay:function(a,t,e){var r=this.map;r.m1.call(r)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Korea map",charttype:"koreamap",subtype:"koreamap",img:"svg_korea",grp:"scientific"}),IG$.__chartoption.chartext.koreamap=function(a){this.owner=a},IG$.__chartoption.chartext.koreamap.prototype={drawChart:function(a,t){var e,r=a.container;this.map=e=new IG$.SVGLoader($(r)),e.load("./data/korea_location_map3.svg"),e.l5.bind("svgloaded",(function(){var a,r,o,n,i,m,s,p,h,l,c={point:{},measures:[]};if(t)for(n=t.colfix,i=t.rowfix,a=0;a<t.data.length;a++)if(o=t.data[a],a<i)for(r=n;r<o.length;r++)s=(m=o[r]).text||m.code,0==a?c.measures.push({text:s,min:null,max:null}):c.measures[r-n].text+=" "+s;else{for(r=0;r<o.length;r++)s=(m=o[r]).text||m.code,r<n?0==r&&((p=c.point[s])||(p={mapid:s,data:[]})):(h=r-n,l=Number(s),0==isNaN(l)&&(c.measures[h].min=null==c.measures[h].min?l:Math.min(c.measures[h].min,l),c.measures[h].max=null==c.measures[h].max?l:Math.max(c.measures[h].max,l)),p.data.length>h?p.data[h]=l:p.data.push(l));c.point[p.mapid]=p}e.loadData(c)}))},updatedisplay:function(a,t,e){var r=this.map;r.m1.call(r)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"KPI Indicator",charttype:"kpi",subtype:"kpi",img:"kpi",grp:"scientific"}),IG$.__chartoption.chartext.kpi=function(t){this.owner=t},IG$.__chartoption.chartext.kpi.prototype={drawChart:function(t,i){if(!IG$.__chartoption.chartext.kpi._loaded){var a=this,o=["./custom/custom.kpi.worker.js",window.Highcharts?"./js/modules/funnel.js":null,window.Highcharts?"./js/modules/solid-gauge.js":null];IG$.getScriptCache(o,new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.kpi._loaded=1,a.drawChart.call(a,t,i)})))}},updatedisplay:function(t,i,a){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Sankey Diagram",charttype:"sankey",subtype:"sankey",img:"sankey",grp:"scientific"}),IG$.__chartoption.chartext.sankey=function(t){this.owner=t},IG$.__chartoption.chartext.sankey.prototype={drawChart:function(t,a){if(!IG$.__chartoption.chartext.sankey._loaded){var e=this;IG$.getScriptCache(["./custom/custom.sankey.worker.js","./custom/sankey.js"],new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.sankey._loaded=1,e.drawChart.call(e,t,a)})))}},updatedisplay:function(t,a,e){var r=this;r._owner&&r._results&&r.drawChart.call(r,r._owner,r._results)},destroy:function(){}};
IG$.__chartoption.charttype.push({label:"데모 실습용",charttype:"demo_edu",subtype:"demo_edu",img:"demo_edu",grp:"cartesian"}),IG$.__chartoption.chartext.demo_edu=function(t){this.owner=t},IG$.__chartoption.chartext.demo_edu.prototype={drawChart:function(t,e){if(!IG$.__chartoption.chartext.hstock._loaded){var o=this;IG$.getScriptCache(["./custom/custom.edu.worker.js"],new IG$.callBackObj(this,(function(){o.drawChart.call(o,t,e)})))}},updatedisplay:function(t,e,o){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Image Viewer",charttype:"imgviewer",subtype:"imgviewer",img:"imgviewer",grp:"scientific"}),IG$.__chartoption.chartext.imgviewer=function(t){this.owner=t},IG$.__chartoption.chartext.imgviewer.prototype={drawChart:function(t,e){if(!IG$.__chartoption.chartext.imgviewer._loaded){var i=this;IG$.getScriptCache(["./custom/custom.imageviewer.worker.js"],new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.imgviewer._loaded=!0,i.drawChart.call(i,t,e)})))}},updatedisplay:function(t,e,i){}};
IG$.__chartoption.charttype.push({label:"TimeLine",charttype:"timeline",subtype:"timeline",img:"timeline",grp:"cartesian"}),IG$.__chartoption.chartext.timeline=function(t){this.owner=t},IG$.__chartoption.chartext.timeline.prototype={drawTimeline:function(t,e){var a,n,r=$(t.container),s=(t._ILb,t.cop),i=(s.usedualaxis,s.dualaxisitem,e._tabledata);this.owner=t,this.container=r,r.empty(),(n=$("<div class='igc-tg-gr'></div>").appendTo(r)).width(r.width()),n.height(r.height());var l=30,o=0,c=40,d=120,p=950-d-o,m=220-l-c,h=d3.scale.linear().domain([0,152100]).range([0,p]),u=d3.format("02d"),f=function(t){return Math.round(t/1e3)+" sec"};formatTimecode=function(t){return u(t/6e4|0)+":"+u((t/1e3|0)%60)};var y=[],x={slug:"silver_linings_playbook",name:"Silver Linings Playbook",key_frame:93,intro:"Timeline example",annotations:[{trailer_ms:6500,width:280,offset:-40,movie_ms:6890055,text:"The trailer��s opening shot ??an image of the family��s home ??appears near the end of the film, but there are similar shots near the beginning of the movie."},{trailer_ms:105081,width:210,offset:-140,movie_ms:-1,text:"A handful of very short shots are never seen in the film, although most are shown from alternate camera angles."},{trailer_ms:129600,width:150,offset:-40,movie_ms:6187879,text:"Shots that accompany the main actors�� names are also shown out of order."}],fps:29.97002997002997,movie_length_frames:175620,movie_length_ms:7324826,search_bounds:[0,167083],bounds_ms:[15812,6967778],trailer:{thumb_width:266,trailer_length_frames:3793,trailer_length_ms:151235,shots:[]}};for(a=e.rowfix;a<i.length;a++)x.trailer.shots.push({start_ms:100*a,match_ms:Number(i[a][1].code)});y.push(x);var g,_,v,b=d3.select(n[0]).selectAll(".movie").data(y).enter().append("div").attr("class","movie");function w(t){d3.event.metaKey||d3.event.altKey||(d3.select(".lightbox").style("display","block").select("iframe").attr("src","http://www.youtube.com/embed/"+t.youtube+"?rel=0&autoplay=1"),d3.event.preventDefault())}function k(t){d3.select(".lightbox").style("display","none").select("iframe").attr("src","about:blank")}b.append("h3").text((function(t){return t.name})),b.append("p").classed("intro",!0).html((function(t){return t.intro})),b.each((function(t,e){var a=d3.select(this),n=t.movie_length_ms;sectionDuration=n/3,trailerData=t.trailer,time_ms=trailerData.trailer_length_ms,shotsData=trailerData.reviewed_shots||trailerData.shots,shotsData.slice().reverse().forEach((function(t){t.length_ms=time_ms-(time_ms=t.start_ms),(t.missing||t.suppress)&&(t.match_ms=-1)}));var r=[{label:"Beginning of film",ms:sectionDuration},{label:"Middle",ms:2*sectionDuration},{label:"End",ms:3*sectionDuration}],s=d3.scale.linear().domain([-1,0,n]).range([m+12.5,0,m]),i=d3.svg.axis().scale(h).tickSize(5).tickSize(15).tickValues([0,3e4,6e4,9e4,12e4]).orient("top").tickSubdivide(3).tickFormat(f),u=(d3.svg.line().x((function(t){return s(t.x)})).y((function(t){return t.y})).interpolate("cardinal"),d3.svg.line().x((function(t){return h(t.start_ms)})).y((function(t){return s(t.match_ms)})).interpolate("step-after")),y=d3.scale.threshold().domain([0,sectionDuration,2*sectionDuration]).range(["#ccc","#fd9226","#fa4f43","#a20f79"]),x=t.trailer.thumb_width,g=a.append("a").classed("thumbnail-frame",!0).style("left",p+d+o-12-x+"px").attr("href","http://www.youtube.com/watch?v="+t.youtube).on("click",w);g.append("div").classed("thumbnail-crop",!0).style("width",x-2+"px").style("height","108px").append("img").classed("thumbnail-image",!0).attr("src","http://graphics8.nytimes.com/newsgraphics/2013/01/04/movie-marker/b1a9c2fc1689fd89ecff4a7d2be5e5757716e344/thumbnails/"+t.slug+".jpg"),g.append("div").classed("play",!0).append("div").classed("label",!0).text("Watch");var _=a.append("div").classed("stage",!0),v=_.append("svg").attr("width",p+d+o).attr("height",m+l+c).append("g").attr("transform","translate("+d+","+l+")"),b=v.selectAll(".annotation-pointer").data((function(t){return t.annotations})).enter().append("g").classed("annotation-pointer",!0).attr("transform",(function(t){return"translate("+h(t.trailer_ms)+",0)"}));b.append("line").attr("y1",m+25+10).attr("y2",(function(t){return s(t.movie_ms)+8})),b.append("path").attr("x",-1.5).attr("y",(function(t){return s(t.movie_ms)+8})).attr("d",(function(t){var e=s(t.movie_ms)+8;return"M -3 "+(e+3)+" L 0 "+e+" L 3 "+(e+3)})).attr("width",3).attr("height",3),_.append("div").classed("annotations",!0).style("left",d+"px").selectAll(".annotation").data((function(t){return t.annotations})).enter().append("div").classed("annotation",!0).text((function(t){return t.text})).style("width",(function(t){return t.width+"px"})).style("left",(function(t){return h(t.trailer_ms)+t.offset+"px"})).style("top",m+l+25+10+"px"),v.append("path").datum(shotsData.filter((function(t){return!t.suppress&&!t.missing}))).attr("class","scatterline").attr("d",u),v.append("g").attr("class","x axis").call(i).append("text").attr("x",7).attr("y",-22).text("Start of trailer →");var k=v.selectAll(".x.axis g:first-of-type text").select((function(){return this.parentNode.appendChild(this.cloneNode(!0))})).datum(null).style("display","none"),D=v.append("g").attr("class","y axis");D.append("line").classed("baseline",!0).attr("x1",-d).attr("y1",s(0)).attr("x2",p+o).attr("y2",s(0)),D.append("line").classed("separator",!0).attr("y1",-l).attr("y2",m+25);var A=D.selectAll(".section-marker").data(r).enter().append("g").classed("section-marker",!0).attr("transform",(function(t){return"translate(0,"+s(t.ms)+")"}));A.append("rect").attr("x",h(0)).attr("y",-m/3).attr("width",p+o).attr("height",m/3).style("fill",(function(t){return y(t.ms-1)})),A.append("line").classed("section-line",!0).attr("x1",-d).attr("x2",p+o),A.append("text").classed("label",!0).attr("y",-m/6).attr("dy",".35em").attr("x",-15).style("fill",(function(t){return y(t.ms-1)})).text((function(t){return t.label}));var M=D.append("g").attr("class","missing-section").attr("transform","translate(0,"+m+")");M.append("text").text("Not in film").attr("y",12.5).attr("dy","0.4em").attr("x",-15),M.append("line").classed("section-line",!0).attr("y1",25).attr("y2",25).attr("x1",-d).attr("x2",p+o);var T=v.selectAll(".cut").data(shotsData).enter().append("g").attr("class","cut").on("mouseover",L).on("mouseout",S);function L(e,n){k.classed("frame-label",!0).style("display",null).text(formatTimecode(e.start_ms)).attr("x",Math.max(6,Math.min(p-k.node().getComputedTextLength()-6,h(e.start_ms)))),v.selectAll(".x.axis text").style("opacity",(function(t){return Math.abs(e.start_ms-t)<1e4?0:null})),a.select(".thumbnail-image").style("left",-Math.round(t.trailer.thumb_width*(n%10)+2)+"px").style("top",-Math.round(110*Math.floor(n/10)+2)+"px"),a.select(".play").style("opacity",0)}function S(){v.selectAll(".x.axis text").style("opacity",null),k.style("display","none"),a.select(".play").style("opacity",.5)}T.filter((function(t){return!0/*!d.suppress*/})).append("rect").classed("bar",!0).attr("data-id",(function(t,e){return e})).attr("width",(function(t){return Math.max(h(t.length_ms)-1,1)})).attr("height",8).attr("rx",1).attr("y",(function(t){return s(t.match_ms||0)-4})).attr("x",(function(t){return h(t.start_ms)})).attr("fill",(function(t){return y(t.match_ms||0)})),T.append("rect").classed("bar-hover",!0).attr("width",(function(t){return h(t.length_ms)})).attr("height",m+25-1).attr("y",1).attr("x",(function(t){return h(t.start_ms)})),L(t,t.key_frame),S()})),d3.selectAll(".x.axis g text").style("text-anchor","start").attr("x",7).attr("y",-7),d3.selectAll(".x.axis .tick.minor").attr("y2",-4),g=720,_=405,(v=d3.select("#g-graphic").append("div").classed("lightbox",!0).style("display","none").on("click",k).append("div").style("position","absolute").style("left","50%").style("top","50%").append("div").style("width","760px").style("height","445px").style("position","absolute").style("left","-380px").style("top","-222.5px").style("background-color","black")).append("div").attr("id","trailersVideoPlayerContainer").style("width","720px").style("height","405px").append("iframe").attr("width",g).attr("height",_).attr("frameborder",0).property("allowfullscreen",!0).style("position","absolute").style("left","20px").style("top","20px"),v.append("a").attr("class","g-close-button").text("Close")},drawChart:function(t,e){this.drawTimeline(t,e)},updatedisplay:function(t,e,a){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"ArcGIS map",charttype:"esri",subtype:"esri",img:"map",grp:"scientific"}),IG$.__chartoption.chartext.esri=function(t){this.owner=t},IG$.__chartoption.chartext.esri.prototype={drawChart:function(t,s){if(!IG$.__chartoption.chartext.esri._loaded){var r,c=this;c._esri_version=3,r=4==c._esri_version?["https://js.arcgis.com/4.16/esri/themes/light/main.css","https://js.arcgis.com/4.16/","./custom/custom.map.esri.worker.js","./custom/custom.map.esri.clustermarker.js","./custom/custom.map.esri.worker.v4.js"]:["https://js.arcgis.com/3.33/esri/css/esri.css","https://js.arcgis.com/3.33/","./custom/custom.map.esri.worker.js"],IG$.getScriptCache(r,new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.esri._loaded=1,c.drawChart.call(c,t,s)})))}},updatedisplay:function(t,s,r){var c=this.map_inst;c&&c.resize()}};
var m$dor=function(e,t){if("cda012c2-e6e34fba"==e.uid&&0==e.panel.sheetindex&&t.results&&t.results.length>0){var o=(d=t.results[0]).cols,a=d.rows,r=d.rowfix,i=d.colfix,s=d.data;if(o>0&&a>0&&s){var f=1;for(N=r;N<s.length;N++)if(4==s[N][f].position){var l=NaN,c=NaN;for(x=i;x<o;x++)if(u=s[0][x],n=s[1][x],b=s[N][x],"Total"==u.code||"Total"==u.text)l=Number(b.code);else if("특약計"==u.code||"특약計"==u.text)c=Number(b.code);else if("占(%)"==n.code||"占(%)"==n.text){b.text="",b.code="",0==isNaN(l)&&0==isNaN(c)&&0!=c&&(m=c/l*100,b.code=""+m,b.text=Number(m).format("#,##0.00"));break}}}}if("f27584ca-0d7e4cea"==e.uid&&0==e.panel.sheetindex&&t.results&&t.results.length>0){var d,N,x,u,n,b,m;o=(d=t.results[0]).cols,a=d.rows,r=d.rowfix,i=d.colfix,s=d.data;if(o>0&&a>0&&s){f=1;for(N=r;N<s.length;N++)if(4==s[N][f].position){l=NaN,c=NaN;for(x=i;x<o;x++)if(u=s[0][x],n=s[1][x],b=s[N][x],"Total"==u.code||"Total"==u.text)l=Number(b.code);else if("특약計"==u.code||"특약計"==u.text)c=Number(b.code);else if("占(%)"==n.code||"占(%)"==n.text){b.text="",b.code="",0==isNaN(l)&&0==isNaN(c)&&0!=c&&(m=c/l*100,b.code=""+m,b.text=Number(m).format("#,##0.00"));break}}}}};
IG$.__chartoption.charttype.push({label:"Stock Chart",charttype:"hstock",subtype:"hstock",img:"hstock",grp:"h-stock"}),IG$.__chartoption.chartext.hstock=function(t){this.owner=t},IG$.__chartoption.chartext.hstock.prototype={drawChart:function(t,h){if(!IG$.__chartoption.chartext.hstock._loaded){var c=this;IG$.getScriptCache(["./custom/custom.hstock.worker.js"],new IG$.callBackObj(this,(function(){IG$.__chartoption.chartext.hstock._loaded=1,c.drawChart.call(c,t,h)})))}},updatedisplay:function(t,h,c){},destroy:function(){this.hchart&&this.hchart.dispose&&(this.hchart.dispose(),this.hchart=null)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Pareto",charttype:"pareto",subtype:"pareto",img:"chart_pareto",grp:"quality"}),IG$.__chartoption.chartext.pareto=function(t){},IG$.__chartoption.chartext.pareto.prototype={drawChart:function(t,e){var a,i,r,o=this,n=t.container,s=$(n),h=t.cop,c=e._tabledata,p=e.colfix,d=e.colcnt,l=e.rowfix,x=(e.rowcnt,h.colorset||e.c_cset),u=d-p,m=Math.max(200,s.height()/u),y=50;if(p<1)IG$.ShowError("Parato chart need xaxis item",o);else if(u<1)IG$.ShowError("Parato chart need yaxis item",o);else if(window.echarts){for(o.destroy(),s.empty(),(r=$("<div></div>").appendTo(s)).css({position:"relative",width:"100%"}),s.css({overflowY:"auto"}),a={chart:{renderTo:r[0]},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:[],xAxis:[],yAxis:[],series:[]},i=p;i<d;i++){var f=a.grid.length,g={type:"category",axisTick:{alignWithLabel:!0},axisLabel:{maxStaggerLines:2,formatter:function(t,e){return t}},data:[],gridIndex:f},_={type:"value",name:"value",position:"left",axisLabel:{formatter:h.yaxisformat?function(t,e){var a=h.yaxisformat;return IG$.NumberFormat(a,t)}:null},gridIndex:f},v={type:"value",name:"incremental",offset:0,position:"right",axisLabel:{formatter:h.yaxisformat?function(t,e){var a=h.yaxisformat;return IG$.NumberFormat(a,t)}:null},gridIndex:f},I={name:"value",type:"bar",xAxisIndex:a.xAxis.length,yAxisIndex:a.yAxis.length,data:[]},G={name:"incremental",type:"line",xAxisIndex:a.xAxis.length,yAxisIndex:a.yAxis.length+1,data:[]},w={right:"5%",left:"5%"};u>1&&(w.top=y+"px",w.height=m+"px"),y+=m+50,a.grid.push(w),a.xAxis.push(g),a.yAxis.push(_),a.yAxis.push(v),a.series.push(I),a.series.push(G);var A=0,b=[];$.each(c,(function(t,e){var a,r,o;if(t<l)return _.name=e[i].text,v.name=e[i].text,I.name=e[i].text,void(G.name=e[i].text+"(%)");$.each(e,(function(t,e){var n,s=e.text||e.code;t<p?a=0==t?s:a+" "+s:t==i&&(n=Number(e.code||e.text),0==isNaN(n)&&(A+=n),r=n,o=A)})),g.data.push(a),I.data.push(r),b.push(o)})),$.each(b,(function(t,e){var a=e/A*100;G.data.push(a)}))}u>1?r.height(y):r.height(s.height()),IG$.__chartoption&&IG$.__chartoption.chartcolors&&IG$.__chartoption.chartcolors[x]&&(a.color=IG$.__chartoption.chartcolors[x]),o.createChart(a)}else IG$.ShowError("This need apache echarts module!",o)},createChart:function(t){var e=echarts.init(t.chart.renderTo,ig$.echarts_theme||"amplix",{renderer:"canvas"});e.setOption(t),e.on("pieselectchanged",(function(t){})),e.on("click",(function(t){"series"==t.componentType&&_chartview.procClickEvent({series:{name:t.seriesName,type:t.seriesType}},{point:t.data})})),e.on("brushselected",(function(t){})),this.dmain_opt=t,this.dmain=e},updatedisplay:function(t,e,a){var i=this.dmain,r=this.dmain_opt;if(r&&1==r.grid.length)$(i.renderTo).css({width:e,height:a}),i.resize.call(i,{width:e,height:a});else if(i&&(i&&i.destroy&&i.destroy(),i&&i.dispose&&i.dispose(),this.dmain=null),r){var o=r.grid.length,n=Math.max(200,a/o),s=50;$.each(r.grid,(function(t,e){e.top=s+"px",e.height=n+"px",s+=n+50})),this.createChart(r)}},destroy:function(){var t=this.dmain;t&&t.destroy&&t.destroy(),t&&t.dispose&&t.dispose(),this.dmain=null,this.dmain_opt=null}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Quality Runchart",charttype:"runchart",subtype:"runchart",img:"chart_runchart",grp:"quality"}),IG$.__chartoption.chartext.runchart=function(t){this.theight=400,this.symbolsize=12},IG$.__chartoption.chartext.runchart.prototype={getStat:function(t,a){var e,i=this,r=t.rpc.ownerCt,n=new IG$._rpc$,o=t.reportoption.getCurrentPivot(),s=t.sheetoption.model,c=[];e=s.anal_options,c.push({name:"quality_runchart",description:"auto generated",analtype:"proc_cap_index",options:{},input_fields:[]}),s.anal_options=c,n.init(r,{ack:"olapservice",payload:{jobid:t.jobid,option:"pivot",active:""+t.sheetoption.si,pivotresult:"F",analysisresult:"T"},mbody:o,meta_type:t.meta_type||"report"},r,(function(r){s.anal_options=e,i.drawStatResult.call(i,t,a,r)}),(function(t){s.anal_options=e})),n.send()},drawChart:function(t,a){a._tabledata;var e=a.colfix,i=a.colcnt,r=(a.rowfix,a.rowcnt,i-e);e<1?IG$.ShowError("Parato chart need xaxis item",this):r<1?IG$.ShowError("Parato chart need yaxis item",this):window.echarts?this.getStat(t,a):IG$.ShowError("This need apache echarts module!",this)},drawStatResult:function(t,a,e){var i,r,n=this,o=t.container,s=$(o),c=t.cop,h=a._tabledata,l=a.colfix,p=a.colcnt,u=a.rowfix,d=(a.rowcnt,c.colorset||a.c_cset),m=p-l,_=Math.max(n.theight,s.height()/m),v=0,y=a.statistics,f=e.table_data;for(n.destroy(),s.empty(),(r=$("<div></div>").appendTo(s)).css({position:"relative",width:"100%"}),i=l;i<p;i++)n._charts.push({index:i});s.css({overflowY:"auto"}),$.each(n._charts,(function(t,a){var e,i,o,s,p,m=a.index,x=null,g=null;(e=$("<div></div>").appendTo(r)).css({position:"relative",width:"100%"}),(i=$("<div class='quality-runchart-desc'></div>").appendTo(r)).css({position:"relative",width:"100%"}),o={chart:{renderTo:e[0],chartregion:r,chartdesc:i},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},xAxis:[],yAxis:[],series:[]};var w=m-l,b={type:"category",axisTick:{alignWithLabel:!0},axisLabel:{maxStaggerLines:2,formatter:function(t,a){return t}},data:[]},G={type:"value",name:"value",position:"left",axisLabel:{formatter:c.yaxisformat?function(t,a){var e=c.yaxisformat;return IG$.NumberFormat(e,t)}:null}},I={name:"value",type:"line",symbolSize:n.symbolsize,data:[]},T=y[w],S=f[w],L={};$.each(S.rows,(function(t,a){L[a[0].text]=a[2]})),e.height(_-50),i.height(50),v+=_,I.markLine={data:[{name:"Average",yAxis:T.average,lineStyle:{color:"#00ff00",width:2}}]},s=T.min,p=T.max,L.ucl&&(I.markLine.data.push({name:"UCL",yAxis:L.ucl.value,lineStyle:{color:"#ff0000",width:3}}),L.ucl.value>p&&(g=L.ucl.value+10)),L.lcl&&(I.markLine.data.push({name:"LCL",yAxis:L.lcl.value,lineStyle:{color:"#ff0000",width:3}}),L.lcl.value<s&&(x=L.lcl.value-10)),G.min=x,G.max=g,o.xAxis.push(b),o.yAxis.push(G),o.series.push(I);$.each(h,(function(t,a){var e,i;if(t<u)return G.name=a[m].text,void(I.name=a[m].text);$.each(a,(function(t,a){var r,n=a.text||a.code;t<l?e=0==t?n:e+" "+n:t==m&&(r=Number(n),0==isNaN(r)&&r,i=r)})),b.data.push(e),I.data.push(i)})),IG$.__chartoption&&IG$.__chartoption.chartcolors&&IG$.__chartoption.chartcolors[d]&&(o.color=IG$.__chartoption.chartcolors[d]),a.dmain=n.createChart(o),a.dmain_opt=o,i.empty();var A=[];A.push("<ul class='qr_analysis'>"),$.each(S.headers,(function(t,a){$.each(a,(function(t,a){A.push("<li class='anal-"+a.stylename+"'>"+(a.text||"")+"</li>")}))})),$.each(S.rows,(function(t,a){A.push("<li><span class='anal-name'>"+(a[0].text||"")+"</span><span class='anal-value'>"+(a[2].formatvalue||a[2].value)+"</span></li>")})),A.push("</ul>"),$(A.join("")).appendTo(i)})),m>1?r.height(v):r.height(s.height())},createChart:function(t){var a=echarts.init(t.chart.renderTo,ig$.echarts_theme||"amplix",{renderer:"canvas"});return a.setOption(t),a.on("pieselectchanged",(function(t){})),a.on("click",(function(t){"series"==t.componentType&&_chartview.procClickEvent({series:{name:t.seriesName,type:t.seriesType}},{point:t.data})})),a.on("brushselected",(function(t){})),a},updatedisplay:function(t,a,e){var i,r=this;if(r._charts){i=r.dmain,dmain_opt=r.dmain_opt;var n=r._charts.length,o=Math.max(r.theight,e/n);r._charts&&1==r._charts.length?(i=r._charts[0].dmain,$(i.renderTo).css({width:a,height:e-50})):$.each(r._charts,(function(t,a){var e=a.dmain;a.dmain_opt;e&&$(e.renderTo).css({height:o-50})}))}},destroy:function(){var t=this._charts;t&&$.each(t,(function(t,a){var e=a.dmain;e&&e.destroy&&e.destroy(),e&&e.dispose&&e.dispose(),a.dmain=null,a.dmain_opt=null})),this._charts=[]}};