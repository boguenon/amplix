IG$.__chartoption.chartcateg.push({name:"Time based Stock Chart",value:"h-stock"}),IG$.cSET="f_palette;f_showvalues;m_zoom_level;f_gauge_type;f_gauge_refresh;m_marker;m_min;m_max;s_t_f;s_t_fo;e3d_en;e3d_al;e3d_be;e3d_de;e3d_vd;edu_val1;cdata_m_tmpl;m_xypos",IG$.makeCustomChartOption=function(o,t){var e=[],d=o.sheetoption&&o.sheetoption.model?o.sheetoption.model.chart_option:null,a=$s.create($s.formpanel,{layout:"anchor",border:0,title:"Styles",autoScroll:!0,defaults:{anchor:"100%"},initData:function(){var e=this,a=d;a&&(e.down("[name=f_palette]").setValue(a.f_palette),e.down("[name=f_showvalues]").setValue(a.f_showvalues),e.down("[name=f_gauge_type]").setValue(a.f_gauge_type),e.down("[name=f_gauge_refresh]").setValue(a.f_gauge_refresh),e.down("[name=e3d_en]").setValue(!0===a.e3d_en),e.down("[name=e3d_al]").setValue(a.e3d_al||5),e.down("[name=e3d_be]").setValue(a.e3d_be||7),e.down("[name=e3d_de]").setValue(a.e3d_de||10),e.down("[name=e3d_vd]").setValue(a.e3d_vd||5))},updateOptionValues:function(){var e=this,a=d;a&&(a.f_palette=e.down("[name=f_palette]").getValue(),a.f_showvalues=e.down("[name=f_showvalues]").getValue(),a.f_gauge_type=e.down("[name=f_gauge_type]").getValue(),a.f_gauge_refresh=e.down("[name=f_gauge_refresh]").getValue(),a.e3d_en=e.down("[name=e3d_en]").getValue(),a.e3d_al=""+e.down("[name=e3d_al]").getValue(),a.e3d_be=""+e.down("[name=e3d_be]").getValue(),a.e3d_de=""+e.down("[name=e3d_de]").getValue(),a.e3d_vd=""+e.down("[name=e3d_vd]").getValue())},invalidateFields:function(e){var a=e.subtype;this.down("[name=pa01]").setVisible("gauge"==a)},items:[{xtype:"fieldset",title:"Style options (Fusion Charts)",hidden:!0,layout:"anchor",items:[{xtype:"combobox",name:"f_palette",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Palette",store:{xtype:"store",fields:["name","value"],data:[{name:"Set 1",value:"1"},{name:"Set 2",value:"2"},{name:"Set 3",value:"3"},{name:"Set 4",value:"4"},{name:"Set 5",value:"5"},{name:"Set 6",value:"6"}]}},{xtype:"checkbox",name:"f_showvalues",fieldLabel:"Show values",boxLabel:"Enable"}]},{xtype:"fieldset",title:"3D Options",layout:"anchor",items:[{xtype:"displayfield",value:"Apply only if 3D is available on chart type"},{xtype:"checkbox",name:"e3d_en",fieldLabel:"Enable 3D",boxLabel:"Enable"},{xtype:"numberfield",name:"e3d_al",minValue:0,maxValue:45,fieldLabel:"Alpha Angle",value:10},{xtype:"numberfield",name:"e3d_be",minValue:0,maxValue:45,fieldLabel:"Beta Angle",value:25},{xtype:"numberfield",name:"e3d_de",minValue:0,maxValue:100,fieldLabel:"Depth",value:70},{xtype:"numberfield",name:"e3d_vd",minValue:0,maxValue:100,fieldLabel:"View Distance",value:25}]},{xtype:"fieldset",title:"Gauge options",name:"pa01",layout:"anchor",hidden:!0,items:[{xtype:"combobox",name:"f_gauge_type",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Gauge Type",store:{xtype:"store",fields:["name","value"],data:[{name:"Angular gauge",value:"angular"},{name:"Cylinder",value:"cylinder"},{name:"Linear gauge",value:"hlinear"}]}},{xtype:"numberfield",name:"f_gauge_refresh",fieldLabel:"Refresh second",value:2,minValue:1,maxValue:1e3}]}],listeners:{afterrender:function(e){e.initData.call(e)}}});t.add(a),e.push(a);var l=$s.create($s.formpanel,{layout:"anchor",border:0,title:"Extra Options",defaults:{anchor:"100%"},initData:function(){var e=this,a=d;a&&(e.down("[name=m_zoom_level]").setValue(a.m_zoom_level||"8"),e.down("[name=m_marker]").setValue(a.m_marker||""),e.down("[name=m_min]").setValue(a.m_min||"1000"),e.down("[name=m_max]").setValue(a.m_max||"10000"),e.down("[name=cdata_m_tmpl]").setValue(a.cdata_m_tmpl),e.down("[name=m_xypos]").setValue(a.m_xypos||""))},updateOptionValues:function(){var e=this,a=d;a&&(a.m_zoom_level=""+e.down("[name=m_zoom_level]").getValue(),a.m_marker=e.down("[name=m_marker]").getValue(),a.m_min=""+e.down("[name=m_min]").getValue(),a.m_max=""+e.down("[name=m_max]").getValue(),a.cdata_m_tmpl=e.down("[name=cdata_m_tmpl]").getValue(),a.m_xypos=e.down("[name=m_xypos]").getValue())},invalidateFields:function(e){var a=this,t=e.subtype;a.down("[name=pb01]").setVisible("googlemap"==t||"navermap"==t||"vworldmap"==t),a.down("[name=m_xypos]").setVisible("vworldmap"==t),a.down("[name=pb02]").setVisible("kpi"==t)},items:[{xtype:"container",layout:"anchor",name:"pb01",hidden:!0,items:[{xtype:"fieldset",title:"Map options",layout:"anchor",items:[{xtype:"numberfield",name:"m_zoom_level",fieldLabel:"Zoom Level",minValue:1,maxValue:10}]},{xtype:"fieldset",title:"Map Draw options",layout:"anchor",items:[{xtype:"combobox",name:"m_marker",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,fieldLabel:"Palette",store:{xtype:"store",fields:["name","value"],data:[{name:"Marker",value:""},{name:"Circle",value:"circle"},{name:"Info",value:"info"}]},listeners:{change:function(e){var a=e.getValue();t.down("[name=cdata_m_tmpl]").setVisible("info"==a)},scope:this}},{xtype:"numberfield",fieldLabel:"Min radius",name:"m_min",minValue:100,maxValue:1e6},{xtype:"numberfield",fieldLabel:"Max radius",name:"m_max",minValue:100,maxValue:1e7},{xtype:"textarea",anchor:"100%",fieldLabel:"Template",name:"cdata_m_tmpl",hidden:!0},{xtype:"combobox",name:"m_xypos",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,hidden:!0,fieldLabel:"GeoCode",store:{xtype:"store",fields:["name","value"],data:[{name:"Unknown",value:""},{name:"EPSG:4326",value:"EPSG:4326"},{name:"EPSG:3857",value:"EPSG:3857"}]}}]}]},{xtype:"fieldset",title:"KPI Indicator",layout:"anchor",hidden:!0,name:"pb02",items:[{xtype:"button",text:"Indicator Wizard",handler:function(){if(d){var e=d.cindicator?JSON.parse(d.cindicator):{};if(IG$.kpi_1){IG$.getScriptCache(["./custom/custom.kpi.worker.js"],new IG$.callBackObj(this,function(){new IG$.kpi_1({cop:d,cindicator:e}).show()}))}else{new IG$.kpi_1({cop:d,cindicator:e}).show()}}},scope:this}]}],listeners:{afterrender:function(e){e.initData.call(e)}}});t.add(l),e.push(l);var n=$s.create($s.formpanel,{id:"card-8",layout:"anchor",border:0,title:"Stock Options",defaults:{anchor:"100%"},initData:function(){var e=d,a=o.sheetoption.model.rows,t=this.down("[name=s_t_f]"),l=this.down("[name=s_t_fo]"),n=[{name:"Select Item",uid:""}];if(e){for(i=0;i<a.length;i++)n.push({name:a[i].name,uid:a[i].uid});t.store.loadData(n),t.setValue(e.s_t_f||""),l.setValue(e.s_t_fo)}},updateOptionValues:function(){var e=d,a=this.down("[name=s_t_f]");e&&(e.s_t_f=a.getValue(),e.s_t_fo=this.down("[name=s_t_fo]").getValue())},items:[{xtype:"fieldset",title:"Time Field",layout:"anchor",items:[{xtype:"combobox",name:"s_t_f",fieldLabel:"Field Column",queryMode:"local",valueField:"uid",displayField:"name",editable:!1,store:{xtype:"store",fields:["name","uid"]}},{xtype:"textfield",name:"s_t_fo",fieldLabel:"Date Format"}]}],listeners:{afterrender:function(e){e.initData.call(e)}}});return t.add(n),e.push(n),e};
IG$.geocoder||(IG$.geocoder={}),IG$.geocoder["com.amplix.geo.SGIS"]={getGeoCode:function(mvalue){var r={lat:null,lng:null},m=eval("("+mvalue+")");return 0<m.length&&(r.lat=m[0].posX,r.lng=m[0].posY),r}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Google map",charttype:"googlemap",subtype:"googlemap",img:"map_google",grp:"scientific"}),IG$.__chartoption.chartext.googlemap=function(t){this.owner=t},IG$.__chartoption.chartext.googlemap.prototype={drawChart:function(t,o){if(!IG$.__chartoption.chartext.googlemap._loaded){var a=this;IG$.getScriptCache(["./custom/custom.map.google.worker.js","./custom/custom.map.google.clustermarker.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.googlemap._loaded=1,a.drawChart.call(a,t,o)}))}},updatedisplay:function(t,o,a){var e=this.map;e&&google.maps.event.trigger(e,"resize")}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Daum Map",charttype:"daummap",subtype:"daummap",img:"map_daum",grp:"scientific"}),IG$.__chartoption.chartext.daummap=function(a){this.owner=a,this.drawChart=function(a,t){var e,n,m=a.container,o=$(m);o.empty(),e=new daum.maps.Map(o[0],{center:new daum.maps.LatLng(37.537123,127.005523),level:3}),this.map=e,o.bind("mousedown",function(a){});var r,p,u,i;if(t&&0<t.geodata.length){for(n=0;n<t.geodata.length;n++)r=0==n?Number(t.geodata[n].lng):Math.min(r,Number(t.geodata[n].lng)),p=0==n?Number(t.geodata[n].lng):Math.max(p,Number(t.geodata[n].lng)),u=0==n?Number(t.geodata[n].lat):Math.min(u,Number(t.geodata[n].lat)),i=0==n?Number(t.geodata[n].lat):Math.max(i,Number(t.geodata[n].lat));0}},this.updatedisplay=function(a,t,e){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"SGIS Map",charttype:"sgismap",subtype:"sgismap",img:"map_sgis",grp:"scientific"}),IG$.__chartoption.chartext.sgismap=function(a){this.owner=a,this.drawChart=function(a,t){var e,o,n=a.container;$(n).empty(),mapCreate(n),this.sgismap=sgismap;var i,r,m,s,g=197752.5,l=451441;if(t&&0<t.geodata.length){for(e=0;e<t.geodata.length;e++)i=0==e?Number(t.geodata[e].lng):Math.min(i,Number(t.geodata[e].lng)),r=0==e?Number(t.geodata[e].lng):Math.max(r,Number(t.geodata[e].lng)),m=0==e?Number(t.geodata[e].lat):Math.min(m,Number(t.geodata[e].lat)),s=0==e?Number(t.geodata[e].lat):Math.max(s,Number(t.geodata[e].lat));g=(r-i)/2,l=(s-m)/2}addControl("zoomInIcon"),addControl("zoomOutIcon");var p=new OpenLayers.LonLat(g,l);sgismap.setCenter(p,4),setLegendLevel("15"),setLegendColor("green");var h,c,u,N,y,_,b,f=t.colfix,v='<?xml version="1.0" encoding="utf-8"?><kml xmlns="http://www.opengis.net/kml/2.2">';for(v+="<Document>",e=0;e<t.geodata.length;e++){for((h=t.geodata[e]).lat=Number(h.lat),h.lng=Number(h.lng),d=t.data[h.row],h.data=d,o=0;o<f;o++)h.disp=0==o?d[o].text:h.disp+" "+d[o].text;b=Number(h.data[f+0].code),0==isNaN(b)&&(y=isNaN(y)?b:Math.max(y,b),_=isNaN(_)?b:Math.min(_,b)),h.dval=b}for(e=0;e<t.geodata.length;e++){for(v+="<Placemark><name>"+(h=t.geodata[e]).disp+"</name><description>"+h.disp+"</description><MultiGeometry>",v+="<Polygon><outerBoundaryIs><LinearRing><coordinates>",o=0;o<20;o++)c=1e3+h.dval/(y-_)*4e3,theta=6.28*o/20,N=h.lng+Math.cos(theta)*c,u=h.lat+Math.sin(theta)*c,v+=0==o?u+","+N:" "+u+","+N;v+="</coordinates></LinearRing></outerBoundaryIs></Polygon>",v+="</MultiGeometry></Placemark>"}v+="</Document></kml>";var M={item_name:"(n)",item_code:"in_age_001",max:y,min:_,unit:"(n)"};for(e=0;e<t.geodata.length;e++)M[(h=t.geodata[e]).disp]={item_value:h.dval,rank:e};getStatisticsValue(M,v)},this.updatedisplay=function(a,t,e){this.map.m1.call(this.map)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Naver Map",charttype:"navermap",subtype:"navermap",img:"map_naver",grp:"scientific"}),IG$.__chartoption.chartext.navermap=function(a){this.drawChart=function(t,n){var r=this;IG$.__chartoption.chartext.navermap_main?(r.dmain&&(r.dmain.dispose(),r.dmain=null),r.dmain=new IG$.__chartoption.chartext.navermap_main(t),r.dmain.drawChart.call(r.dmain,t,n)):IG$.__chartoption.chartext.navermap._loaded||IG$.getScriptCache(["./custom/custom.map.naver.worker.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.navermap._loaded=1;var a=new IG$.__chartoption.chartext.navermap_main(t);(r.dmain=a).drawChart.call(a,t,n)}))},this.updatedisplay=function(a,t,n){var r=this;r.dmain&&r.dmain.updatedisplay.call(r.dmain,a,t,n)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"VWorld Map",charttype:"vworldmap",subtype:"vworldmap",img:"map",grp:"scientific"}),IG$.__chartoption.chartext.vworldmap=function(a){this.drawChart=function(t,r){var i=this;IG$.__chartoption.chartext.vworldmap_main?(i.dmain&&(i.dmain.dispose(),i.dmain=null),i.dmain=new IG$.__chartoption.chartext.vworldmap_main(t),i.dmain.drawChart.call(i.dmain,t,r)):IG$.__chartoption.chartext.vworldmap._loaded||IG$.getScriptCache(["./custom/custom.map.vworld.worker.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.vworldmap._loaded=1;var a=new IG$.__chartoption.chartext.vworldmap_main(t);(i.dmain=a).drawChart.call(a,t,r)}))},this.updatedisplay=function(a,t,r){var i=this;i.dmain&&i.dmain.updatedisplay.call(i.dmain,a,t,r)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Air bus",charttype:"airbusseat",subtype:"airbusseat",img:"svg_airbus",grp:"scientific"}),IG$.__chartoption.chartext.airbusseat=function(t){this.owner=t,this.drawChart=function(t,a){var i,s=t.container;this.map=i=new IG$.SVGLoader($(s)),i.load("./data/Airbus_A380_seatmap.svg"),i.l5.bind("svgloaded",function(){})},this.updatedisplay=function(t,a,i){this.map.m1.call(this.map)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Korea map",charttype:"koreamap",subtype:"koreamap",img:"svg_korea",grp:"scientific"}),IG$.__chartoption.chartext.koreamap=function(a){this.owner=a,this.drawChart=function(a,l){var u,t=a.container;this.map=u=new IG$.SVGLoader($(t)),u.load("./data/korea_location_map3.svg"),u.l5.bind("svgloaded",function(){var a,t,e,i,r,o,n,s,m,p,h={point:{},measures:[]};if(l)for(i=l.colfix,r=l.rowfix,a=0;a<l.data.length;a++)if(e=l.data[a],a<r)for(t=i;t<e.length;t++)n=(o=e[t]).text||o.code,0==a?h.measures.push({text:n,min:null,max:null}):h.measures[t-i].text+=" "+n;else{for(t=0;t<e.length;t++)n=(o=e[t]).text||o.code,t<i?0==t&&(s=(s=h.point[n])||{mapid:n,data:[]}):(m=t-i,p=Number(n),0==isNaN(p)&&(h.measures[m].min=null==h.measures[m].min?p:Math.min(h.measures[m].min,p),h.measures[m].max=null==h.measures[m].max?p:Math.max(h.measures[m].max,p)),s.data.length>m?s.data[m]=p:s.data.push(p));h.point[s.mapid]=s}u.loadData(h)})},this.updatedisplay=function(a,t,e){this.map.m1.call(this.map)}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"KPI Indicator",charttype:"kpi",subtype:"kpi",img:"kpi",grp:"scientific"}),IG$.__chartoption.chartext.kpi=function(t){this.owner=t},IG$.__chartoption.chartext.kpi.prototype={drawChart:function(t,i){if(!IG$.__chartoption.chartext.kpi._loaded){var a=this,o=["./custom/custom.kpi.worker.js",window.Highcharts?"./js/modules/funnel.js":null,window.Highcharts?"./js/modules/solid-gauge.js":null];IG$.getScriptCache(o,new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.kpi._loaded=1,a.drawChart.call(a,t,i)}))}},updatedisplay:function(t,i,a){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Sankey Diagram",charttype:"sankey",subtype:"sankey",img:"sankey",grp:"scientific"}),IG$.__chartoption.chartext.sankey=function(t){this.owner=t},IG$.__chartoption.chartext.sankey.prototype={drawChart:function(t,a){if(!IG$.__chartoption.chartext.sankey._loaded){var e=this;IG$.getScriptCache(["./custom/custom.sankey.worker.js","./custom/sankey.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.sankey._loaded=1,e.drawChart.call(e,t,a)}))}},updatedisplay:function(t,a,e){var r=this;r._owner&&r._results&&r.drawChart.call(r,r._owner,r._results)},destroy:function(){}};
IG$.__chartoption.charttype.push({label:"데모 실습용",charttype:"demo_edu",subtype:"demo_edu",img:"demo_edu",grp:"cartesian"}),IG$.__chartoption.chartext.demo_edu=function(t){this.owner=t},IG$.__chartoption.chartext.demo_edu.prototype={drawChart:function(t,e){if(!IG$.__chartoption.chartext.hstock._loaded){var o=this;IG$.getScriptCache(["./custom/custom.edu.worker.js"],new IG$.callBackObj(this,function(){o.drawChart.call(o,t,e)}))}},updatedisplay:function(t,e,o){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"Image Viewer",charttype:"imgviewer",subtype:"imgviewer",img:"imgviewer",grp:"scientific"}),IG$.__chartoption.chartext.imgviewer=function(t){this.owner=t},IG$.__chartoption.chartext.imgviewer.prototype={drawChart:function(t,e){if(!IG$.__chartoption.chartext.imgviewer._loaded){var i=this;IG$.getScriptCache(["./custom/custom.imageviewer.worker.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.imgviewer._loaded=!0,i.drawChart.call(i,t,e)}))}},updatedisplay:function(t,e,i){}};
IG$.__chartoption.charttype.push({label:"TimeLine",charttype:"timeline",subtype:"timeline",img:"timeline",grp:"cartesian"}),IG$.__chartoption.chartext.timeline=function(t){this.owner=t},IG$.__chartoption.chartext.timeline.prototype.drawTimeline=function(t,e){var a,r,n=$(t.container),i=(t._ILb,t.cop),s=(i.usedualaxis,i.dualaxisitem,e.data);this.owner=t,(this.container=n).empty(),(r=$("<div class='igc-tg-gr'></div>").appendTo(n)).width(n.width()),r.height(n.height());var b={top:30,right:0,bottom:40,left:120},w=950-b.left-b.right,k=220-b.top-b.bottom,D=110,A=10,M=8,T=25,L=d3.scale.linear().domain([0,152100]).range([0,w]),l=d3.format("02d"),S=function(t){return Math.round(t/1e3)+" sec"};formatTimecode=function(t){return l(t/6e4|0)+":"+l((t/1e3|0)%60)};var o=[],c={slug:"silver_linings_playbook",name:"Silver Linings Playbook",key_frame:93,youtube:"tFvMk983Il8",intro:"��Silver Linings Playbook�� follows the standard model for trailers, according to <a href='http://www.billwoolery.com/'>Bill Woolery</a>, a trailer specialist in Los Angeles who once worked on trailers for movies like ��The Usual Suspects�� and ��E.T. the Extra-Terrestrial.�� While introducing the movie��s story and its characters, the trailer largely follows the order of the film itself.",annotations:[{trailer_ms:6500,width:280,offset:-40,movie_ms:6890055,text:"The trailer��s opening shot ??an image of the family��s home ??appears near the end of the film, but there are similar shots near the beginning of the movie."},{trailer_ms:105081,width:210,offset:-140,movie_ms:-1,text:"A handful of very short shots are never seen in the film, although most are shown from alternate camera angles."},{trailer_ms:129600,width:150,offset:-40,movie_ms:6187879,text:"Shots that accompany the main actors�� names are also shown out of order."}],fps:29.97002997002997,movie_length_frames:175620,movie_length_ms:7324826,search_bounds:[0,167083],bounds_ms:[15812,6967778],trailer:{thumb_width:266,trailer_length_frames:3793,trailer_length_ms:151235,shots:[]}};for(a=e.rowfix;a<s.length;a++)c.trailer.shots.push({start_ms:100*a,match_ms:Number(s[a][1].code)});o.push(c);var d,p=d3.select(r[0]).selectAll(".movie").data(o).enter().append("div").attr("class","movie");function I(t){d3.event.metaKey||d3.event.altKey||(d3.select(".lightbox").style("display","block").select("iframe").attr("src","http://www.youtube.com/embed/"+t.youtube+"?rel=0&autoplay=1"),d3.event.preventDefault())}function h(t){d3.select(".lightbox").style("display","none").select("iframe").attr("src","about:blank")}p.append("h3").text(function(t){return t.name}),p.append("p").classed("intro",!0).html(function(t){return t.intro}),p.each(function(a,t){var r=d3.select(this),e=a.movie_length_ms;sectionDuration=e/3,trailerData=a.trailer,time_ms=trailerData.trailer_length_ms,shotsData=trailerData.reviewed_shots||trailerData.shots,shotsData.slice().reverse().forEach(function(t){t.length_ms=time_ms-(time_ms=t.start_ms),(t.missing||t.suppress)&&(t.match_ms=-1)});var n=[{label:"Beginning of film",ms:sectionDuration},{label:"Middle",ms:2*sectionDuration},{label:"End",ms:3*sectionDuration}],i=d3.scale.linear().domain([-1,0,e]).range([k+T/2,0,k]),s=d3.svg.axis().scale(L).tickSize(5).tickSize(15).tickValues([0,3e4,6e4,9e4,12e4]).orient("top").tickSubdivide(3).tickFormat(S),l=(d3.svg.line().x(function(t){return i(t.x)}).y(function(t){return t.y}).interpolate("cardinal"),d3.svg.line().x(function(t){return L(t.start_ms)}).y(function(t){return i(t.match_ms)}).interpolate("step-after")),o=d3.scale.threshold().domain([0,sectionDuration,2*sectionDuration]).range(["#ccc","#fd9226","#fa4f43","#a20f79"]),c=a.trailer.thumb_width,d=r.append("a").classed("thumbnail-frame",!0).style("left",w+b.left+b.right-12-c+"px").attr("href","http://www.youtube.com/watch?v="+a.youtube).on("click",I);d.append("div").classed("thumbnail-crop",!0).style("width",c-2+"px").style("height",D-2+"px").append("img").classed("thumbnail-image",!0).attr("src","http://graphics8.nytimes.com/newsgraphics/2013/01/04/movie-marker/b1a9c2fc1689fd89ecff4a7d2be5e5757716e344/thumbnails/"+a.slug+".jpg"),d.append("div").classed("play",!0).append("div").classed("label",!0).text("Watch");var p=r.append("div").classed("stage",!0),h=p.append("svg").attr("width",w+b.left+b.right).attr("height",k+b.top+b.bottom).append("g").attr("transform","translate("+b.left+","+b.top+")"),m=h.selectAll(".annotation-pointer").data(function(t){return t.annotations}).enter().append("g").classed("annotation-pointer",!0).attr("transform",function(t){return"translate("+L(t.trailer_ms)+",0)"});m.append("line").attr("y1",k+T+10).attr("y2",function(t){return i(t.movie_ms)+M}),m.append("path").attr("x",-1.5).attr("y",function(t){return i(t.movie_ms)+M}).attr("d",function(t){var e=i(t.movie_ms)+M;return"M -3 "+(e+3)+" L 0 "+e+" L 3 "+(e+3)}).attr("width",3).attr("height",3),p.append("div").classed("annotations",!0).style("left",b.left+"px").selectAll(".annotation").data(function(t){return t.annotations}).enter().append("div").classed("annotation",!0).text(function(t){return t.text}).style("width",function(t){return t.width+"px"}).style("left",function(t){return L(t.trailer_ms)+t.offset+"px"}).style("top",k+b.top+T+10+"px"),h.append("path").datum(shotsData.filter(function(t){return!t.suppress&&!t.missing})).attr("class","scatterline").attr("d",l),h.append("g").attr("class","x axis").call(s).append("text").attr("x",7).attr("y",-22).text("Start of trailer →");var u=h.selectAll(".x.axis g:first-of-type text").select(function(){return this.parentNode.appendChild(this.cloneNode(!0))}).datum(null).style("display","none"),f=h.append("g").attr("class","y axis");f.append("line").classed("baseline",!0).attr("x1",-b.left).attr("y1",i(0)).attr("x2",w+b.right).attr("y2",i(0)),f.append("line").classed("separator",!0).attr("y1",-b.top).attr("y2",k+T);var y=f.selectAll(".section-marker").data(n).enter().append("g").classed("section-marker",!0).attr("transform",function(t){return"translate(0,"+i(t.ms)+")"});y.append("rect").attr("x",L(0)).attr("y",-k/3).attr("width",w+b.right).attr("height",k/3).style("fill",function(t){return o(t.ms-1)}),y.append("line").classed("section-line",!0).attr("x1",-b.left).attr("x2",w+b.right),y.append("text").classed("label",!0).attr("y",-k/6).attr("dy",".35em").attr("x",-15).style("fill",function(t){return o(t.ms-1)}).text(function(t){return t.label});var g=f.append("g").attr("class","missing-section").attr("transform","translate(0,"+k+")");g.append("text").text("Not in film").attr("y",T/2).attr("dy","0.4em").attr("x",-15),g.append("line").classed("section-line",!0).attr("y1",T).attr("y2",T).attr("x1",-b.left).attr("x2",w+b.right);var x=h.selectAll(".cut").data(shotsData).enter().append("g").attr("class","cut").on("mouseover",_).on("mouseout",v);function _(e,t){u.classed("frame-label",!0).style("display",null).text(formatTimecode(e.start_ms)).attr("x",Math.max(6,Math.min(w-u.node().getComputedTextLength()-6,L(e.start_ms)))),h.selectAll(".x.axis text").style("opacity",function(t){return Math.abs(e.start_ms-t)<1e4?0:null}),r.select(".thumbnail-image").style("left",-Math.round(a.trailer.thumb_width*(t%A)+2)+"px").style("top",-Math.round(Math.floor(t/A)*D+2)+"px"),r.select(".play").style("opacity",0)}function v(){h.selectAll(".x.axis text").style("opacity",null),u.style("display","none"),r.select(".play").style("opacity",.5)}x.filter(function(t){return!0}).append("rect").classed("bar",!0).attr("data-id",function(t,e){return e}).attr("width",function(t){return Math.max(L(t.length_ms)-1,1)}).attr("height",M).attr("rx",1).attr("y",function(t){return i(t.match_ms||0)-M/2}).attr("x",function(t){return L(t.start_ms)}).attr("fill",function(t){return o(t.match_ms||0)}),x.append("rect").classed("bar-hover",!0).attr("width",function(t){return L(t.length_ms)}).attr("height",k+T-1).attr("y",1).attr("x",function(t){return L(t.start_ms)}),_(a,a.key_frame),v()}),d3.selectAll(".x.axis g text").style("text-anchor","start").attr("x",7).attr("y",-7),d3.selectAll(".x.axis .tick.minor").attr("y2",-4),(d=d3.select("#g-graphic").append("div").classed("lightbox",!0).style("display","none").on("click",h).append("div").style("position","absolute").style("left","50%").style("top","50%").append("div").style("width","760px").style("height","445px").style("position","absolute").style("left","-380px").style("top","-222.5px").style("background-color","black")).append("div").attr("id","trailersVideoPlayerContainer").style("width","720px").style("height","405px").append("iframe").attr("width",720).attr("height",405).attr("frameborder",0).property("allowfullscreen",!0).style("position","absolute").style("left","20px").style("top","20px"),d.append("a").attr("class","g-close-button").text("Close")},IG$.__chartoption.chartext.timeline.prototype={drawChart:function(t,e){this.drawTimeline(t,e)},updatedisplay:function(t,e,a){}};
IG$.__chartoption.charttype=IG$.__chartoption.charttype||[],IG$.__chartoption.charttype.push({label:"ArcGIS map",charttype:"esri",subtype:"esri",img:"map",grp:"scientific"}),IG$.__chartoption.chartext.esri=function(t){this.owner=t},IG$.__chartoption.chartext.esri.prototype={drawChart:function(t,r){if(!IG$.__chartoption.chartext.esri._loaded){var a=this;IG$.getScriptCache(["./custom/custom.map.esri.worker.js"],new IG$.callBackObj(this,function(){IG$.__chartoption.chartext.esri._loaded=1,a.drawChart.call(a,t,r)}))}},updatedisplay:function(t,r,a){var e=this.map;e&&google.maps.event.trigger(e,"resize")}};
var m$dor=function(e,t){if("cda012c2-e6e34fba"==e.uid&&0==e.panel.sheetindex&&t.results&&0<t.results.length){var o=(d=t.results[0]).cols,a=d.rows,r=d.rowfix,i=d.colfix,s=d.data;if(0<o&&0<a&&s){var f=1;for(N=r;N<s.length;N++)if(4==s[N][f].position){var l=NaN,c=NaN;for(x=i;x<o;x++)if(u=s[0][x],n=s[1][x],b=s[N][x],"Total"==u.code||"Total"==u.text)l=Number(b.code);else if("특약計"==u.code||"특약計"==u.text)c=Number(b.code);else if("占(%)"==n.code||"占(%)"==n.text){b.text="",b.code="",0==isNaN(l)&&0==isNaN(c)&&0!=c&&(m=c/l*100,b.code=""+m,b.text=Number(m).format("#,##0.00"));break}}}}if("f27584ca-0d7e4cea"==e.uid&&0==e.panel.sheetindex&&t.results&&0<t.results.length){var d,N,x,u,n,b,m;o=(d=t.results[0]).cols,a=d.rows,r=d.rowfix,i=d.colfix,s=d.data;if(0<o&&0<a&&s){f=1;for(N=r;N<s.length;N++)if(4==s[N][f].position){l=NaN,c=NaN;for(x=i;x<o;x++)if(u=s[0][x],n=s[1][x],b=s[N][x],"Total"==u.code||"Total"==u.text)l=Number(b.code);else if("특약計"==u.code||"특약計"==u.text)c=Number(b.code);else if("占(%)"==n.code||"占(%)"==n.text){b.text="",b.code="",0==isNaN(l)&&0==isNaN(c)&&0!=c&&(m=c/l*100,b.code=""+m,b.text=Number(m).format("#,##0.00"));break}}}}};