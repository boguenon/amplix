IG$.showLogin=function(i,n){var s;$("#idv-mnu-pnl").hide();if(window.$sso_try_count=window.$sso_try_count||0,!IG$._g$a){var o=IG$._parse_url();s=o.mts||"ROOT"}IG$.dlgLogin&&(IG$.dlgLogin.callback=new IG$.callBackObj(this,(function(){$("#loginWindow").hide()}))),window.hist&&window.hist.addHistory("");var e,a,t,d=$("#loginWindow"),l=$(".login-container",d),r=$("#login-progress",d),c=window.bowser;a="<div class='login-smc'><div class='login-ic'><img class='login-logo' src='./images/logo_7186.png'><div class='login-sso-msg'><span>"+("ko_KR"==useLocale?"잠시만 기다려 주십시오.":"")+("en_US"==useLocale?"Please Wait a minutes.":"")+"<span></div><div id='license'>Licensed to: "+(ig$.appInfo?ig$.appInfo.licensed||"xxx":"...")+"</div>",a+="</div></div>",(t=$(".login-smc",d)).length||(t=$(a).appendTo(l).hide()),e=$(".login-mc",d),d.css({zIndex:99}),c.msie&&d.css({position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",margin:0,padding:0}),d.show();var g=function(i){IG$.sessionUtils?IG$.dlgLogin.getKeyPair(i,"",r,IG$._g$a,new IG$.callBackObj(this,(function(i){t.show(),e.hide(),$(".login-sso-msg",t).html("<span>Session key expired! Please refresh browser and login again!</span>"),r.hide();var n,s,o,a,d=window.location.href,l={},c=0;d&&d.indexOf("?")>0&&(n=d.substring(0,d.indexOf("?")),s=(d=d.substring(d.indexOf("?")+1)).split("&"),c=0,$.each(s,(function(i,n){n.indexOf("=")>0&&(l[n.substring(0,n.indexOf("="))]=n.substring(n.indexOf("=")+1))})),c=Number(l.retry||"0")||0,l.retry=""+ ++c,c<3&&(a=[],$.each(l,(function(i,n){a.push(i+"="+n)})),o=a.join("&"),window.location.href=n+"?"+o)),s&&c<3&&setTimeout((function(){window.location.reload(!1)}),100)})),ig$.$sso_module_name||"dbsync"):IG$.doStartSession(i,"",r,null,new IG$.callBackObj(this,(function(i){t.fadeOut(),r.hide(),e.fadeIn()})))};if(1!=n&&window.$sso_try_count<3)t.show(),e.hide(),r.show(),setTimeout((function(){var i=window.$session_key||"sso_sim_b6118e61573e4aaa_key_map:";if(window.$sso_try_count++,s&&s.length){var n=new IG$._rpc$;n.init(this,{ack:"security",payload:{mts:s},mbody:{}},this,(function(n){var s=n.p1,o=n.p2;s&&o?(IG$.rsaPublicKeyModules=s,IG$.rsaPublicKeyExpoenent=o,IG$._g$a=n.mts,g(i)):g(i)}),(function(){g(i)})),n.send()}else g(i)}),10);else{if(window.$sso_try_count>3)return;t.show(),e.hide(),$(".login-sso-msg",t).html("<span>Session expired! Please refresh browser and login again!</span>"),r.hide()}};