IG$.showLogin=function(s,i,o){var n;if($("#idv-mnu-pnl").hide(),window.$sso_try_count=window.$sso_try_count||0,!IG$._g$a){var e=IG$._parse_url().params;n=e.mts||"ROOT"}IG$.dlgLogin&&(IG$.dlgLogin.callback=new IG$.callBackObj(this,(function(){$("#loginWindow").hide(),IG$.showLoginProc.call(this)}))),window.hist&&window.hist.addHistory("");var a,t,l,d=$("#loginWindow"),g=$(".login-container",d),c=$("#login-progress",d),r=window.bowser;t="<div class='login-smc'><div class='login-ic'><img class='login-logo' src='./images/logo_7186.png'><div class='login-sso-msg'><span>"+("ko_KR"==useLocale?"잠시만 기다려 주십시오.":"")+("en_US"==useLocale?"Please Wait a minutes.":"")+"<span></div><div id='license'>Licensed to: "+(ig$.appInfo?ig$.appInfo.licensed||"xxx":"...")+"</div>",t+="</div></div>",(l=$(".login-smc",d)).length||(l=$(t).appendTo(g).hide()),a=$(".login-mc",d),d.css({zIndex:99}),r.msie&&d.css({position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",margin:0,padding:0}),d.show();var _=function(i){if(IG$.sessionUtils){var n=IG$.dlgLogin;if(0==o){var e=new IG$._rpc$,t=[i,""];e.init(n,{ack:"login",payload:{userid:t[0],passwd:t[1],sso_module:ig$.$sso_module_name||"dbsync",encrypt:"no",keyvar:IG$.rsa_kinfo},mbody:{lang:useLocale,mts:IG$._g$a||"",app:"",session_expire:""+ig$.session_expire||"0"}},n,n.rdoStartSession,(function(i){var o;return s&&(o=s.execute(i)),c&&c.hide(),o}),c),e.send()}else n.getKeyPair(i,"",c,IG$._g$a,new IG$.callBackObj(this,(function(s){l.show(),a.hide(),ig$.$sso_config=ig$.$sso_config||{},$(".login-sso-msg",l).html(ig$.$sso_config.sso_fail_msg||"<span>Session key expired! Please refresh browser and login again!</span>"),c.hide();var i,o,n,e,t,d=window.location.href,g={},r=0;return d&&d.indexOf("?")>0&&(i=d.substring(0,d.indexOf("?")),o=(d=d.substring(d.indexOf("?")+1)).split("&"),r=0,$.each(o,(function(s,i){i.indexOf("=")>0&&(g[i.substring(0,i.indexOf("="))]=i.substring(i.indexOf("=")+1))})),r=Number(g.retry||"0")||0,g.retry=""+ ++r,window.$sso_try_count>0&&r<window.$sso_try_count&&(e=[],$.each(g,(function(s,i){e.push(s+"="+i)})),n=e.join("&"),t=1,setTimeout((function(){window.location.href=i+"?"+n}),5e3))),!t&&o&&window.$sso_try_count>0&&r<window.$sso_try_count?(t=1,setTimeout((function(){window.location.reload(!1)}),5e3)):t||(ig$.$sso_config=ig$.$sso_config||{},ig$.$sso_config.sso_fail_handler&&ig$.$sso_config.sso_fail_handler.apply(null)),!1})),ig$.$sso_module_name||"dbsync")}else IG$.doStartSession(i,"",c,null,new IG$.callBackObj(this,(function(s){l.fadeOut(),c.hide(),a.fadeIn()})))};1!=i?(l.show(),a.hide(),c.show(),setTimeout((function(){var s=window.$session_key||"sso_sim_b6118e61573e4aaa_key_map:";if(n&&n.length){var i=new IG$._rpc$;i.init(this,{ack:"security",payload:{mts:n},mbody:{}},this,(function(i){var o=i.p1,n=i.p2;o&&n?(IG$.rsaPublicKeyModules=o,IG$.rsaPublicKeyExpoenent=n,IG$.rsa_kinfo=i.p3,IG$._g$a=i.mts,_(s)):_(s)}),(function(){_(s)})),i.send()}else _(s)}),10)):(ig$.$sso_config=ig$.$sso_config||{},l.show(),a.hide(),$(".login-sso-msg",l).html(ig$.$sso_config.logout_msg||"<span>Session expired! Please refresh browser and login again!</span>"),c.hide())};