{"version":3,"sources":["c_expression.js","dlgdatemetric.js","dlgcustommetric.js","mgr_dbmeta.js","mgrtable_html.js","dlg_sel_db.js","mgrrelation.js","dlgmeasure.js","dlg_hierarchy.js","formula.js","codemapping.js","dlgmetric.js","geomapping.js","mgrstyle_cube.js","cube_object_select.js","filter_security.js","cubemodel_st.js","cubemodelview_n.js","cubemodel_linkeditor.js","cubemodel_html_n.js","mgruser_duty.js","dlgcodemap.js","multimeasure.js","querytool.js","sqlcube_sqlwizard.js","dlgmetriceditor.js","dlgmeasureditor.js","udg.js"],"names":["IG$","$expr","$s","extend","window","modal","layout","closable","resizable","width","autoHeight","init_view","i","ctrl","this","down","addEventListener","commit_f","validate_expression","callback","execute","close","initComponent","apply","defaults","bodyStyle","items","xtype","type","align","flex","title","IRm$","r1","store","fields","hidezoom","name","tbar","text","buttons","handler","scope","listeners","afterrender","tobj","superclass","call","datemetric","region","height","init_f","me","datediv","setTitle","_datetypes","label","datetypes","length","push","loadData","uid","procLoadContent","rs_procLoadContent","content","meta_type","req","_rpc$","init","ack","payload","mbody","option","send","jdoc","mobj","rel_items","setValue","description","dateformatting","issql","dateformat","cubeuid","loadSubCnt","getCubeInfo","getParentCube","parentuid","callBackObj","rs_getCubeInfo","tnode","subfolder","itemtype","readcontent","rs_loadSubCnt","sitem","k","v","tnodes","children","selmodel","getSelectionModel","custominfo","clear","datedivision","customdatetype","data","get","select","set","expression","closedlg","_confirm","fieldname","clearInvalid","getValue","checkFields","getGroupValue","database_type","setLoading","pid","nodepath","parentnodepath","rs_writeCnt","markInvalid","dname","dispname","item","datenames","majorDateformat","daterecs","addr","cnt","n","rname","cdatetype","overwrite","toUpperCase","predefinetype","custom_type","sorttype","getCustExpr","rs_updateDateCnt","alertmsg","ig$","appname","div","r","toLowerCase","dbformat","sqlDateFormat","dfield","replace","selectField","dlgitemsel","metaSelectDlg","visibleItems","tree_options","cubebrowse","rootuid","cubeSelectedHandler","checkLogin","border","padding","autoScroll","_fasl","fieldLabel","required","vertical","boxLabel","inputValue","emptyText","readOnly","iconCls","tooltip","show_tmpl_hlp","selType","selModel","mode","plugins","ptype","clicksToEdit","columns","dataIndex","tdCls","editor","allowBlank","cellclick","view","node","c","rec","rindex","e","mc","mainpanel","mainPanel","ctype","writable","navigateApp","ui","arguments","customMetricInner","formpanel","bodyBorder","loadedItem","changeDateFormat","optdateformat","dt","_upd_ui","sel","updateDateFormat","dmode","on","field","newvalue","oldvalue","opts","dmode_cnt","cubeinfo","styles","optsortdir","optsorttype","optstyle","app_style","default_styles","custom_styles","clItem","wd","setVisible","cb_sortdir","sortorder","cb_sorttype","removeblank","isdatetype","datecustom","grouping","link_option","groupmin","groupmax","stepinterval","groupminlabel","groupmaxlabel","grouplabel","groupformat","l_tp","l_nm","l_elnk","l_elnk_tgt","l_rpt_name","l_rpt_uid","l_rpt_tmpl","disp","$","each","arr","cube_style","obj","t","stylename","rs_getParentcube","loadTemplate","citem","p","enode","export_option","otmpl","dp","seq","export_type","applyDateFormat","rs_updateDateFormat","df","mdf","setFieldValue","g","othergroupvalue","groupdatagrid","gitems","groupfilter","values","operator","geolat","geolng","cmap_disp","dim_parent","dim_disp","f_","split","l_par_option","l_par_disp_option","storeitem","gfilter","d","datagrid","groupfilterstore","ftype","memo","saveContent","doc","rs_saveContent","selectItem","multiselect","selectReport","bexist","add","cmap_uid","addBlankCondition","editFilter","filter","record","valueSelectWindow","rs_editFilter","show","selvalues","param","value","code","editorItemName","itemname","_inpEdt$","queryMode","displayField","valueField","editable","autoSelect","hidden","$l_","change","l_tr","tval","bext","labelWidth","use_expr","setDisabled","anchor","fieldDefaults","autowidth","sortable","grid","rowIndex","colIndex","getAt","removeAt","viewConfig","stripeRows","ddGroup","beforedrop","dropRec","dropPosition","dropFunction","rc","records","typename","copy","panel","indexOf","drop","itemdblclick","index","event","Option","hideLabel","allowBlack","stateful","clickToEdit","labelField","isvalue","ev","op","edit","evalue","column","trim12","pack","ri","getSelection","remove","insert","defaultType","$h","plain","checked","nvalue","ovalue","eOpt","minValue","maxValue","allowDecimals","decimalPrecision","step","eOpts","t_format","d_format","menu","objectinfo","getMeasures","dlg","multiMeasure","mitem","vmode","reg_measures","cindex","edit_customfield","setTimeout","custommetric","isWindow","cubepath","p$DbMeta","bodyPadding","_init","_loadDbMeta","refresh","checkSelector","td","cellIndex","tbfield","ttbname","tb","mreq","selected","opt","target_folder","tables","jobkey","showScheduler","tableManager","v$pnl","mcnt","getLCnt","_ds","datasource","refLCnt","_mc","highlight","getCnt","sel_db","refRoot","rnode","cube_tree","leaf","__stagingdb","setRootNode","getRootNode","expand","refCnt","ds","dbo","setText","dbtype","targetdb","options","sf_targetdb","essbase_targetdb","sapbw_targetdb","ws_targetdb","excel_loader","custom_click_func","ltype","_s1","load_fields","_load_cubemodel","custom_expand_func","isRoot","childNodes","removeAll","_load_dataset","mpanel","obj_uid","cubemodel","m$CubeModel","load_fields_grid","uitem","snodes","file_field","seq_field","allow_insert","grdfields","iconcls","get_metatype_icon","subitem","physical_name","attributes","attrb3","datatype","get_datatype","attrb4","sortMeta","appendChild","nodetype","tb_info","getLayout","setActiveItem","hide","_s1c","external_name","attrb2","edit_dimension","mp","createItem","b_topfolder","snode","_createMetaObject","isexpand","tbarHndlr","cmd","sop","stype","saveCnt","extrDbMeta","checkTargetFolder","cube_object_select","registerSelectedTable","dbpool","sqlcube_wizard","wmode","sheetoption","rsInlineView","bobj_datasource","bobj_uid","metaExpDlg","meta","build_model","rename_tool","relationMgr","isdown","dlgLoadPreview","table","reg_links","batchUpdateSchema","saveFields","dlg_compare_field","schema","dval","dmap","rmap","payloads","status","changedprop","deleteFields","showHighlightOptions","showSecurityFilter","targetobj","oname","address","join","rawuid","rawtype","securityfilter","pop","securityFilter","mgrUserDuty","_userAuth","x","sid","clFilterGroup","auth","active","showSecurityFilterEditor","isnewitem","filterEditorWindow","model","cube_object","reportoption","fitem","confirmMessages","dlg_schemaname","topt","pvalue","$d_hlconfig","_piobj","dlg_select_ds","sel_mode","bsave","attrb1","rdata","scontent","schemaname","dimension","tablename","db_datatype","_refresh_grid","refreshAll","_updIV","ShowError","s","st","CopyObject","pitem","formula","isNumericType","formula_desc","metaitems","mfolder","pcube","rs_reg_measures","multiRename","rs_saveRegMeasures","cname","cdiv","ditems","cuid","XGetAttr","j","cloc","measurename","xdoc","rtype","pool","_c$","product_code","object_type","refreshTree","naviTree","showtoolbar","enabledrag","_search","isdatasource","toolbar","html","labelAlign","disabled","enableDrop","enableDrag","hideable","header","menuDisabled","renderer","deleteMetaObject","beforeedit","eopts","enabled","__dbtype","colIdx","dockedItems","dock","enableKeyEvents","keyup","keyCode","_dofilter","features","bbar","tooltipType","refreshFields","msg","propdesc","has_remove","dgrid","avalue","dbs","dsource","_pull","id","cb_dbtype","paddingY","dbtype_val","loadRelation","grd","lreq","detail","grd_rel","txtrel","minHeight","minWidth","metadata","png_rel_sub","measureEditor","expressionChange","cpath","mpath","splice","measure_filter","exptype","expressiontype","HierarchyEditor","display_type","moveGridSelection","direction","getStore","getCount","grd_data","formulaEditor","r_confirm","codeMappingPanel","rfilter1","rfilter2","rfilter3","_sel_table","cbfield","cbcodefield","cbsortfield","c_viewmode","rftb1","rftxt1","rftb2","rftxt2","rftb3","rftxt3","rftc1","rftc2","rftc3","fname","fcname","fsname","tname","edited","loadContent","codetableuid","loadField","rs_loadField","cf1","cv1","cs1","mcval","f","fval","fpath","fop","ival","iop","ctrlfield","ctrlcodefield","ctrlsortfield","cf","cv","cs","viewmode","substring","operatordp","filteropcodes","key","locale","checkboxToggle","d_m","collapsed","test","collapse","metricEditor","optremoveblank","usegeocode","metric","enable_geocode","mask","pattern","pattern_replace","aes_pp","lastIndexOf","dateitems","rpt_meta_type","rs_saveCnt","formulas","rs_loadItemContent","loadItemContent","applyItemInfo","optsortitemname","optdispitemname","optcommentitemname","masktype","opt_sort_item","opt_disp_item","opt_comment_item","grd_measures","folderItems","rs_cubeSelectedHandler","customstyles","pitmes","mpattern","mpattern_rep","patterns","pt","pitems","pb1","aes_passph","geoMapping","in$t","georeqtype","geo_encoding","getValueList","rs_getValueList","result","_ICd","geoEncode","row","action","rs_geoEncode","res","geo","XGetNode","XGetChildNodes","geocoder","_I19","XGetTextVal","Base64","decode","getGeoCode","lat","lng","updateGeoData","geosql","sql","rs_updateGeoData","cubeStyle","globalstyle","globalstylemap","styleinfo","loadGlobalStyle","rs_loadGlobalStyle","mnode","themes","bsds","nodenames","theme_id","basestylename","loadLocalStyle","cstree","unode","stylelist","ltree","c_cset","custom","expanded","editStyleItem","form_header","form_data","commitStyleItem","_edtItem","_valForm","loadStyleData","nname","updateStyleData","toolbarHandler","makeStyle","rs__appendCustomStyle","srec","params","robj","urecord","rootnode","nodename","nrecord","_record","_appendNode","formHeader","styleEditor","htype","formData","copt","__chartoption","chartcolors","preventHeader","rootVisible","hideHeaders","root","folderSort","useArrows","getClass","isLeaf","itemclick","bs","alias_map","_aliasLoaded","curnode","cursop","_getDB","poolname","fschema","svalue","username","dvalue","schemas","_isValid","foolonly","_searchTb","src_keyword","sname","_getTable","keyword","db_uid","search","rs__getTable","b_content","allow_insert_desc","_regTables","reverse","lrec","grid_sc","grid_st","typeAhead","forceSelection","component","_key","_addFilter","authname","gridduty","authSet","seqids","loadSecurityFilter","mindex","multiSelect","fnodes","onode","zoom","groupview","relations","fixKeyMode","m$TblObj","joins","source","target","ranged","prototype","stageX","bbox","box","left","pobj","scrollPanel","offset","top","innerGrid","body","dom","stageY","bdom","sobj","skey","m","getHeight","bodyWidth","getWidth","bodyHeight","getXML","cubeModelViewer","viewer","dialog","links","zoomRatio","lineMode","_mouseActionPoint","container","css","position","bottom","right","overflow","appendTo","paint","j$ext","_w","_h","backgroundColor","appendScrollBar","droppable","allowDrop","bind","validateSize","level","nzoom","transform","transform-origin","el","dropZone","create","dropzone","nodeouttimer","getTargetFromEvent","px","browserEvent","pageX","clientX","py","pageY","clientY","getRendererByPoint","notifyOut","dd","lastOverNode","onNodeOut","isDragging","hideDropFeedback","accept","pivotmove","sheetobj","clearTimeout","onNodeEnter","cellData","onNodeOver","ret","Ext","DropZone","dropAllowed","dropNotAllowed","onNodeDrop","onDropRecord","focusTable","boff","doff","$ex","_psel","$view","removeClass","addClass","animate","scrollTop","Math","max","scrollLeft","scrollbar","rcanvas","Raphael","_ca","scrollHandler","y","w_o6","w_o5","h_o6","h_o5","h_container","h_scrollPanel","a","scrollpanel","dx","dy","clearAll","empty","validateTimer","validateSizeProc","w","h","setViewBox","setSize","validateLinks","addBox","main","b","tableBox","collapsePanel","_mcfixKeyMode","addLink","fobj","link","l","fromobj","toobj","LinkField","removeTbl","c1","bl","updateUsedTable","validateTables","validateJoins","tbbox","owner","theight","renderTo","draggable","minimizable","alwaysFramed","cpa","fixKeyVal","g_key","_loadModel","mtb","stables","_loadField","tbl","_tables","jnode","alias","iskey","allowDrag","tableuid","col","gfields","gkeys","hasjoin","g_fields","hnode","gh","bf","getView","getNode","min","adjHeight","mh","setHeight","searchField","__s","searchFlt","gs","clearFilter","filterBy","gname","ownerCt","scroll","enableDragDrop","enableDD","ffield","tfield","onDropField","afterScroll","enableColumnHide","checkedAll","cls","checkchange","headerclick","ct","scrollershow","scroller","orientation","grid1","loadTableContent","previewSQL","m_disp","resize","owidth","oheight","startmove","config","move","setPosition","_fromDir","_toDir","validateDirection","z","fo","to","fow","tow","showLinkEditor","linkEditor","rs_showLinkEditor","updateJoinFields","_i","p1","p2","p3","p4","_cp","nlinks","thickness","stroke","stroke-width","fill","opacity","btype","iz","fromdirection","todirection","p1dist","lineInterpolate","path","attr","gap","bobj","ldesc","cspan","preventDefault","stopPropagation","linkFieldEditor","_target","joinobj","_curLink","selR","btn_upd","__i","sfield","oprel","getDispName","removeLink","mfound","bfound","curLink","plinks","confirmChanges","editField","issource","newValue","oldValue","$w","desc","cobj","cval","op_desc","CubeModel","collapseFirst","collapsible","animFloat","autoHide","useSplitTips","initialized","overflowX","overflowY","load_content","checkLock","rs_load_content","loadPool","updatePoolInfo","tarr","mnodes","db","charAt","tbnames","b_onload","b_last","o","tmc","nsname","ntname","nfield","mbox","pw","ph","tablemap","mRel","s0","t0","s1","t1","s2","t2","r0","sdesc","tdesc","et","getX","getY","updateModel","tboffset","_tmc","_smc","rel","mainoffset","joinkeys","source_field_formula","target_field_formula","copyObject","newitem","fireEvent","fnode","src","tgt","saveAsContent","auto_join","beutify_diagram","dlgTableOrder","loadDatabaseTable","key1","key2","njoins","_cnames","get_auto_join","JoinRec","k1","k2","sjoin","mjoin","clength","has_id_field","targetmc","tbmc","treeitem","relation","trees","isolated_tbs","tablesmap","parent","childnodes","jointable","fact_table","gather_join_tables","update_table_hierarchy","mpos","max_h","update_position","tree","pmap","sort","n1","update_linklist","jtable","pnode","mx","my","mtable","srelation","stable","rs_loadDatabaseTable","used","afterclose","saveNewContent","_r_join","cmodel","rels","searchRelationship","txt_rel","val","rs_custom_click_func","isclick","n$navTreeCom","showCustomMenu","customMenu","itemaddr","itemuid","manageable","_gitemname","_renameMetaObject","showcheckselect","tpl","tools","eopt","p_joins","isVisible","beforeclose","grd_tables","sortindex","changeOrder","mgrid","sm","dataset","passwd","tb_mc","err_load_content","dkey","headers","dnode","inline_data","cols","dataview","umap","delimiter","mapping","reconfigure","jsrc","jtgt","gmain","stableuid","ttableuid","ttable","background","gridduty_sel","loadDutyList","rs_loadDutyList","duty","duties","duties_sel","moveDuty","grd_source","grd_target","codemapping","i_cset_g","displabel_c","p_1a","p_1","dtype","sql_data","static_data","i_cdata","i_cset","checkboxCmp","color","displabel","_getDsource","cbdatasource","dlgLogin","jS2","_getMeta","revision","pname","_applyMeta","_applyVal","_moveGrdSel","p_3_data","mdlgmode","cp","_fdata","measureview","clocation","tmpl","m_f","_r","_c","mname","ritem","_parentpath","citems","createstructure","fieldid","expression_type","calcmode","_getfmtvalue","mf","cfunc","fvalue","mvalue","cvalue","_fmt_formu","COUNT","COUNT_DISTINCT","COUNT DISTINCT","SUM","MIN","MAX","AVG","apply_template","measure_naming","columnLines","triggerAction","selectOnTab","lazyRender","listClass","fbar","customstyle","measures","formatvalue","nformat","rs_rename_tool","orig_filename","photo","mform","__cprog","getRawValue","getForm","document","charset","submit","url","servlet","waitMsg","success","fp","errorReader","jsonData","clearValue","processUploadedFile","apply_template_final","fileuid","__dict","sval","line","renamemask","remove_underline","pwords","pwordsmap","kmap","cc","_g$a","msgTarget","buttonText","buttonConfig","margin","m2ER","d$QryTool","updateChanges","columngrid","sqloption","sqlquery","dataoption","datadelimiter","coldelimiter","valuetype","confirmDialig","rs_loadPool","ctrlpool","ctrlquerytype","XGetAttrProp","getMetaInfo","method","rs_getMetaInfo","results","delim","gcols","storecolumn","maxHeight","lpanel","getAllValues","setAllValues","validateQuery","multimetric","objinfo","selection","CheckboxModel","storeContent","appendSelection","removeSelection","updateValues","bclose","mdata","getElementContent","XUpdateInfo","rs_storeContent","buildCube","rs_buildCube","ppnode","datanode","refreshContent","rs_refreshContent","sequence","updateTreeNode","appendElementTree","childs","nodeid","nodetext","mtree","appendNodeElement","subchilds","rowindex","rs_updateTreeNode","elemtree","rebuildTree","ks","pvaluedesc","pvalues","ncell","nmax","Number","isNaN","valuedesc","removeSelectedRow","removeChild","multiMeasureEditor","edt","CMolapMeasure","measuretype","baseItem","parseMeasure","isDisinct","hasChildNodes","child","nodevalue","getMeasureXML","baseitem","multimeasure","constructor","layoutConfig","measureObj","selectCombo","pivotSelectionChangedHandler","selvalue","resetMeasureUI","metricSelectedHandler","baseItemField1","form","TextField","stabcontainer","Container","afterlayout","addPivotSelectHandler","selectBoxAdded","tindex","stab","_udgeditor","rs_loadCnt","groupdata","targetitem","usesum","expandall","othervalues","_updateTreeNode","_getBO","rs_getBO","udgtree","_updateStoreTree","_save","_appendSel","_removeSel","_removeSelRow","treedata","_buildNode","tarray","dfilter","udgtype","cell","parentNode","insertChild","_selItem","_updateValues","udgValSel","_loadExternal","selmode","syntax","singleExpand","celldblclick","tr","udgGroupName","seldatas","smode","_viewmode","_$valsel","d$ValSel","prompt"],"mappings":"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","file":"../../../../../../igcn.min.js","sourcesContent":["IG$.$expr = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\t\r\n\tinit_view: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tctrl;\r\n\t\t\t\r\n\t\tfor (i=0; i < 10; i++)\r\n\t\t{\r\n\t\t\tctrl = me.down(\"[name=op\" + (i+1) + \"]\");\r\n\t\t\t\r\n\t\t\tif (ctrl)\r\n\t\t\t{\r\n\t\t\t\tctrl.addEventListener(\"click\", function() {\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tcommit_f: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (!me.validate_expression())\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tme.callback && me.callback.execute();\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tvalidate_expression: function() {\r\n\t\tvar r = 0;\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:\"padding:10px\"},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELDS\"), // \"Fields\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FUNCTIONS\"), // \"Functions\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\thidezoom: true,\r\n\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"+\",\r\n\t\t\t\t\t\t\t\t\tname: \"op1\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"-\",\r\n\t\t\t\t\t\t\t\t\tname: \"op2\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"*\",\r\n\t\t\t\t\t\t\t\t\tname: \"op3\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"/\",\r\n\t\t\t\t\t\t\t\t\tname: \"op4\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"%\",\r\n\t\t\t\t\t\t\t\t\tname: \"op5\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"()\",\r\n\t\t\t\t\t\t\t\t\tname: \"op6\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: \"//(comment)\",\r\n\t\t\t\t\t\t\t\t\tname: \"op7\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"L_VALIDATE\"), // \"Validate\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.validate_expression();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.commit_f();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\tthis.init_view();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.$expr.superclass.initComponent.call(this);\r\n\t}\r\n});","IG$.datemetric = $s.extend($s.window, {\r\n\tmodal: false,\r\n\tregion:'center',\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 580,\r\n\theight: 480,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tdatediv = me.down(\"[name=datediv]\");\r\n\t\t\r\n\t\tme.setTitle(IRm$.r1('T_DM') + (me.name ? \" (\" + me.name + \")\" : \"\"));\r\n\t\t\r\n\t\tif (!IG$.datemetric._datetypes)\r\n\t\t{\r\n\t\t\tIG$.datemetric._datetypes = [\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_YEAR'), \r\n\t\t\t\t\tname: 'YYYY'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_QUARTER'),  \r\n\t\t\t\t\tname: 'QUARTER'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_MONTH'), \r\n\t\t\t\t\tname: 'MM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_DAY'),  \r\n\t\t\t\t\tname: 'DD'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_WEEKMONTH'),  \r\n\t\t\t\t\tname: 'WM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_WEEK'),  \r\n\t\t\t\t\tname: 'WEEK'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_AMPM'), \r\n\t\t\t\t\tname: 'AMPM'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_HOUR'),  \r\n\t\t\t\t\tname: 'HH'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tlabel: IRm$.r1('B_MINUTE'),  \r\n\t\t\t\t\tname: 'MI'\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\t\t\r\n\t\tme.datetypes = [];\r\n\t\t\r\n\t\tfor (i=0; i < IG$.datemetric._datetypes.length; i++)\r\n\t\t{\r\n\t\t\tme.datetypes.push({\r\n\t\t\t\tname: IG$.datemetric._datetypes[i].name,\r\n\t\t\t\tlabel: IG$.datemetric._datetypes[i].label\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tdatediv.store.loadData(me.datetypes);\r\n\t\t\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.procLoadContent();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: {\r\n\t\t\t\t\tmeta_type: \"date_dimension\"\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tprocLoadContent: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: this.uid},\r\n\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tmobj,\r\n\t\t\tcbox,\r\n\t\t\trel_items;\r\n\t\t\r\n\t\tme.down(\"[name=itemname]\").setValue(jdoc.name);\r\n\t\tme.down(\"[name=description]\").setValue(jdoc.description);\r\n\t\t\r\n\t\tmobj = me.mobj = jdoc.content;\r\n\t\t\r\n\t\trel_items = mobj.rel_items;\r\n\t\t\r\n\t\tcbox = me.down(\"[name=rg_dateformatting]\");\r\n\t\tcbox.setValue({dateformatting: (mobj.issql ? \"sqlfunc\" : \"formatting\")});\r\n\r\n\t\tme.down(\"[name=dateformat]\").setValue(mobj.dateformat || \"\");\r\n\t\tme.down(\"[name=fieldname]\").setValue(rel_items && rel_items.length ? rel_items[0].name : \"\");\r\n\t\t\r\n\t\tif (!mobj.cubeuid)\r\n\t\t{\r\n\t\t\tme.getCubeInfo();\r\n\t\t}\r\n\t\telse if (me.uid)\r\n\t\t{\r\n\t\t\tme.loadSubCnt();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetCubeInfo: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getCubeInfo(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getCubeInfo: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tme.mobj.cubeuid = tnode.uid;\r\n\t\t\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.loadSubCnt();\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadSubCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: this.uid},\r\n\t\t\t\tmbody: {subfolder: \"T\", itemtype: \"CustomMetric\", readcontent: \"T\"}\r\n\t\t\t}, me, me.rs_loadSubCnt, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadSubCnt: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnodes = jdoc.children || [],\r\n\t\t\ti,\r\n\t\t\tsitem, smeta,\r\n\t\t\tmobj = me.mobj,\r\n\t\t\tdatediv = me.down(\"[name=datediv]\"),\r\n\t\t\tselmodel = datediv.getSelectionModel(),\r\n\t\t\tcnode, custominfo = {},\r\n\t\t\tsubitems = {},\r\n\t\t\tk, v;\r\n\t\t\r\n\t\tselmodel.clear();\r\n\t\t\r\n\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t{\r\n\t\t\tsmeta = tnodes[i];\r\n\t\t\tsitem = tnodes[i].content;\r\n\t\t\tif (sitem)\r\n\t\t\t{\r\n\t\t\t\tcustominfo[sitem.datedivision] = sitem;\r\n\t\t\t\t\r\n\t\t\t\tif (sitem.datedivision == \"CUSTOM\")\r\n\t\t\t\t{\r\n\t\t\t\t\tme.down(\"[name=customdatetype]\").setValue(sitem.customdatetype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.custominfo = custominfo;\r\n\t\t\r\n\t\tfor (i=0; i < datediv.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tk = datediv.store.data.items[i];\r\n\t\t\tv = custominfo[k.get(\"name\")];\r\n\t\t\tif (v)\r\n\t\t\t{\r\n\t\t\t\tselmodel.select(k, true);\r\n\t\t\t\tk.set(\"itemname\", v.name);\r\n\t\t\t\tk.set(\"syntax\", v.expression);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t/*\r\n\tlayoutFormItems: function() {\r\n\t\tvar me = this,\r\n\t\t\tmval = me.down(\"[name=dateformatting]\").getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\tex_format1 = me.down(\"[name=ex_format1]\"),\r\n\t\t\tex_format2 = me.down(\"[name=ex_format2]\"),\r\n\t\t\ti, item;\r\n\t\t\r\n\t\tfor (i=0; i < ex_format1.menu.items.length; i++)\r\n\t\t{\r\n\t\t\titem = ex_format1.menu.items.items[i]; \r\n\t\t\titem.setVisible(!item.issql || (item.issql == true && issql == true));\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < ex_format2.menu.items.length; i++)\r\n\t\t{\r\n\t\t\titem = ex_format2.menu.items.items[i]; \r\n\t\t\titem.setVisible(!item.issql || (item.issql == true && issql == true));\r\n\t\t}\r\n\t},\r\n\t*/\r\n\t\r\n\tclosedlg: function() {\r\n\t\tthis.close();\r\n\t\tthis.callback && this.callback.execute();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tfieldname = me.down(\"[name=fieldname]\");\r\n\t\t\r\n\t\tfieldname.clearInvalid();\r\n\t\t\r\n\t\tif (!me.mobj)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!fieldname.getValue())\r\n\t\t{\r\n\t\t\tfieldname.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tme.mobj.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tme.mobj.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tvar i,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdatemap = {},\r\n\t\t\tndateitems = [],\r\n\t\t\tditems,\r\n\t\t\tditem,\r\n\t\t\tdateformatting = me.down(\"[name=dateformatting]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tmval = dateformatting.getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tmobj.issql = issql; \r\n\t\tmobj.dateformat = dateformat.getValue();\r\n\t\tmobj.database_type = \"auto\";\r\n\t\tdateformat.clearInvalid();\r\n\t\t\r\n\t\tif (!issql && !mobj.dateformat)\r\n\t\t{\r\n\t\t\tdateformat.markInvalid(IRm$.r1(\"B_REQ\"));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar req = new IG$._rpc$();\r\n\t\t\r\n\t\tme.setLoading(true);\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: mobj.name, description: mobj.description, type: me.itemtype || mobj.type, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + mobj.name : null)},\r\n\t\t\t\tmbody: mobj,\r\n\t\t\t\tmeta_type: \"date_dimension\"\r\n\t\t\t}, me, me.rs_writeCnt);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_writeCnt: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdatediv = me.down(\"[name=datediv]\"),\r\n\t\t\tdaterecs = {},\r\n\t\t\tdname, dispname, iname,\r\n\t\t\ti,\r\n\t\t\taddr = [],\r\n\t\t\tcnt = [],\r\n\t\t\tn = 0,\r\n\t\t\titem,\r\n\t\t\tmobj = me.mobj,\r\n\t\t\tcustominfo = me.custominfo,\r\n\t\t\tmval = me.down(\"[name=dateformatting]\").getGroupValue(),\r\n\t\t\tissql = (mval == \"sqlfunc\" ? true : false),\r\n\t\t\titem;\r\n\t\t  \r\n\t\tif (!me.uid)\r\n\t\t{\r\n\t\t\tme.uid = jdoc.uid;\r\n\t\t}\r\n\t\tcustominfo = me.custominfo = me.custominfo || {};\r\n\t\t\r\n\t\tfor (i=0; i < datenames.length; i++)\r\n\t\t{\r\n\t\t\tdatenames[i].rname = datenames[i].rname || datenames[i].name;\r\n\t\t\tdatenames[i].dname = IRm$.r1('B_' + datenames[i].rname);\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < datediv.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tdaterecs[datediv.store.data.items[i].get(\"name\")] = datediv.store.data.items[i]; \r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < datenames.length; i++)\r\n\t\t{\r\n\t\t\tdname = datenames[i].name;\r\n\t\t\tdispname = datenames[i].dname || dname;\r\n\t\t\tcdatetype = \"\";\r\n\t\t\tif (daterecs[dname] && daterecs[dname].get(\"checked\"))\r\n\t\t\t{\r\n\t\t\t\titem = custominfo[dname];\r\n\t\t\t\tdispname = daterecs[dname].get(\"itemname\") || (item ? item.name || dispname : dispname);\r\n\t\t\t\t\r\n\t\t\t\tif (dname == \"CUSTOM\")\r\n\t\t\t\t{\r\n\t\t\t\t\tcdatetype = me.down(\"[name=customdatetype]\").getValue();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\taddr.push({\r\n\t\t\t\t\tuid: (item && item.uid ? item.uid : mobj.nodepath + \"/\" + dispname),\r\n\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\tname: dispname,\r\n\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\toverwrite: \"T\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\titem = {\r\n\t\t\t\t\tuid: (item && item.uid ? item.uid : mobj.nodepath + \"/\" + dispname),\r\n\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\tname: dispname,\r\n\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\trel_items: []\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tcnt.push(item);\r\n\t\t\t\t\r\n\t\t\t\tif (mobj.rel_items && mobj.rel_items.length)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.rel_items.push({\r\n\t\t\t\t\t\tuid: mobj.rel_items[0].uid,\r\n\t\t\t\t\t\tname: mobj.rel_items[0].name,\r\n\t\t\t\t\t\tnodepath: mobj.rel_items[0].nodepath || \"\",\r\n\t\t\t\t\t\ttype: \"Metric\"\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\titem.rel_items.push({\r\n\t\t\t\t\t\tuid: mobj.uid,\r\n\t\t\t\t\t\tname: mobj.name,\r\n\t\t\t\t\t\tnodepath: mobj.nodepath,\r\n\t\t\t\t\t\ttype: mobj.type\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t$s.defaults(item, {\r\n\t\t\t\t\tdatedivision: dname.toUpperCase(),\r\n\t\t\t\t\tdateformat: mobj.dateformat,\r\n\t\t\t\t\tpredefinetype: (issql == true ? \"DATE\" : \"\"),\r\n\t\t\t\t\tcustom_type: (issql == true ? \"CUSTOM_FIELD\" : \"PREDEFINED_FIELD\"),\r\n\t\t\t\t\tcustomdatetype: cdatetype,\r\n\t\t\t\t\tsorttype: \"NUMBER\",\r\n\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tdaterecs[dname].set(\"itemname\", item.name);\r\n\t\t\t\t\r\n\t\t\t\tif (issql)\r\n\t\t\t\t{\r\n\t\t\t\t\titem.expression = me.getCustExpr(dname); // daterecs[dname].get(\"syntax\") ||\r\n\t\t\t\t\tdaterecs[dname].set(\"syntax\", item.expression);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t\telse if (custominfo[dname])\r\n\t\t\t{\r\n\t\t\t\titem = custominfo[dname];\r\n\t\t\t\taddr.push({\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name,\r\n\t\t\t\t\tnodepath: item.nodepath,\r\n\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tcnt.push({\r\n\t\t\t\t\t\r\n\t\t\t\t});\t\r\n\t\t\t\tn++;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (n > 0)\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\tpayload: addr,\r\n\t\t\t\t\tmbody: {\r\n\t\t\t\t\t\titems: cnt\r\n\t\t\t\t\t}\r\n\t\t\t\t}, me, me.rs_updateDateCnt);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.setLoading(false);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateDateCnt: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.setLoading(false);\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\r\n\t\tme.callback && me.callback.execute(me.mobj);\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tgetCustExpr: function(div) {\r\n\t\tvar me = this,\r\n\t\t\tr = \"\",\r\n\t\t\tdbtype = \"auto\", // me.mobj.objinfo.dbtype,\r\n\t\t\tdname = div.toLowerCase(),\r\n\t\t\tdbformat = IG$.sqlDateFormat,\r\n\t\t\tdateformat = this.down(\"[name=dateformat]\").getValue(),\r\n\t\t\tdfield = \"\";\r\n\t\t\r\n\t\tif (dbformat && dbformat[dname])\r\n\t\t{\r\n\t\t\tr = dbformat[dname];\r\n\t\t\t\r\n\t\t\tdfield = \"[\" + me.mobj.rel_items[0].name + \"]\";\r\n\t\t\t\r\n\t\t\tif (dateformat == \"EPOCH\")\r\n\t\t\t{\r\n\t\t\t\tdfield = \"FROM_UNIXTIME(\" + dfield + \")\";\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tr = r.replace(/_date_/g, dfield);\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tselectField: function() {\r\n\t\tvar me = this,\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\tvisibleItems: 'folder;metric;table;custommetric;measuregroupdimension',\r\n\t\t\ttree_options: {\r\n\t\t\t\tcubebrowse: true,\r\n\t\t\t\trootuid: mobj.cubeuid\r\n\t\t\t},\r\n\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler)\r\n\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(item) {\r\n\t\tvar me = this,\r\n\t\t\tmobj = me.mobj;\r\n\t\t\r\n\t\tmobj.rel_items = [\r\n\t\t\t{\r\n\t\t\t\tuid: item.uid,\r\n\t\t\t\tname: item.name\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tme.down(\"[name=fieldname]\").setValue(item.name);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\t\r\n\t\tme.title = IRm$.r1('T_DM');\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tlayout: \"fit\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_DATE_TYPE\"), // \"Date Type\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"rg_dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\tvertical: true,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_FORMATTING\"), // \"Date Formatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputValue: \"formatting\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_SQL_FUNC\"), // \"SQL Functions\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformatting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputValue: \"sqlfunc\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tchange: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.layoutFormItems();\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_INPUT_FORMAT\"), // \"Input Format\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"fieldname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"btn_search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectField();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql = me.down(\"[name=dateformatting]\").getGroupValue() == \"sqlfunc\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.show_tmpl_hlp(this, \"dateformat\", \"dateformat\", issql);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"ex_format1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"DATE\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"DATE\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"DATETIME\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"DATETIME\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"TIMESTAMP\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"TIMESTAMP\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"EPOCH time value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EPOCH\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tissql: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1('L_GROUP_LEVEL'),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datedivision\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tborder: 0\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datediv\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"label\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 230,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"label\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ITEMNAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"syntax\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(view, node, c, rec, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (c == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustominfo = me.custominfo,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmc;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (custominfo && custominfo[rec.get(\"name\")])\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmc = custominfo[rec.get(\"name\")];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (mc.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar mainpanel = IG$.mainPanel,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tctype = mc.type.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (mainpanel && mc.writable)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmainpanel.navigateApp.call(mainpanel, mc.uid, ctype, mc.name, mc.nodepath, true, mc.writable);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1('B_CUSTOM'),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetypecontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetype\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.show_tmpl_hlp(this, \"dateformat\", \"dateformat\", false);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"ex_format2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.init_f();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.datemetric.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.customMetricInner = $s.extend($s.formpanel, {\r\n\tbodyBorder: false,\r\n\t\r\n\tlayout: \"fit\",\r\n\t\t\r\n\tloadedItem: {},\r\n\t\r\n\tchangeDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdt = optdateformat.getValue();\r\n\t\t\t\r\n\t\tdateformat.setValue(dt);\r\n\t},\r\n\t\r\n\t_upd_ui: function(sel) {\r\n\t\tvar me = this,\r\n\t\t\tn = 1,\r\n\t\t\ti, ctrl;\r\n\t\t\r\n\t\tif (sel)\r\n\t\t{\r\n\t\t\tswitch (sel)\r\n\t\t\t{\r\n\t\t\tcase \"CUSTOM_FIELD\":\r\n\t\t\t\tn = 1;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"GROUP_FIELD\":\r\n\t\t\t\tn = 2;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"PREDEFINED_FIELD\":\r\n\t\t\t\tn = 3;\r\n\t\t\t\tme.updateDateFormat();\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"GEO_FIELD\":\r\n\t\t\t\tn = 4;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"RANGE_FIELD\":\r\n\t\t\t\tn = 5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"LINK_FIELD\":\r\n\t\t\t\tn = 6;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"PARENT_CHILD_NODES\":\r\n\t\t\t\tn = 7;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"SUB_QUERY\":\r\n\t\t\t\tn = 8;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tfor (i=1; i < 9; i++)\r\n\t\t\t{\r\n\t\t\t\tctrl = me.down(\"[name=pconfig\" + (i) + \"]\");\r\n\t\t\t\tctrl[(i == n || (n==6 && i==1) || (n==8 && i==1)) ? \"show\" : \"hide\"]();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tcustom_type = me.down(\"[name=custom_type]\");\r\n\t\t\t\r\n\t\toptdateformat.on(\"change\", \r\n\t\t\tfunction(field, newvalue, oldvalue, opts) {\r\n\t\t\t\tme.changeDateFormat.call(me);\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t\tcustom_type.on(\"change\", function(field, newvalue, oldvalue) {\r\n\t\t\tvar custom_type = me.down(\"[name=custom_type]\"),\r\n\t\t\t\tsel = custom_type.getValue();\r\n\t\t\t\t\r\n\t\t\tme._upd_ui(sel);\r\n\t\t});\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.meta_type = \"custom_dimension\";\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: me.dmode_cnt\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\tpayload: {uid: me.parentuid},\r\n\t\t\t\t\t\tmbody: {option: \"cube_style_info\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\t\tcubeinfo: jdoc,\r\n\t\t\t\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tstyles = [],\r\n\t\t\ti, item = jdoc.content,\r\n\t\t\tcubeinfo = item.cubeinfo,\r\n\t\t\toptsortdir = me.down(\"[name=optsortdir]\"),\r\n\t\t\toptsorttype = me.down(\"[name=optsorttype]\"),\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\");\r\n\t\t\r\n\t\tif (!cubeinfo)\r\n\t\t{\r\n\t\t\tcubeinfo = item.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tme.clItem = item;\r\n\t\t\r\n\t\tme.wd && me.wd.down(\"[name=b_confirm]\") && me.wd.down(\"[name=b_confirm]\").setVisible(item.writable || me.dmode);\r\n\t\t\r\n\t\tme.down(\"[name=itemname]\").setValue(item.name);\r\n\t\tme.down(\"[name=description]\").setValue(item.description);\r\n\t\t\r\n\t\toptsortdir.setValue({cb_sortdir: [(item.sortorder || \"\")]});\r\n\t\toptsorttype.setValue({cb_sorttype: [(item.sorttype || \"\")]});\r\n\t\t\r\n\t\tme.down(\"[name=optremoveblank]\").setValue(item.removeblank);\r\n\t\tme.down(\"[name=isdatetype]\").setValue(item.isdatetype);\r\n\t\tme.down(\"[name=dateformat]\").setValue(item.dateformat);\r\n\t\tme.down(\"[name=opt_dateformat]\").setValue(item.dateformat);\r\n\t\tme.down(\"[name=t_dateformat]\").setValue(item.datecustom);\r\n\t\t\r\n\t\titem.rel_items = item.rel_items || [];\r\n\t\t\r\n\t\titem.grouping = item.grouping || {};\r\n\t\t\r\n\t\titem.link_option = item.link_option || {};\r\n\t\t\r\n\t\t$s.defaults(item.grouping, {\r\n\t\t\tgroupmin: 0,\r\n\t\t\tgroupmax: 0,\r\n\t\t\tstepinterval: 10,\r\n\t\t\tgroupminlabel: \"Under %MIN\",\r\n\t\t\tgroupmaxlabel: \"Over %MAX\",\r\n\t\t\tgrouplabel: \"%MIN - %MAX\",\r\n\t\t\tgroupformat: \"#,###\"\r\n\t\t});\r\n\t\t\r\n\t\t$s.defaults(item.link_option, {\r\n\t\t\tl_tp: \"DRILL\",\r\n\t\t\tl_nm: null,\r\n\t\t\tl_elnk: null,\r\n\t\t\tl_elnk_tgt: null,\r\n\t\t\tl_rpt_name: null,\r\n\t\t\tl_rpt_uid: null,\r\n\t\t\tl_rpt_tmpl: null\r\n\t\t});\r\n\t\t\r\n\t\tstyles.push({disp: \"--- select ---\", name: \"\", type: \"\"});\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\tcubeinfo = item.cubeinfo;\r\n\t\tdelete item[\"cubeinfo\"];\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tdisp: t.name,\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\toptstyle.store.loadData(styles);\r\n\t\toptstyle.setValue(item.stylename || \"\");\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.rs_getParentcube();\r\n\t\t}\r\n\t\t\r\n\t\tif (item.link_option.l_rpt_uid)\r\n\t\t{\r\n\t\t\tme.loadTemplate(item.link_option.l_rpt_uid);\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadTemplate: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: uid},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tenode = jdoc.content && jdoc.content.export_option ? jdoc.content.export_option.otmpl : null,\r\n\t\t\t\t\tenodes, i, p,\r\n\t\t\t\t\tl_rpt_tmpl = me.down(\"[name=l_rpt_tmpl]\"),\r\n\t\t\t\t\tdp = [{disp: \"Select Item\", seq: \"\"}];\r\n\t\t\t\t\r\n\t\t\t\tif (enode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < enode.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = enode[i];\r\n\t\t\t\t\t\tp.disp = p.name + (p.description ? \"-\" + p.description + \" \" : \" \") + (p.export_type ? \"(\" + p.export_type + \")\" : \"\");\r\n\t\t\t\t\t\tp.seq = \"\" + i;\r\n\t\t\t\t\t\tdp.push(p);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tl_rpt_tmpl.store.loadData(dp);\r\n\t\t\t\tl_rpt_tmpl.setValue(citem && citem.link_option ? citem.link_option.l_rpt_tmpl || \"\" : \"\");\r\n\t\t\t\t\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tupdateDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\tfields = (me.clItem) ? me.clItem.fields : null,\r\n\t\t\tcustom_type = me.down(\"[name=custom_type]\"),\r\n\t\t\tsel = custom_type.getValue(),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\ti;\r\n\t\t\t\r\n\t\tif (fields && fields.length > 0 && sel && sel == \"PREDEFINED_FIELD\")\r\n\t\t{\r\n\t\t\tif (me.loadedItem && me.loadedItem[fields[0].uid])\r\n\t\t\t{\r\n\t\t\t\tme.applyDateFormat(me.loadedItem[fields[0].uid]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: fields[0].uid, type: fields[0].type, nodepath: fields[0].nodepath},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, me, me.rs_updateDateFormat, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateDateFormat: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\tdateformat,\r\n\t\t\tuid;\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tuid = jdoc.uid;\r\n\t\t\tdateformat = jdoc.content.dateformat;\r\n\t\t\tme.loadedItem[uid] = {uid: uid, dateformat: dateformat};\r\n\t\t\t\r\n\t\t\tme.applyDateFormat(me.loadedItem[uid]);\r\n\t\t}\r\n\t},\r\n\t\r\n\tapplyDateFormat: function(df)\r\n\t{\r\n\t\tvar me = this,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tmdf = dateformat.getValue();\r\n\t\t\r\n\t\tif (df.dateformat != \"\" && (mdf == \"\" || mdf != df.dateformat))\r\n\t\t{\r\n\t\t\tdateformat.setValue(df.dateformat);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null,\r\n\t\t\tcnode,\r\n\t\t\tcitem = me.clItem, i;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=custom_type]\").setValue(citem.custom_type || \"CUSTOM_FIELD\");\r\n\t\tIG$.setFieldValue(me, \"expression\", \"s\", citem.expression || \"\");\r\n\t\tIG$.setFieldValue(me, \"datagrid\", \"dg\", citem.rel_items);\r\n\t\tIG$.setFieldValue(me, \"groupfielditem\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"predefinefield\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"rangefield\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\tIG$.setFieldValue(me, \"dim_child\", \"s\", (citem.rel_items.length > 0) ? citem.rel_items[0].name : \"\");\r\n\t\t\r\n\t\tvar dateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\toptdateformat = me.down(\"[name=optdateformat]\"),\r\n\t\t\tdatedivision = me.down(\"[name=datedivision]\"),\r\n\t\t\tcustomdatetype = me.down(\"[name=customdatetype]\"),\r\n\t\t\tothergroupvalue = me.down(\"[name=othergroupvalue]\"),\r\n\t\t\tgroupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tgitems = [], g;\r\n\t\t\r\n\t\tif (citem.groupfilter && citem.groupfilter.children)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.groupfilter.children.length; i++)\r\n\t\t\t{\r\n\t\t\t\tg = citem.groupfilter.children[i];\r\n\t\t\t\tgitems.push({name: g.name, values: g.values, operator: g.operator});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgroupdatagrid.store.loadData(gitems);\r\n\t\t}\r\n\t\t\r\n\t\toptdateformat.setValue(citem.dateformat || \"\");\r\n\t\t\r\n\t\tdateformat.setValue(citem.dateformat || \"\");\r\n\t\tme.down(\"[name=opt_dateformat]\").setValue(citem.dateformat);\r\n\t\tdatedivision.setValue({datediv: citem.datedivision});\r\n\t\tcustomdatetype.setValue(citem.customdatetype || \"\");\r\n\t\tothergroupvalue.setValue(citem.othergroupvalue);\r\n\t\tme.down(\"[name=geolat]\").setValue(citem.geolat ? citem.geolat.name : \"\");\r\n\t\tme.down(\"[name=geolng]\").setValue(citem.geolng ? citem.geolng.name : \"\");\r\n\t\tme.down(\"[name=cmap_disp]\").setValue(citem.cmap_disp || \"\");\r\n\t\tme.down(\"[name=dim_parent]\").setValue(citem.dim_parent ? citem.dim_parent.name : \"\");\r\n\t\tme.down(\"[name=dim_disp]\").setValue(citem.dim_disp ? citem.dim_disp.name : \"\");\r\n\t\tme.f_ = \"groupmin;groupmax;stepinterval;groupminlabel;groupmaxlabel;grouplabel;groupformat\".split(\";\");\r\n\t\t\r\n\t\t$.each(me.f_, function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tctrl.setValue(citem.grouping[k]);\r\n\t\t});\r\n\t\t\r\n\t\tif (citem.link_option)\r\n\t\t{\r\n\t\t\t$.each([\"l_tp\", \"l_nm\", \"l_nm_dim\", \"l_rpt_tmpl\", \"l_elnk\", \"l_elnk_tgt\", \"l_rpt_name\", \"l_rpt_uid\"], function(i, k) {\r\n\t\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\t\tctrl.setValue(citem.link_option[k]);\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=l_par_option]\").setValue(citem.l_par_option);\r\n\t\tme.down(\"[name=l_par_disp_option]\").setValue(citem.l_par_disp_option);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tclItem = me.clItem,\r\n\t\t\tjdoc, i, groupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tdatagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\tgroupfilterstore = groupdatagrid.store, \r\n\t\t\tstoreitem, gfilter, operator, key,\r\n\t\t\td, field;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\t\r\n\t\tvar optsortdir = me.down(\"[name=cb_sortdir]\"),\r\n\t\t\tsortorder = optsortdir.getGroupValue(),\r\n\t\t\tcb_sorttype = me.down(\"[name=cb_sorttype]\"),\r\n\t\t\tsorttype = me.down(\"[name=cb_sorttype]\").getGroupValue();\r\n\t\t\r\n\t\tclItem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tclItem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tclItem.sortorder = (sortorder == \"\") ? null : sortorder;\r\n\t\tclItem.sorttype = (sorttype == \"\") ? null : sorttype;\r\n\t\t\r\n\t\tclItem.expression = me.down(\"[name=expression]\").getValue();\r\n\t\tclItem.custom_type = me.down(\"[name=custom_type]\").getValue();\r\n\t\tclItem.dateformat = me.down(\"[name=dateformat]\").getValue();\r\n\t\tclItem.datedivision = me.down(\"[name=datedivision]\").getValue().datediv;\r\n\t\tclItem.othergroupvalue = me.down(\"[name=othergroupvalue]\").getValue();\r\n\t\tclItem.customdatetype = me.down(\"[name=customdatetype]\").getValue();\r\n\t\tclItem.stylename = me.down(\"[name=optstyle]\").getValue();\r\n\t\t\r\n\t\tclItem.removeblank = me.down(\"[name=optremoveblank]\").getValue();\r\n\t\tclItem.isdatetype = me.down(\"[name=isdatetype]\").getValue();\r\n\t\t\r\n\t\tif (clItem.custom_type != \"PREDEFINED_FIELD\")\r\n\t\t{\r\n\t\t\tclItem.datecustom = me.down(\"[name=t_dateformat]\").getValue();\r\n\t\t\tclItem.dateformat = me.down(\"[name=opt_dateformat]\").getValue();\r\n\t\t}\r\n\t\t\r\n\t\tclItem.groupfilter = {ftype: \"group\", children: []};\r\n\t\t\r\n\t\tfor (i=0; i < groupfilterstore.data.items.length; i++)\r\n\t\t{\r\n\t\t\tstoreitem = groupfilterstore.data.items[i];\r\n\t\t\tgfilter = {ftype: \"condition\", name: storeitem.get(\"name\"), values: []};\r\n\t\t\tgfilter.operator = storeitem.get(\"operator\");\r\n\t\t\tgfilter.values = storeitem.data.values;\r\n\t\t\tclItem.groupfilter.children.push(gfilter);\r\n\t\t}\r\n\t\t\r\n\t\tif (clItem.custom_type == \"CUSTOM_FIELD\" || clItem.custom_type == \"LINK_FIELD\")\r\n\t\t{\r\n\t\t\tclItem.rel_items = [];\r\n\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\t\tclItem.rel_items.push(field);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$.each(me.f_, function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tclItem.grouping[k] = ctrl.getValue();\r\n\t\t});\r\n\t\t\r\n\t\tme.clItem.link_option = me.clItem.link_option || {};\r\n\t\t\r\n\t\t$.each([\"l_tp\", \"l_nm\", \"l_nm_dim\", \"l_rpt_tmpl\", \"l_elnk\", \"l_elnk_tgt\", \"l_rpt_name\", \"l_rpt_uid\"], function(i, k) {\r\n\t\t\tvar ctrl = me.down(\"[name=\" + k + \"]\");\r\n\t\t\tclItem.link_option[k] = ctrl.getValue();\r\n\t\t});\r\n\t\t\r\n\t\tclItem.l_par_option = me.down(\"[name=l_par_option]\").getValue();\r\n\t\tclItem.l_par_disp_option = me.down(\"[name=l_par_disp_option]\").getValue();\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.saveContent(me.uid, clItem);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\t\tme.wd.closedlg.call(me.wd);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveContent: function(uid, doc) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: doc.name, description: doc.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + doc.name : null)},\r\n\t\t\t\tmbody: doc,\r\n\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t}, me, me.rs_saveContent, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\r\n\t\tme.wd.callback && me.wd.callback.execute(me.clItem);\r\n\t\tme.wd.closedlg.call(me.wd);\r\n\t},\r\n\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tmultiselect: fieldname == \"customfield\" ? 1 : 0,\r\n\t\t\t\tvisibleItems: fieldname == \"codemap\" ? \"folder;codemap\" : \"userdb;table;dataset;inlineview;metric;custommetric\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: fieldname == \"codemap\" ? \"/SYS_Lookup\" : me.cubeuid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tselectReport: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tmultiselect: 0,\r\n\t\t\t\tvisibleItems: \"folder;report\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: null\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fieldname == \"l_rpt\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.down(\"[name=l_rpt_uid]\").setValue(item.uid);\r\n\t\t\t\t\t\tme.down(\"[name=l_rpt_name]\").setValue(item.name);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.loadTemplate(item.uid);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(items, fieldname) {\r\n\t\tvar me = this,\r\n\t\t\titem = (fieldname == \"customfield\" ? null : items),\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (fieldname == \"geolat\" || fieldname == \"geolng\")\r\n\t\t{\r\n\t\t\tif (fieldname == \"geolat\")\r\n\t\t\t{\r\n\t\t\t\tcitem.geolat = {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t};\r\n\t\t\t\tme.down(\"[name=geolat]\").setValue(item.name);\r\n\t\t\t}\r\n\t\t\telse if (fieldname == \"geolng\")\r\n\t\t\t{\r\n\t\t\t\tcitem.geolng = {\r\n\t\t\t\t\tuid: item.uid,\r\n\t\t\t\t\tname: item.name\r\n\t\t\t\t};\r\n\t\t\t\tme.down(\"[name=geolng]\").setValue(item.name);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (fieldname == \"customfield\")\r\n\t\t{\r\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\t\ti,\r\n\t\t\t\trec,\r\n\t\t\t\tbexist = false;\r\n\t\t\t\r\n\t\t\t$.each(items, function(k, item) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (fieldname == \"codemap\")\r\n\t\t{\r\n\t\t\tcitem.cmap_uid = item.uid;\r\n\t\t\tcitem.cmap_disp = item.name;\r\n\t\t\tme.down(\"[name=cmap_disp]\").setValue(item.name);\r\n\t\t}\r\n\t\telse if (fieldname == \"dim_parent\")\r\n\t\t{\r\n\t\t\tcitem.dim_parent = item;\r\n\t\t\tme.down(\"[name=dim_parent]\").setValue(item.name);\r\n\t\t}\r\n\t\telse if (fieldname == \"dim_disp\")\r\n\t\t{\r\n\t\t\tcitem.dim_disp = item;\r\n\t\t\tme.down(\"[name=dim_disp]\").setValue(item.name);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tcitem.rel_items = [item];\r\n\t\t\t\t\r\n\t\t\tIG$.setFieldValue(me, fieldname, \"s\", item.name);\r\n\t\t\t\r\n\t\t\tme.updateDateFormat();\r\n\t\t}\r\n\t},\r\n\t\r\n\taddBlankCondition: function() {\r\n\t\tvar me = this,\r\n\t\t\tdfilter = {},\r\n\t\t\tgroupdatagrid = me.down(\"[name=groupdatagrid]\"),\r\n\t\t\tgroupdatagridstore = groupdatagrid.store;\r\n\t\tgroupdatagridstore.add(dfilter);\r\n\t},\r\n\t\r\n\teditFilter: function(filter, record) {\r\n\t\tvar me = this,\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (citem.rel_items.length > 0)\r\n\t\t{\r\n\t\t\tvar field = citem.rel_items[0];\r\n\t\t\tvar vs = new IG$.valueSelectWindow({\r\n\t\t\t\tfield: field,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_editFilter, [filter, record])\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tvs.show();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_editFilter: function(selvalues, param) {\r\n\t\tvar filter = param[0],\r\n\t\t\trecord = param[1],\r\n\t\t\tvalue = \"\",\r\n\t\t\ti;\r\n\t\t\r\n\t\tfilter.values = selvalues;\r\n\t\t\r\n\t\tfor (i=0; i < selvalues.length; i++)\r\n\t\t{\r\n\t\t\tvalue += (i==0) ? (selvalues[i].text || selvalues[i].code) : \", \" + (selvalues[i].text || selvalues[i].code);  \r\n\t\t}\r\n\t\t\r\n\t\trecord.set(\"value\", value);\r\n\t},\r\n\t\r\n\teditorItemName: function(itemname) {\r\n\t\tvar me = this,\r\n\t\t\texpression = me.down(\"[name=expression]\");\r\n\t\tIG$._inpEdt$(expression, itemname);\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: 5,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tbodyStyle: \"padding: 5px\",\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 60,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"custom_type\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_CUSTOM_FIELD\"), value: \"CUSTOM_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_GROUP_FIELD\"), value: \"GROUP_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_PREDEFINED_FIELD\"), value: \"PREDEFINED_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_GEO_FIELD\"), value: \"GEO_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_RANGE_FIELD\"), value: \"RANGE_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LINK_FIELD\"), value: \"LINK_FIELD\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_PARENT_CHILD_NODES\"), value: \"PARENT_CHILD_NODES\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_SUB_QUERY\"), value: \"SUB_QUERY\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #6\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_LINK_OPTION\"), // \"Link Option\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig6\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_tp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_DRILL\"), value: \"DRILL\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_DOC\"), value: \"DOC\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"L_LNK_EXT\"), value: \"EXTERNAL\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_nm = me.down(\"[name=l_nm]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_tr = me.down(\"[name=l_tr]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk = me.down(\"[name=l_elnk]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk_tgt = me.down(\"[name=l_elnk_tgt]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_rpt_tmpl = me.down(\"[name=l_rpt_tmpl]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttval = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbext = tval == \"EXTERNAL\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_tr.setVisible(!bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_rpt_tmpl.setVisible(tval == \"DOC\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk.setVisible(bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_elnk_tgt.setVisible(bext);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_nm\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DISP_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_nm_dim\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 140,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_EXPRESSION\"), // \"Use Expression\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuse_expr = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_nm = me.down(\"[name=l_nm]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tl_nm.setDisabled(use_expr);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_REPORT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_tr\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_uid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectReport(\"l_rpt\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_rpt_tmpl\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TMPL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'seq',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"disp\", \"seq\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_elnk_tgt\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LNK_URL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_elnk\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #1\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_CUSTOM_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig1\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tfieldDefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CM_DISP_1\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"name\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"type\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"delete\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"nodepath\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"uid\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"memo\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 120,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripeRows: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttypename = (rc) ? rc.get(\"type\") : null, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(me == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? me.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (typename == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < me.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (item.get(\"uid\") == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CD_DISP_2\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"customfield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t//panel #2\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GROUP_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig2\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupfielditem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"groupfielditem\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"operator\", \"opname\", \"value\", \"values\", \"delete\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupdatagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickToEdit: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CONDITION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"operator\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Like\", value: \"like\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"=\", value: \"eq\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \">\", value: \"gt\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"<\", value: \"lt\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \">=\", value: \"gte\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"<=\", value: \"lte\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"In\", value: \"in\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Except\", value: \"except\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_VALUE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclickToEdit: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisvalue: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 50,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_EDIT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editFilter(rec.data, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, ev) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar filter = record.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\top = record.get(\"operator\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (filter && (op == \"in\" || op == \"except\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editFilter(filter, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tedit: function(editor, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd = editor.grid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord = e.record,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, t, evalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (editor.column == \"value\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord.data.values = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tevalue = e.value.split(\",\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < evalue.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt = IG$.trim12(evalue[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (t)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trecord.data.values.push({code: t, text: t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpack: \"center\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-add\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_ADD_CONDITION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.addBlankCondition();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-moveup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Move Up\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar groupdatagrid = this.down(\"[name=groupdatagrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = groupdatagrid.getSelectionModel().getSelection(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec, ri;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sel && sel.length == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = sel[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tri = groupdatagrid.store.indexOf(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ri > 0)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupdatagrid.store.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = groupdatagrid.store.insert(ri-1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-movedown\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Move Down\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar groupdatagrid = this.down(\"[name=groupdatagrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = groupdatagrid.getSelectionModel().getSelection(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec, ri;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (sel && sel.length == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = sel[0];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tri = groupdatagrid.store.indexOf(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (ri+1 < groupdatagrid.store.data.items.length)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgroupdatagrid.store.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = groupdatagrid.store.insert(ri+1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"othergroupvalue\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OTHER_VALUE\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #3\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_PREDEFINED_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig3\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultType: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"predefinefield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"predefinefield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_EX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: IRm$.r1(\"B_SELECT\"), value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001.07.04 AM 12:08:56\", value: \"yyyy.MM.dd a HH:mm:ss\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001-07-04 12:08:56\", value: \"yyyy-MM-dd HH:mm:ss\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"2001-07-04 AM 12:08\", value: \"yyyy-MM-dd a HH:mm\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Wed, Jul 4, '01\", value: \"EEE, MMM d, ''yy\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"20010704120856\", value: \"yyyyMMddHHmmss\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GROUP_LEVEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"datedivision\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: 3,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t$h: 120,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_YEAR\"), name: \"datediv\", inputValue: \"YYYY\", checked: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_QUARTER\"), name: \"datediv\", inputValue: \"QUARTER\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_MONTH\"), name: \"datediv\", inputValue: \"MM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_DAY\"), name: \"datediv\", inputValue: \"DD\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_WEEKMONTH\"), name: \"datediv\", inputValue: \"WM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_WEEK\"), name: \"datediv\", inputValue: \"WEEK\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_AMPM\"), name: \"datediv\", inputValue: \"AMPM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_HOUR\"), name: \"datediv\", inputValue: \"HH\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_MINUTE\"), name: \"datediv\", inputValue: \"MI\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_CUSTOM\"), name: \"datediv\", inputValue: \"CUSTOM\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpt) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar datediv = field.getValue().datediv,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetype = this.down(\"[name=customdatetype]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetype.setVisible((datediv == \"CUSTOM\" ? true : false));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_CUSTOM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"customdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #4\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig4\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GEO_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdefaultType: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LATITUDE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"geolat\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LONGITUDE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolng\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"geolng\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #5\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig5\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"rangefield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"rangefield\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmin\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_START_MIN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 100000000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmax\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_END_MAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 100000000,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"stepinterval\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_STEP_INT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"numberfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tminValue: -1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmaxValue: 10,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowDecimals: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdecimalPrecision: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstep: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupminlabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_UNDER_MIN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupmaxlabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OVER_MAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grouplabel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LABEL_TEXT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Use keyword %MIN %MAX for range labeling\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"groupformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_NUMERIC_FORMAT\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t// panel #7\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_PARENT_CHILD_OPTIONS\"), // \"Parent Child Options\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig7\",\r\n\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_child\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_child\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_PARENT_METRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_parent\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_parent\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thideLabel: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dim_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"dim_disp\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Clear\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tciitem = me.clItem;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tciitem.dim_disp = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=dim_disp]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_par_option\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_PRIOR_START_WITH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NULL Value\", value: \"NULL\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Parent-Child same value\", value: \"SAME\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"l_par_disp_option\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DISPLAY_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Indent characters 4\", value: \"INDENT4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Indent characters 8\", value: \"INDENT8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Expand Collapse\", value: \"TREE\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Unchanged\", value: \"UNCHANGED\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"pconfig8\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SUB_QUERY_OPTIONS\"), // \"Sub Query Options\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_ADVANCED\"),\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SORT_SEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortdir\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_ORD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sortdir\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_ASC\"), name: \"cb_sortdir\", inputValue: \"asc\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DSC\"), name: \"cb_sortdir\", inputValue: \"desc\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsorttype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sorttype\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_STRING\"), name: \"cb_sorttype\", inputValue: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_NUMERIC\"), name: \"cb_sorttype\", inputValue: \"NUMBER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OTHER_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"3 5\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optremoveblank\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_REM_BLK\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"isdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisdatetype = field.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format = me.down(\"[name=t_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format = me.down(\"[name=d_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetypecontainer = me.down(\"[name=customdatetypecontainer]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// datediv_CUSTOM = me.down(\"[name=datediv_CUSTOM]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_SRC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"d_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"opt_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=opt_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = me.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"cmap_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"codemap\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cmap_disp]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.clItem.objectinfo.cmap_disp = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.clItem.objectinfo.cmap_uid = \"\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"3 5\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"disp\", \"name\", \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MEASURES\"), // \"Measures\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.dmode,\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 160,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grd_measures\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getMeasures();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.multiMeasure({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmitem: me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvmode: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, me.reg_measures)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_customfield(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t})\r\n\t\t\r\n\t\tIG$.customMetricInner.superclass.initComponent.apply(this);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tvar panel = this;\r\n\t\t\t\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tpanel.init_f.call(panel);\r\n\t\t\t}, 100);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nIG$.custommetric = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: {\r\n\t\ttype: \"fit\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\theight: 480,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tclosedlg: function() {\r\n\t\tvar me = this;\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\tme.mainpanel._confirm.call(me.mainpanel);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\tme.mainpanel = new IG$.customMetricInner({\r\n\t\t\tuid: me.uid,\r\n\t\t\tcubeuid: me.cubeuid,\r\n\t\t\tcubepath: me.cubepath,\r\n\t\t\twritable: me.writable,\r\n\t\t\tparentuid: me.parentuid,\r\n\t\t\tparentnodepath: me.parentnodepath,\r\n\t\t\titemtype: me.itemtype,\r\n\t\t\twd: me,\r\n\t\t\tdmode: me.dmode,\r\n\t\t\tdmode_cnt: me.dmode_cnt,\r\n\t\t\tcallback: me.callback\r\n\t\t});\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_CUSTOM_METRIC\");\r\n\t\t\t\t \r\n\t\t$s.apply(me, {\r\n\t\t\tdefaults:{bodyStyle:\"padding:10px\"},\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tme.mainpanel\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.custommetric.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\n","IG$.p$DbMeta = $s.extend($s.window, {\r\n\tmodal: true,\t\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 820,\r\n\theight: 520,\r\n\t\r\n\ticonCls: \"icon-doc-table\",\r\n\tlayout: \"fit\",\r\n\tbodyPadding: 5,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._loadDbMeta(\"F\");\r\n\t},\r\n\t\r\n\t_loadDbMeta: function(refresh) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"userdb\",\r\n\t\t\t\tpayload: {uid: me.uid, option: \"extract_dbmeta\", refresh: refresh || \"T\"},\r\n\t\t\t\tmbody: {},\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ttbsrc = me.down(\"[name=tbsrc]\");\r\n\t\t\t\t\r\n\t\t\t\ttbsrc.store.loadData(jdoc);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"T_BO_EXTRACT_META\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SRC_TABLES\"), // \"Source tables\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tbsrc\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, node, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttbfield = me.down(\"[name=tbfield]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tttbname = me.down(\"[name=ttbname]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbfield.store.loadData(node.get(\"fields\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tttbname.setValue(node.get(\"name\").toLowerCase());\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\twidth: 5\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELD_MAPPING\"), // \"Field Mapping\",\r\n\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TGT_TBL_NAME\"), // \"Target tablename\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"ttbname\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tbfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DB_NAME\"), // \"DB name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DATA_TYPE\"), // \"DataType\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"fieldtype\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LENGTH\"), // \"Length\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"length\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-schedule\",\r\n\t\t\t\t\ttext: IRm$.r1('B_SCHEDULE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tcnt = {},\r\n\t\t\t\t\t\t\tmreq = [],\r\n\t\t\t\t\t\t\treq,\r\n\t\t\t\t\t\t\tgrid = me.down(\"[name=tbsrc]\"),\r\n\t\t\t\t\t\t\tsel = grid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\trec, i, tb,\r\n\t\t\t\t\t\t\topt = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq = {\r\n\t\t\t\t\t\t\tack: \"userdb\",\r\n\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\ttarget_folder: me.target_folder.get(\"uid\"),\r\n\t\t\t\t\t\t\t\toption: \"sync_dbmeta\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tmbody: {tables: []},\r\n\t\t\t\t\t\t\tjobkey: \"\" + 0,\r\n\t\t\t\t\t\t\tmeta_type: \"metatables\"\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\topt.name = \"\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\ttb = rec.data;\r\n\t\t\t\t\t\t\treq.mbody.tables.push(tb);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (i < 3)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\topt.name += (i > 0 ? \",\" : \"\") + tb.name;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (i == 3)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\topt.name += \" and (\" + sel.length + \")\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmreq.push(req);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tIG$.showScheduler(me, me.uid, me.itemtype, mreq, opt);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.p$DbMeta.superclass.initComponent.call(this);\r\n\t}\r\n});","IG$.tableManager = $s.extend(IG$.v$pnl, {\r\n\ticonCls: \"icon-bobject\",\r\n\tclosable: true,\r\n\tlayout: \"fit\",\r\n\tbodyPadding: 5,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tmcnt;\r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.getLCnt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmcnt = {};\r\n\t\t\t\r\n\t\t\tif (me._ds && me._ds.uid)\r\n\t\t\t{\r\n\t\t\t\tmcnt.datasource = {\r\n\t\t\t\t\tuid: me._ds.uid,\r\n\t\t\t\t\tname: me._ds.name\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tme.refLCnt(mcnt);\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetLCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\tmbody: {option: \"content\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (!jdoc.content)\r\n\t\t\t\t{\r\n\t\t\t\t\tjdoc.content = {\r\n\t\t\t\t\t\tname: jdoc.name,\r\n\t\t\t\t\t\tuid: jdoc.uid,\r\n\t\t\t\t\t\tnodepath: jdoc.nodepath,\r\n\t\t\t\t\t\ttype: jdoc.type,\r\n\t\t\t\t\t\tmeta_type: \"business_object\"\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tme.refLCnt(jdoc.content);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefLCnt: function(content) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._mc = content;\r\n\t\tme._mc.highlight = me._mc.highlight || [];\r\n\t\t\r\n\t\tif (me._mc.datasource)\r\n\t\t{\r\n\t\t\tme.getCnt();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.sel_db();\r\n\t\t}\r\n\t\t\r\n\t\tif (me._mc.uid)\r\n\t\t{\r\n\t\t\tme.refRoot();\r\n\t\t}\r\n\t},\r\n\t\r\n\trefRoot: function() {\r\n\t\tvar me = this,\r\n\t\t\t_mc = me._mc,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\"),\r\n\t\t\trnode;\r\n\t\t\r\n\t\trnode = {\r\n\t\t\ttype: \"ROOT\",\r\n\t\t\tname: _mc.name,\r\n\t\t\tuid: _mc.uid,\r\n\t\t\tnodepath: _mc.nodepath,\r\n\t\t\tleaf: false,\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\tcube_tree.__stagingdb = me.__stagingdb;\r\n\t\tcube_tree.setRootNode(rnode);\r\n\t\t\r\n\t\tsetTimeout(function() {\r\n\t\t\tcube_tree.getRootNode().expand();\r\n\t\t}, 10);\r\n\t},\r\n\t\r\n\tgetCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me._mc.datasource.uid},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.refCnt(jdoc.content);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefCnt: function(cnt) {\r\n\t\tvar me = this,\r\n\t\t\trnode,\r\n\t\t\tds = me._mc.datasource;\r\n\t\t\r\n\t\tme.dbo = cnt;\r\n\t\tds.uid = cnt.uid;\r\n\t\tds.nodepath = cnt.nodepath;\r\n\t\tds.name = cnt.name;\r\n\t\t\r\n\t\tme.down(\"[name=tbdsname]\").setText(cnt.name + \" (\" + me.dbo.dbtype + \")\");\r\n\t\t\r\n\t\tif (me.dbo.dbtype == \"sforce\" || me.dbo.dbtype == \"pardot\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.sf_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"essbase\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.essbase_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"sapbw\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.sapbw_targetdb;\r\n\t\t}\r\n\t\telse if (me.dbo.dbtype == \"soap\" || me.dbo.dbtype == \"rest\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=btn_extr]\").show();\r\n\t\t\tme.targetdb = me.dbo.options.ws_targetdb;\r\n\t\t}\r\n\r\n\t\tme.__stagingdb = false;\r\n\t\t\r\n\t\tif (me.targetdb)\r\n\t\t{\r\n\t\t\tme.__stagingdb = me.targetdb.excel_loader == \"T\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.__stagingdb = me.dbo.excel_loader == \"T\";\r\n\t\t}\r\n\t},\r\n\t\r\n\tcustom_click_func: function(record, data) {\r\n\t\tvar me = this,\r\n\t\t\tr = false,\r\n\t\t\tltype = record.get(\"type\");\r\n\t\t\r\n\t\tltype = ltype ? ltype.toLowerCase() : null;\r\n\t\t\r\n\t\tme._s1 = null;\r\n\t\t\r\n\t\tif (ltype == \"folder\" || ltype == \"dataset\" || ltype == \"bobject\" || ltype == \"datemetric\")\r\n\t\t{\r\n\t\t\tme._s1 = record;\r\n\t\t\t\r\n\t\t\tif (!record.get(\"open\"))\r\n\t\t\t{\r\n\t\t\t\trecord.expand();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.load_fields(record);\r\n\t\t}\r\n\t\t\r\n\t\tif (ltype == \"table\" || ltype == \"inlineview\")\r\n\t\t{\r\n\t\t\tme._s1 = record;\r\n\r\n\t\t\tif (!record.get(\"open\"))\r\n\t\t\t{\r\n\t\t\t\trecord.expand();\r\n\t\t\t}\r\n\t\t\tme.load_fields(record);\r\n\t\t\tr = true;\r\n\t\t}\r\n\t\telse if (ltype == \"folder\" && record.get(\"subitem\") == true)\r\n\t\t{\r\n\t\t\tme.load_fields(record);\r\n\t\t\tr = true;\r\n\t\t}\r\n\t\telse if (ltype == \"cubemodel\")\r\n\t\t{\r\n\t\t\tr = me._load_cubemodel(record);\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tcustom_expand_func: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tr = false,\r\n\t\t\tltype = node.get(\"type\");\r\n\t\t\r\n\t\t// me._s1 = null;\r\n\t\t\r\n\t\tif (!node.isRoot())\r\n\t\t{\r\n\t\t\tif (ltype == \"Folder\" || ltype == \"DataSet\")\r\n\t\t\t{\r\n\t\t\t\tif (!me._s1)\r\n\t\t\t\t{\r\n\t\t\t\t\tme._s1 = node;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (ltype == \"Table\" || ltype == \"InlineView\")\r\n\t\t\t{\r\n\t\t\t\tif (node.childNodes.length > 0 && node.childNodes[0].get(\"type\") == \"load\")\r\n\t\t\t\t{\r\n\t\t\t\t\tnode.removeAll();\r\n\t\t\t\t\tif (me._s1 && me._s1.get(\"uid\") == node.get(\"uid\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.load_fields(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// me._s1 = node;\r\n\t\t\t\tr = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!me._s1)\r\n\t\t\t{\r\n\t\t\t\tme._s1 = node;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\t_load_dataset: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tmpanel = IG$.mainPanel,\r\n\t\t\topt = {};\r\n\t\t\r\n\t\tif (mpanel)\r\n\t\t{\r\n\t\t\tif (node)\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp.call(mpanel, node.get(\"uid\"), \"dataset\", node.get(\"name\"), node.get(\"nodepath\"), false, node.get(\"writable\"), opt);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\t\r\n\t_load_cubemodel: function(node) {\r\n\t\tvar me = this,\r\n\t\t\tmpanel = IG$.mainPanel,\r\n\t\t\topt = {};\r\n\t\t\r\n\t\tif (mpanel)\r\n\t\t{\r\n\t\t\topt = {\r\n\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\tcubemodel: node ? null : new IG$.m$CubeModel(null)\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (node)\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp.call(mpanel, node.get(\"uid\"), \"cubemodel\", node.get(\"name\"), node.get(\"nodepath\"), false, node.get(\"writable\"), opt);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmpanel.navigateApp.call(mpanel, null, \"cubemodel\", \"new model\", null, false, true, opt);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn true;\r\n\t},\r\n\t\r\n\tload_fields_grid: function(uitem, refresh, node) {\r\n\t\tvar me = this,\r\n\t\t\tutype = uitem.type.toLowerCase(),\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: uitem.uid, nodepath: uitem.nodepath, name: uitem.name, type: uitem.type},\r\n\t\t\t\tmbody: {option: \"folder\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\tfield,\r\n\t\t\t\t\tsnodes,\r\n\t\t\t\t\tdt = [],\r\n\t\t\t\t\tdf = [{name: IRm$.r1(\"B_SELECT\"), value: \"\"}],\r\n\t\t\t\t\tfields = [],\r\n\t\t\t\t\tfile_field = me.down(\"[name=file_field]\"),\r\n\t\t\t\t\tseq_field = me.down(\"[name=seq_field]\"),\r\n\t\t\t\t\tallow_insert = me.down(\"[name=allow_insert]\"),\r\n\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\");\r\n\t\t\t\t\r\n\t\t\t\tsnodes = jdoc.children || [];\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfield = snodes[i];\r\n\t\t\t\t\tfield.iconcls = IG$.get_metatype_icon(field.type.toLowerCase(), field);\r\n\t\t\t\t\tif (field.type == \"Folder\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield.children = [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t];\r\n\t\t\t\t\t\tfield.subitem = true;\r\n\t\t\t\t\t\tdt.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\tfield.physical_name = field.attributes.attrb3;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (field.type == \"Dimension\" || field.type == \"Metric\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfield.datatype = IG$.get_datatype(field.attributes.attrb4);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfield.iconcls = IG$.get_metatype_icon(field.type ? field.type.toLowerCase() : \"metric\", field);\r\n\t\t\t\t\t\tdf.push({\r\n\t\t\t\t\t\t\tname: field.name,\r\n\t\t\t\t\t\t\tvalue: field.physical_name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tIG$.sortMeta(fields);\r\n\t\t\t\t\r\n\t\t\t\tIG$.sortMeta(dt);\r\n\t\t\t\t\r\n\t\t\t\tif (dt.length && node.childNodes.length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tnode.appendChild(dt);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tgrdfields.store.loadData(fields);\r\n\t\t\t\t\r\n\t\t\t\tallow_insert.setValue(uitem.type != \"Table\" ? false : uitem.allow_insert);\r\n\t\t\t\tallow_insert.setDisabled(uitem.type != \"Table\");\r\n\t\t\t\t\r\n\t\t\t\tfile_field.store.loadData(df);\r\n\t\t\t\tfile_field.setValue(uitem.file_field || \"\");\r\n\t\t\t\t\r\n\t\t\t\tseq_field.store.loadData(df);\r\n\t\t\t\tseq_field.setValue(uitem.seq_field || \"\");\r\n\t\t\t}, false);\r\n\t\t\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tload_fields: function(node, refresh) {\r\n\t\tvar me = this,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tnodetype = node.get(\"type\").toLowerCase(),\r\n\t\t\ttb_info = me.down(\"[name=tb_info]\");\r\n\r\n\t\tme.down(\"[name=mviewer]\").getLayout().setActiveItem(1);\r\n\t\t\r\n\t\tme.down(\"[name=t_btn]\").setVisible(ig$.$l_ < 5 && (nodetype == \"folder\" || nodetype == \"table\" || nodetype == \"inlineview\"));\r\n\t\tme.down(\"[name=t_btn2]\").setVisible(ig$.$l_ < 5 && (nodetype == \"table\" || nodetype == \"inlineview\"));\r\n\t\tme.down(\"[name=t_btn3]\").setVisible(ig$.$l_ < 5 && (nodetype == \"folder\" || nodetype == \"bobject\"));\r\n\t\tme.down(\"[name=t_btn_pv]\").setVisible(nodetype == \"table\" || nodetype == \"inlineview\");\r\n\t\t\r\n\t\tme.down(\"[name=b_opt_4]\").setVisible(nodetype == \"dataset\");\r\n\t\t\r\n\t\tif (nodetype == \"folder\" || nodetype == \"bobject\")\r\n\t\t{\r\n\t\t\ttb_info.hide();\r\n\t\t\tme.down(\"[name=b_opt_1]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_1a]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_2]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_3]\").hide();\r\n\t\t\tme.load_fields_grid(node.data, refresh, node);\r\n\t\t}\r\n\t\telse if (nodetype == \"dataset\")\r\n\t\t{\r\n\t\t\tme.down(\"[name=b_opt_4]\").setText(IRm$.r1(\"L_EDIT_ITEM\", node.get(\"locale_name\") || node.get(\"name\")));\r\n\t\t\tme.down(\"[name=b_opt_4]\").setDisabled(!node.get(\"writable\"));\r\n\t\t\tme.down(\"[name=b_opt_1]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_1a]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_2]\").hide();\r\n\t\t\tme.down(\"[name=b_opt_3]\").hide();\r\n\t\t\tme.load_fields_grid(node.data, refresh, node);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\ttb_info.show();\r\n\t\t\tif (ig$.$l_ < 5)\r\n\t\t\t{\r\n\t\t\t\tme.down(\"[name=b_opt_1]\").show();\r\n\t\t\t\tme.down(\"[name=b_opt_1a]\").show();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.down(\"[name=b_opt_2]\").show();\r\n\t\t\tme.down(\"[name=b_opt_3]\").show();\r\n\t\t\t\r\n\t\t\treq.init(cube_tree, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\tuid: node.get(\"uid\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t}, cube_tree, function(jdoc) {\r\n\t\t\t\t\tvar content = jdoc && jdoc.content ? jdoc.content : (jdoc.type == \"Folder\" ? jdoc : null)\r\n\t\t\t\t\t\r\n\t\t\t\t\tme._s1c = content;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif (content)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (content.type != \"Folder\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tme.down(\"[name=external_name]\").setValue(content.external_name || content.name);\r\n\t\t\t\t\t\t\tme.down(\"[name=schema_name]\").setValue(content.attributes ? content.attributes.attrb2 : \"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.down(\"[name=edit_sql]\").setVisible(content.type == \"InlineView\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// if (content.type == \"InlineView\")\r\n\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t// sop = {};\r\n\t\t\t\t\t\t\t// sop.sqloption = {\r\n\t\t\t\t\t\t\t\t// columns: [],\r\n\t\t\t\t\t\t\t\t// prompts: []\r\n\t\t\t\t\t\t\t// };\r\n\t\t\t\t\t\t\t// sop.uid = content.uid;\r\n\t\t\t\t\t\t\t// sop.viewname = content.name;\r\n\t\r\n\t\t\t\t\t\t\t// sop.sqloption.dbpool = content.dbpool;\r\n\t\t\t\t\t\t\t// sop.sqloption.sql = content.sql;\r\n\t\r\n\t\t\t\t\t\t\t// me.cursop = sop;\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.load_fields_grid(content, refresh, node);\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\tedit_dimension: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tmp = IG$.mainPanel,\r\n\t\t\tltype = rec.get(\"type\").toLowerCase();\r\n\t\t\r\n\t\tif (ltype == \"link\")\r\n\t\t{\r\n\t\t\tltype = rec.get(\"rawtype\").toLowerCase();\r\n\t\t}\r\n\t\t\r\n\t\tif (mp && ltype != \"folder\" && ltype != \"table\" && ltype != \"inlineview\")\r\n\t\t{\r\n\t\t\tmp.navigateApp.call(mp, rec.get(\"uid\"), ltype, rec.get(\"name\"), rec.get(\"nodepath\"), true, rec.get(\"writable\") == true, {\r\n\t\t\t\tcubeuid: me.uid,\r\n\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(tobj) {\r\n\t\t\t\t\tif (tobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trec.set(\"name\", tobj.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tcreateItem: function(itemtype, b_topfolder) {\r\n\t\tvar me = this,\r\n\t\t\tmtree = me.down(\"[name=mtree]\"),\r\n\t\t\tsnode = me._s1;\r\n\t\t\r\n\t\tif (b_topfolder && !snode)\r\n\t\t{\r\n\t\t\tsnode = me.down(\"[name=cube_tree]\").getRootNode();\r\n\t\t}\r\n\t\t\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tIG$._createMetaObject.call(me, itemtype, snode.get(\"uid\"), snode.get(\"nodepath\"), snode, \r\n\t\t\t\tnew IG$.callBackObj(me, function(node, isexpand) {\r\n\t\t\t\t\t// mtree.refreshTree();\r\n\t\t\t\t\tif (me._s1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.load_fields(me._s1);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t},\r\n\t\r\n\ttbarHndlr: function(cmd, opt) {\r\n\t\tvar me = this,\r\n\t\t\tdlg,\r\n\t\t\tmainpanel = IG$.mainPanel,\r\n\t\t\tsop,\r\n\t\t\ts, stype = me._s1 ? me._s1.get(\"type\").toLowerCase() : null;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_save\":\r\n\t\t\tme.saveCnt();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_extract_dbmeta\":\r\n\t\t\tme.extrDbMeta();\r\n\t\t\tbreak;\r\n\t\tcase \"import_object\":\r\n\t\t\ts = me.checkTargetFolder();\r\n\t\t\t\r\n\t\t\tif (!s)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tdlg = new IG$.cube_object_select({\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tdbo: me.dbo,\r\n\t\t\t\ttargetdb: (me.targetdb || me.dbo.uid),\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tme.registerSelectedTable(sel);\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_inlineview\":\r\n\t\t\tif (!opt && !me.checkTargetFolder())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsop = opt && opt.type == \"InlineView\" ? opt : {dbpool: me.dbo.uid};\r\n\t\t\t\r\n\t\t\tdlg = new IG$.sqlcube_wizard({\r\n\t\t\t\twmode: \"inlineview\",\r\n\t\t\t\tsheetoption: sop,\r\n\t\t\t\tcolumns: [],\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rsInlineView)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_dataset\":\r\n\t\t\tif (!opt && !me.checkTargetFolder())\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar mp = IG$.mainPanel;\r\n\t\t\tmp && mp.navigateApp.call(mp, null, \"dataset\", \"new dataset\", null, false, true, {\r\n\t\t\t\tbobj_datasource: me._mc.datasource,\r\n\t\t\t\tbobj_uid: me.uid\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_report\":\r\n\t\t\tmainpanel && mainpanel.navigateApp.call(mainpanel, \r\n\t\t\t\tnull, \"report\", \"New Report\", null, true, true, {\r\n\t\t\t\t\tcubeuid: me.uid\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_export_meta\":\r\n\t\t\tvar dbo = me.dbo,\r\n\t\t\t\tdlg = new IG$.metaExpDlg({\r\n\t\t\t\t\tmeta: {\r\n\t\t\t\t\t\tuid: dbo.uid,\r\n\t\t\t\t\t\tnodepath: dbo.nodepath,\r\n\t\t\t\t\t\tname: dbo.name,\r\n\t\t\t\t\t\ttype: dbo.type\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_build_model\":\r\n\t\t\tme.build_model();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_regmeasures\":\r\n\t\t\tme.reg_measures();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_rename_tool\":\r\n\t\t\tme.rename_tool();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_rel_field\":\r\n\t\t\tif (stype && (stype == \"table\" || stype == \"inlineview\"))\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.relationMgr({\r\n\t\t\t\t\tuid: me._s1.get(\"uid\"),\r\n\t\t\t\t\ttype: me._s1.get(\"type\"),\r\n\t\t\t\t\tisdown: true\r\n\t\t\t\t});\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_preview\":\r\n\t\t\tif (stype && (stype == \"table\" || stype == \"inlineview\"))\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.dlgLoadPreview({\r\n\t\t\t\t\ttable: {\r\n\t\t\t\t\t\t_mc: me._s1.data\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_reglinks\":\r\n\t\t\tme.reg_links();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_change_schema\":\r\n\t\t\tme.batchUpdateSchema();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_save_field\":\r\n\t\t\tme.saveFields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_refresh_field\":\r\n\t\t\tvar dlg = new IG$.dlg_compare_field({\r\n\t\t\t\t_s1: me._s1,\r\n\t\t\t\tschema: me.down(\"[name=schema_name]\").getValue() || \"none\",\r\n\t\t\t\ttable: me.down(\"[name=external_name]\").getValue() || \"none\",\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(items) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\t\t\t\tstore = grdfields.store,\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\trec, dval,\r\n\t\t\t\t\t\tdmap = {},\r\n\t\t\t\t\t\trmap = {},\r\n\t\t\t\t\t\tpayloads = [];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (items && items.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (items[i].status == \"CHANGED\")\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tdmap[items[i].uid] = items[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (items[i].status == \"REMOVED\")\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trmap[items[i].uid] = items[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=store.data.items.length-1; i>=0; i--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = store.data.items[i];\r\n\t\t\t\t\t\t\tdval = dmap[rec.get(\"uid\")];\r\n\t\t\t\t\t\t\tif (dval)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trec.set(\"changedprop\", dval.changedprop);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if (rmap[rec.get(\"uid\")])\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpayloads.push({\r\n\t\t\t\t\t\t\t\t\tuid: rec.get(\"uid\"),\r\n\t\t\t\t\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (payloads.length)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\t\t\tpayload: payloads,\r\n\t\t\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tif (items[i].status == \"NEW\")\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\titems[i].physical_name = items[i].fieldname;\r\n\t\t\t\t\t\t\t\t\t\t\tstore.add(items[i]);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tme.saveFields();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (items[i].status == \"NEW\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\titems[i].physical_name = items[i].fieldname;\r\n\t\t\t\t\t\t\t\t\tstore.add(items[i]);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tme.saveFields();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}) \r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_delete_field\":\r\n\t\t\tme.deleteFields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_hl_option\":\r\n\t\t\tme.showHighlightOptions();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_sec_filter\":\r\n\t\t\tme.showSecurityFilter();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_add_bobj\":\r\n\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\t\tvisibleItems: \"folder;bobject;cubemodel;\",\r\n\t\t\t\t\ttargetobj: \"cubemodel\",\r\n\t\t\t\t\tmultiselect: false,\r\n\t\t\t\t\ttree_options: {\r\n\t\t\t\t\t\tcubebrowse: false\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\tdlgitemsel.callback = new IG$.callBackObj(me, function(obj) {\r\n\t\t\t\tvar oname = obj.name,\r\n\t\t\t\t\tp, c,\r\n\t\t\t\t\taddress = [],\r\n\t\t\t\t\tcontent = {items: []},\r\n\t\t\t\t\treq;\r\n\t\t\t\t\t\r\n\t\t\t\tif (oname.indexOf(\"/\") > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\toname = oname.split(\"/\");\r\n\t\t\t\t\toname = oname.join(\"&#x2044;\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tp = {\r\n\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\tname: oname,\r\n\t\t\t\t\ttype: \"Link\",\r\n\t\t\t\t\tpid: me.uid,\r\n\t\t\t\t\taddress: me.nodepath + \"/\" + oname\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tc = {\r\n\t\t\t\t\tmeta_type: \"link\",\r\n\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\tname: oname\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\taddress.push(p);\r\n\t\t\t\tcontent.items.push(c);\r\n\t\t\t\t\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\tpayload: address,\r\n\t\t\t\t\t\tmbody: content\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tshowSecurityFilter: function() {\r\n\t\tvar me = this,\r\n\t\t\t_mc = me._mc,\r\n\t\t\tsecurityfilter,\r\n\t\t\tpop;\r\n\t\t\t\r\n\t\t_mc.securityfilter = _mc.securityfilter || [];\r\n\t\tsecurityfilter = _mc.securityfilter;\r\n\t\t\t\r\n\t\tif (securityfilter && securityfilter.length > 0)\r\n\t\t{\r\n\t\t\tpop = new IG$.securityFilter({\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tsecurityfilter: securityfilter\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\titem, authnames = \"\", authuid = \"\";\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem = new IG$.clFilterGroup(null);\r\n\t\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\titem.active = true;\r\n\t\t\t\t\t\tme.showSecurityFilterEditor(item, true);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t},\r\n\t\r\n\tshowSecurityFilterEditor: function(item, isnewitem) {\r\n\t\tvar me = this,\r\n\t\t\tdlg = new IG$.filterEditorWindow({\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tsheetoption: {\r\n\t\t\t\t\tmodel: {\r\n\t\t\t\t\t\tfilter: item,\r\n\t\t\t\t\t\tcube_object: {\r\n\t\t\t\t\t\t\tuid: me.uid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\treportoption: {\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sop) {\r\n\t\t\t\t\tif (isnewitem == true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar fitem = sop.model.filter; \r\n\t\t\t\t\t\tfitem && me._mc.securityfilter.push(fitem);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlg);\r\n\t},\r\n\t\r\n\tbatchUpdateSchema: function() {\r\n\t\tvar me = this;\r\n\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_TB_BATCH\"), function(e) {\r\n\t\t\tif (e == \"yes\")\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.dlg_schemaname({\r\n\t\t\t\t\tcallback: new IG$.callBackObj(me, function(topt) {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\t\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\t\t\t\t\tstore = grdfields.store,\r\n\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\tsel = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\trec = store.data.items[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (rec.get(\"type\") == \"Table\" && rec.get(\"attributes\").attrb2 == topt.pvalue)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsel.push({\r\n\t\t\t\t\t\t\t\t\tuid: rec.get(\"uid\")\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (sel.length == 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, \"No schema named with \" + topt.pvalue, null, null, 0, \"error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\t\t\toption: \"rename_schema\",\r\n\t\t\t\t\t\t\t\t\tpvalue: topt.pvalue,\r\n\t\t\t\t\t\t\t\t\tnvalue: topt.nvalue\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmbody: {children: sel},\r\n\t\t\t\t\t\t\t\tmeta_type: \"metrics\"\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t\r\n\tshowHighlightOptions: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg = new IG$.$d_hlconfig({\r\n\t\t\t\t_piobj: me,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(dlg) {\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\t\r\n\t\tIG$.checkLogin(me, dlg);\r\n\t},\r\n\t\r\n\tsaveCnt: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(me,\r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: me._mc.uid},\r\n\t\t\t\tmbody: me._mc,\r\n\t\t\t\tmeta_type: \"business_object\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t});\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tsel_db: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg;\r\n\t\t\r\n\t\tdlg = new IG$.dlg_select_ds({\r\n\t\t\tsel_mode: 1,\r\n\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\tvar bsave = 0,\r\n\t\t\t\t\tattributes = me._mc.attributes;\r\n\t\t\t\t\t\r\n\t\t\t\tif (!me._mc.datasource || (me._mc.datasource && me._mc.datasource.uid != sel.data.uid))\r\n\t\t\t\t{\r\n\t\t\t\t\tbsave = 1;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme._mc.datasource = {\r\n\t\t\t\t\tuid: sel.data.uid,\r\n\t\t\t\t\tname: sel.data.name\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tif (attributes)\r\n\t\t\t\t{\r\n\t\t\t\t\tattributes.attrb1 = me._mc.datasource.uid;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bsave)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.saveCnt();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.getCnt();\r\n\t\t\t})\r\n\t\t});\r\n\t\t\r\n\t\tif (me._mc.datasource && me._mc.datasource.uid)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, me._mc.name + \" \" + IRm$.r1(\"M_CONFIRM_DS_CHANGE\"), function(e) {\r\n\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tsnode = me._s1,\r\n\t\t\tscontent = me._s1c,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\trec, rdata,\r\n\t\t\tc, changedprop,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\ti;\r\n\t\t\r\n\t\tscontent.schemaname = me.down(\"[name=schema_name]\").getValue();\r\n\t\tscontent.external_name = me.down(\"[name=external_name]\").getValue();\r\n\t\tscontent.attributes.attrb2 = scontent.schemaname;\r\n\t\tscontent.attributes.attrb3 = scontent.external_name;\r\n\t\tscontent.allow_insert = me.down(\"[name=allow_insert]\").getValue();\r\n\t\tscontent.file_field = me.down(\"[name=file_field]\").getValue();\r\n\t\tscontent.seq_field = me.down(\"[name=seq_field]\").getValue();\r\n\t\t\r\n\t\tscontent.columns = [];\r\n\t\t\r\n\t\tfor (i=0; i < grdfields.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = grdfields.store.data.items[i];\r\n\t\t\trdata = rec.data;\r\n\t\t\t\r\n\t\t\tchangedprop = rdata.changedprop;\r\n\t\t\t\r\n\t\t\tif (rec.data.dimension)\r\n\t\t\t{\r\n\t\t\t\tc = rdata.dimension;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tc = {\r\n\t\t\t\t\tuid: rdata.uid,\r\n\t\t\t\t\tname: rdata.name,\r\n\t\t\t\t\tdescription: rdata.description,\r\n\t\t\t\t\tmeta_type: \"dimension\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tc.fieldname = rdata.physical_name;\r\n\t\t\tc.tablename = scontent.external_name;\r\n\t\t\t\r\n\t\t\tc.changedprop = changedprop;\r\n\t\t\t\r\n\t\t\tc.attributes = {\r\n\t\t\t\tattrb1: scontent.external_name,\r\n\t\t\t\tattrb2: scontent.uid,\r\n\t\t\t\tattrb3: rdata.physical_name,\r\n\t\t\t\tattrb4: rdata.db_datatype\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tscontent.columns.push(c);\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tuid: scontent.uid,\r\n\t\t\t\t\toption: \"updatetable\"\r\n\t\t\t\t},\r\n\t\t\t\tmbody: scontent,\r\n\t\t\t\tmeta_type: \"table\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme._refresh_grid();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trsInlineView: function(dlg) {\r\n\t\tvar me = this,\r\n\t\t\tsheetoption = dlg.sheetoption,\r\n\t\t\t_s1 = me._s1,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tuid = sheetoption.uid;\r\n\t\t\r\n\t\tif (!sheetoption.uid)\r\n\t\t{\r\n\t\t\tsheetoption.type = \"InlineView\";\r\n\t\t\tsheetoption.pid = _s1.get(\"uid\");\r\n\t\t\tsheetoption.nodepath = _s1.get(\"nodepath\") + \"/\" + sheetoption.name;\r\n\t\t\tuid = sheetoption.nodepath;\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me,\r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: {uid: uid, type: \"InlineView\", name: sheetoption.name},\r\n\t\t\t\tmbody: sheetoption,\r\n\t\t\t\tmeta_type: \"inlineview\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (!sheetoption.uid)\r\n\t\t\t\t{\r\n\t\t\t\t\tsheetoption.uid = jdoc.uid;\r\n\t\t\t\t\tme._updIV(jdoc);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme.refreshAll();\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_updIV: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\taddress = {\r\n\t\t\t\tuid: jdoc.uid,\r\n\t\t\t\toption: \"updateview\"\r\n\t\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: {option: \"updateview\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.refreshAll();\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_refresh_grid: function() {\r\n\t\tvar me = this,\r\n\t\t\trecord = me._s1;\r\n\t\t\r\n\t\tif (record.get(\"type\") == \"DataSet\")\r\n\t\t{\r\n\t\t\tme._load_dataset(record);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.load_fields(record);\r\n\t\t}\r\n\t},\r\n\t\r\n\tdeleteFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tsel = grdfields.getSelectionModel().selected,\r\n\t\t\ti;\r\n\t\t\r\n\t\tif (sel && sel.length)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(e) {\r\n\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t{\r\n\t\t\t\t\tvar payloads = [],\r\n\t\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpayloads.push({\r\n\t\t\t\t\t\t\tuid: sel.items[i].get(\"uid\"),\r\n\t\t\t\t\t\t\toption: \"delete\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\tpayload: payloads,\r\n\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_DELETED\"), null, me, 0, \"success\");\r\n\t\t\t\t\t\t\tme._refresh_grid();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t);\r\n\t\t\t\t\treq.send();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.ShowError(IRm$.r1(\"M_SELECT_ITEM\"), me);\r\n\t\t}\r\n\t},\r\n\t\r\n\tcheckTargetFolder: function() {\r\n\t\tvar me = this,\r\n\t\t\t_s1 = me._s1;\r\n\t\t\r\n\t\tif (_s1 && _s1.get(\"type\") != \"Folder\" && _s1.get(\"type\") != \"Bobject\")\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_FOLDER\"), null, null, 0, \"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!_s1)\r\n\t\t{\r\n\t\t\tme._s1 = _s1 = me.down(\"[name=cube_tree]\").getRootNode();\r\n\t\t}\r\n\t\t\r\n\t\treturn _s1;\r\n\t},\r\n\t\r\n\textrDbMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\tdlg, s;\r\n\t\t\r\n\t\ts = me.checkTargetFolder();\r\n\t\t\r\n\t\tif (!s)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (me.dbo && me.dbo.uid)\r\n\t\t{\r\n\t\t\tdlg = new IG$.p$DbMeta({\r\n\t\t\t\tuid: me.dbo.uid,\r\n\t\t\t\tdbo: me.dbo,\r\n\t\t\t\ttarget_folder: s, \r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t}\r\n\t},\r\n\r\n\treg_links: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[],\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath\", \"s\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (items.length)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.metaSelectDlg({\r\n\t\t\t\tmode: \"select\",\r\n\t\t\t\ttargetobj: \"folder\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(pitem) {\r\n\t\t\t\t\tvar req,\r\n\t\t\t\t\t\taddress = [],\r\n\t\t\t\t\t\tcontent = {items: []},\r\n\t\t\t\t\t\ti, p, c, obj, oname;\r\n\r\n\t\t\t\t\tif (pitem)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (i=0; i < items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tobj = items[i];\r\n\t\t\t\t\t\t\toname = obj.name;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (oname.indexOf(\"/\") > -1)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\toname = oname.split(\"/\");\r\n\t\t\t\t\t\t\t\toname = oname.join(\"&#x2044;\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tp = {\r\n\t\t\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\t\t\tname: oname,\r\n\t\t\t\t\t\t\t\ttype: \"Link\",\r\n\t\t\t\t\t\t\t\tpid: pitem.uid,\r\n\t\t\t\t\t\t\t\taddress: pitem.nodepath + \"/\" + oname\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tc = {\r\n\t\t\t\t\t\t\t\tmeta_type: \"link\",\r\n\t\t\t\t\t\t\t\trawuid: obj.uid,\r\n\t\t\t\t\t\t\t\trawtype: obj.type,\r\n\t\t\t\t\t\t\t\tname: oname\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\taddress.push(p);\r\n\t\t\t\t\t\t\tcontent.items.push(c);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\t\t\t\tpayload: address,\r\n\t\t\t\t\t\t\t\tmbody: content\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t\t\t\t}, null);\r\n\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\t\r\n\treg_measures: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[], ds,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\t\t\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath\", \"s\");\r\n\t\t\t\titem.formula = IG$.isNumericType(rec.get(\"datatype\")) ? \"SUM\" : \"COUNT\";\r\n\t\t\t\titem.formula_desc = item.formula == \"SUM\" ? \"Total\" : \"Count\";\r\n\t\t\t\t// item.measurename = item.formula_desc + \" \" + rec.get(\"name\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length > 0)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.multiMeasure({\r\n\t\t\t\tmetaitems: items,\r\n\t\t\t\tmfolder: me.mfolder,\r\n\t\t\t\tpcube: me,\r\n\t\t\t\tnodepath: me._mc.nodepath,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_reg_measures)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\r\n\trename_tool: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, rec, item, items=[], ds,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tst = grdfields.store.data.items;\r\n\t\t\r\n\t\tfor (i=0; i < st.length; i++)\r\n\t\t{\r\n\t\t\trec = st[i];\r\n\t\t\t\r\n\t\t\tif (rec.get(\"selected\") == true && rec.get(\"uid\"))\r\n\t\t\t{\r\n\t\t\t\titem = {};\r\n\t\t\t\tIG$.CopyObject(rec.data, item, \"uid;name;type;memo;nodepath;physical_name\", \"s\");\r\n\t\t\t\titems.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (items.length > 0)\r\n\t\t{\r\n\t\t\tvar pop = new IG$.multiRename({\r\n\t\t\t\tmetaitems: items,\r\n\t\t\t\tmfolder: me.mfolder,\r\n\t\t\t\tpcube: me,\r\n\t\t\t\tnodepath: me._mc.nodepath,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\tme._refresh_grid();\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"L_SELECT_FIELD\"), null, null, 0, \"warning\");\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveRegMeasures: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\treq,\r\n\t\t\tdlg = param[0],\r\n\t\t\titems = param[1],\r\n\t\t\taddress,\r\n\t\t\tcontent,\r\n\t\t\tcname, cdiv,\r\n\t\t\ti,\r\n\t\t\tditems = [],\r\n\t\t\tt,\r\n\t\t\taddress,\r\n\t\t\tcontent;\r\n\t\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\tt = items[i];\r\n\t\t\tif (t.ctype == \"DateMetric\" && tnodes[i])\r\n\t\t\t{\r\n\t\t\t\tt.cuid = IG$.XGetAttr(tnodes[i], \"uid\");\r\n\t\t\t\tditems.push(t);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (ditems.length)\r\n\t\t{\r\n\t\t\taddress = [];\r\n\t\t\tcontent = [];\r\n\t\t\t\r\n\t\t\tfor (i=0; i < ditems.length; i++)\r\n\t\t\t{\r\n\t\t\t\t$.each([\r\n\t\t\t\t\t{name: \"YYYY\", rname: \"YEAR\"}, \r\n\t\t\t\t\t{name: \"QUARTER\"}, \r\n\t\t\t\t\t{name: \"MM\"}, \r\n\t\t\t\t\t{name: \"DD\", rname: \"DAY\"}, \r\n\t\t\t\t\t{name: \"WM\", rname: \"WEEKMONTH\"}, \r\n\t\t\t\t\t{name: \"WEEK\"}], function(j, p) {\r\n\t\t\t\t\t\tcname = IRm$.r1(\"B_\" + p.rname + \"\");\r\n\t\t\t\t\t\tcdiv = p.name;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\taddress.push({\r\n\t\t\t\t\t\t\tuid: items[i].cloc + \"/\" + ditems[i].measurename + \"/\" + cname,\r\n\t\t\t\t\t\t\tpid: ditems[i].cuid,\r\n\t\t\t\t\t\t\tname: cname,\r\n\t\t\t\t\t\t\ttype: \"CustomMetric\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcontent.push({\r\n\t\t\t\t\t\t\tmeta_type: \"custom_dimension\",\r\n\t\t\t\t\t\t\tuid: items[i].cloc + \"/\" + ditems[i].measurename + \"/\" + cname,\r\n\t\t\t\t\t\t\tpid: ditems[i].cuid,\r\n\t\t\t\t\t\t\tname: cname,\r\n\t\t\t\t\t\t\ttype: \"CustomMetric\",\r\n\t\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tuid: ditems[i].uid,\r\n\t\t\t\t\t\t\t\t\tname: ditems[i].uid,\r\n\t\t\t\t\t\t\t\t\tnodepath: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: \"Metric\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tdatedivision: cdiv,\r\n\t\t\t\t\t\t\tdateformat: \"DATE\",\r\n\t\t\t\t\t\t\tpredefinetype: \"DATE\",\r\n\t\t\t\t\t\t\tcustom_type: \"CUSTOM_FIELD\",\r\n\t\t\t\t\t\t\tcustomdatetype: \"\",\r\n\t\t\t\t\t\t\texpression: \"$DATE_YYYY([\" + ditems[i].name + \"])$\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\t\tpayload: address,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, me, function(xdoc) {\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t\t});\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t}\r\n\t},\r\n\t\r\n\tbuild_model: function() {\r\n\t\tvar me = this,\r\n\t\t\treq, rec, i,\r\n\t\t\tsel,\r\n\t\t\tgrdfields = me.down(\"[name=grdfields]\"),\r\n\t\t\tsel = grdfields.getSelectionModel().selected,\r\n\t\t\tmbody = {tables: []},\r\n\t\t\trtype;\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\trec = sel.items[i];\r\n\t\t\trtype = rec.get(\"type\").toLowerCase();\r\n\t\t\tif (rtype == \"table\" || rtype == \"inlineview\")\r\n\t\t\t{\r\n\t\t\t\tmbody.tables.push({\r\n\t\t\t\t\tname: rec.get(\"name\"),\r\n\t\t\t\t\tuid: rec.get(\"uid\")\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tmbody.pool = [\r\n\t\t\t{\r\n\t\t\t\tuid: me.uid\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"cubecontent\",\r\n\t\t\t\tpayload: {option: \"build_model\"},\r\n\t\t\t\tmbody: mbody,\r\n\t\t\t\tmeta_type: \"tables\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar mp = IG$.mainPanel;\r\n\t\t\t\tmp && mp.navigateApp.call(mp, null, \"cubemodel\".toLowerCase(), \"new model\", null, false, true, {\r\n\t\t\t\t\tobj_uid: me.uid,\r\n\t\t\t\t\t_c$: jdoc\r\n\t\t\t\t});\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tregisterSelectedTable: function(sel) {\r\n\t\tvar me = this,\r\n\t\t\taddress = {option: \"register\"},\r\n\t\t\toption = {tables: []},\r\n\t\t\ti, name,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tnsel = 0,\r\n\t\t\t_s1 = me._s1;\r\n\t\t\r\n\t\tif (sel.length == 0)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\ts = sel[i];\r\n\t\t\toption.tables.push({\r\n\t\t\t\tdbpool: me.targetdb || me.dbo.uid,\r\n\t\t\t\tpid: _s1.get(\"uid\"),\r\n\t\t\t\tname: s.name,\r\n\t\t\t\tschemaname: s.schemaname,\r\n\t\t\t\tproduct_code: s.product_code,\r\n\t\t\t\texternal_name: s.external_name || s.name,\r\n\t\t\t\tobject_type: s.object_type\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif (s.product_code)\r\n\t\t\t{\r\n\t\t\t\taddress.product_code = s.product_code;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: option,\r\n\t\t\t\tmeta_type: \"tables\"\r\n\t\t\t}, me, function(xdoc) {\r\n\t\t\t\tme.refreshAll();\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trefreshAll: function() {\r\n\t\tvar me = this,\r\n\t\t\tcube_tree = me.down(\"[name=cube_tree]\");\r\n\t\t\r\n\t\tcube_tree.refreshTree();\r\n\t},\r\n\t\r\n\tinitComponent: function() {\r\n\t\tvar me = this;\r\n\r\n\t\tig$.$l_ = ig$.$l_ || 0;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\tborder: 1,\r\n\t\t\t\t\tlayout: \"border\",\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\tnew IG$.naviTree({\r\n\t\t\t\t\t\t\tshowtoolbar: false,\r\n\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tname: \"cube_tree\",\r\n\t\t\t\t\t\t\trootuid: me.uid,\r\n\t\t\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\t\t\twidth: 300,\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FOLDER_AND_TABLES\"), // \"Folder and Tables\",\r\n\t\t\t\t\t\t\tvisibleItems: \"folder;table;inlineview;cubemodel;dataset;datemetric;\",\r\n\t\t\t\t\t\t\tenabledrag: true,\r\n\t\t\t\t\t\t\t_search: true,\r\n\t\t\t\t\t\t\tcustom_click_func: new IG$.callBackObj(me, me.custom_click_func),\r\n\t\t\t\t\t\t\tcustom_expand_func: new IG$.callBackObj(me, me.custom_expand_func),\r\n\t\t\t\t\t\t\tisdatasource: true,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\ttoolbar: function(cmd, record, e) {\r\n\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\tme._s1 = record;\r\n\t\t\t\t\t\t\t\t\tme.tbarHndlr(cmd);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\t\t\tname: \"mviewer\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\tlayout: \"card\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\thtml: '<div style=\"padding: 10px\">' + IRm$.r1(\"M_SELECT_ITEM\") + '</div>'\t\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tb_info\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TABLE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"schema_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EDIT_SQL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"edit_sql\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (!me._s1c)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.tbarHndlr(\"cmd_inlineview\", me._s1c); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_ALLOW_INSERT\"), // Allow Insert\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"allow_insert\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5 || !me.__stagingdb,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt2 = me.down(\"[name=t2]\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt2.setVisible(tobj.getValue());\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"file_field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILE_FIELD\"), // File Field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"seq_field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_UNIQUE_FIELD\"), // Unique Field\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_FIELDS\"), // \"Fields\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"grdfields\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"datatype\", \"datasize\", \"decimaldigits\", \"tablename\", \"type\", \"iskey\", \"iconcls\", \"physical_name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thideable: false\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"iconcls\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderer: function(value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn \"<div class='igc_g_icon \" + value + \"'></div>\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_PHY_NAME\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_DATATYPE\"),  \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"datatype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80 //,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"select\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARCHAR\", value: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATE\", value: \"DATE\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NUMERIC\", value: \"NUMERIC\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LOB\", value: \"LOB\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"OTHER\", value: \"OTHER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.deleteMetaObject(rec.get(\"uid\"), rec, new IG$.callBackObj(me, function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tbeforeedit: function(editor, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled = me.__dbtype == 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIdx = e.colIdx;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (colIdx == 0 && !enabled)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t\t\tedit: function(editor, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd = e.grid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = e.grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = e.record,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolIdx = e.colIdx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trowIdx = e.rowIdx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tovalue = e.originalValue,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tnvalue = e.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbf = 0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (colIdx == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (i != rowIdx)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = r.get(\"name\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (cvalue.indexOf(ovalue) > -1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbf = 1;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bf)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.confirmMessages(IRm$.r1(\"B_CONFIRM\"), IRm$.r1(\"L_TB_BN\"), function(dlg) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (dlg == \"yes\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tn;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (i != rowIdx)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr = store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = r.get(\"name\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tn = cvalue.indexOf(ovalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (n > -1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcvalue = cvalue.substring(0, n) + nvalue + cvalue.substring(n + ovalue.length);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tr.set(\"name\", cvalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, node, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tltype = node.get(\"type\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (ltype != \"Field\" && cellIndex == 2)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_dimension(node);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdock: \"top\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-save\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_SAVE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_save_field\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_1a\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_refresh_field\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-remove\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_delete_field\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_filter\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(tobj, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grdfields\", [\"name\", \"physical_name\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grdfields\", [\"name\", \"physical_name\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn_pv\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-tb-preview\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DATA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Preview\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_preview\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_OPTIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_RELATIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_rel_field\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-measure\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REG_MEASURES\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_2\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_regmeasures\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-link\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REG_LINK\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_3\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_reglinks\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RENAME_TOOL\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_rename_tool\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn3\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_OPTIONS\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_BATCH_UPD_SCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_change_schema\"); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EDIT_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"b_opt_4\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (me._s1 && me._s1.get(\"type\") == \"DataSet\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._load_dataset(me._s1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_btn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CREATE_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_FOLDER\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_f_f\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Folder\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_CUSTOMMETRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_cm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"CustomMetric\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_MEASURE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_ms\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Measure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_fm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"FormulaMeasure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_DATEMETRIC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_dm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"DateMetric\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_CHARTMEASURE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_cms\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"ChartMeasure\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_HIERARCHY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_hm\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"Hierarchy\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"D_UDG\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_udg\"] !== false, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.createItem(\"UDG\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-save',\r\n\t\t\t\t\t\t\tname: \"t_save\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1('L_SAVE'),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr('cmd_save');\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'-',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_IMP_TB\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"import_object\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_C_INLINEV\"),\r\n\t\t\t\t\t\t\tname: \"b_m2\",\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_inlineview\"); \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DATASET\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5 || (ig$.features && ig$.features[\"ig_n_dataset\"]),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_dataset\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-hl\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_TB_HL\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_hl_option\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-filter\",\r\n\t\t\t\t\t\t\ttooltip: \"Security Filter\",\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_sec_filter\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_BUILD_MODEL\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_build_model\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ticonCls: \"icon-toolbar-addsheet\",\r\n\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_ADD_BOBJ\"),\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DT_MASHING\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_add_bobj\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EXTRACT_META\"),\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tname: \"btn_extr\",\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_extract_dbmeta\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: \"icon-report\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"M_REPORT\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_report\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_EXPORT_META\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.tbarHndlr(\"cmd_export_meta\");\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t'-',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SEL_DB\"),\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.sel_db();\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tbbar: [\r\n\t\t   \t\t\t\t{\r\n\t\t   \t\t\t\t\txtype: \"toolbar\",\r\n\t\t   \t\t\t\t\titems: [\r\n\t\t   \t\t\t\t\t\t{\r\n\t\t   \t\t\t\t\t\t\txtype: \"button\",\r\n\t\t   \t\t\t\t\t\t\ttext: \"\",\r\n\t\t   \t\t\t\t\t\t\tname: \"tbdsname\",\r\n\t\t   \t\t\t\t\t\t\ttooltipType: \"title\",\r\n\t\t   \t\t\t\t\t\t\ttooltip: \"Data Connections\"\r\n\t\t   \t\t\t\t\t\t}\r\n\t\t   \t\t\t\t\t]\r\n\t\t   \t\t\t\t}\r\n\t\t   \t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj._init.call(tobj);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.tableManager.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\nIG$.dlg_compare_field = $s.extend($s.window, {\r\n\r\n\twidth: 500,\r\n\theight: 520,\r\n\tlayout: \"fit\",\r\n\tpadding: 5,\r\n\t\r\n\trefreshFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tsnode = me._s1,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\taddress = {\r\n\t\t\t\tuid: snode.get(\"uid\"),\r\n\t\t\t\toption: \"compare_fields\"\r\n\t\t\t},\r\n\t\t\toption = {\r\n\t\t\t\tschema: me.schema,\r\n\t\t\t\ttable: me.table\r\n\t\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: option\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tcolumns,\r\n\t\t\t\t\tr, k,\r\n\t\t\t\t\tmsg;\r\n\t\t\t\t\r\n\t\t\t\tcolumns = jdoc ? jdoc.columns || [] : [];\r\n\t\t\t\tfor (i=0; i < columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tr = columns[i];\r\n\t\t\t\t\tif (r.changedprop)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tr.status = r.changedprop.status;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!r.status)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmsg = [];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (k in r.changedprop)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tif (k != \"status\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tmsg.push(k);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (msg.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tr.status = \"CHANGED\";\r\n\t\t\t\t\t\t\t\tr.propdesc = msg.join(\",\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.down(\"[name=dgrid]\").store.loadData(columns);\r\n\t\t\t\t\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\tstore = dgrid.store,\r\n\t\t\tsel = dgrid.selModel.selected,\r\n\t\t\tdp = [],\r\n\t\t\trec,\r\n\t\t\thas_remove,\r\n\t\t\ti;\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\trec = sel.items[i];\r\n\t\t\t\r\n\t\t\tif (rec.data.status == \"CHANGED\" || rec.data.status == \"NEW\" || rec.data.status == \"REMOVED\")\r\n\t\t\t{\r\n\t\t\t\tif (rec.data.status == \"REMOVED\")\r\n\t\t\t\t{\r\n\t\t\t\t\thas_remove = 1;\r\n\t\t\t\t}\r\n\t\t\t\tdp.push(rec.data);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (dp.length == 0)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"No item selected\", null, null, 0, \"warning\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (has_remove)\r\n\t\t{\r\n\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(dlg) {\r\n\t\t\t\tif (dlg != \"yes\")\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t\tme.callback && me.callback.execute(dp);\r\n\t\t\t\tme.close();\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(dp);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"L_COL_SYNC\"), // \"Column synchronization\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"dgrid\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UNDO\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected;\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"status\"))\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"IGNORE\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\tname: \"alias_desc\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS_TO_DESC\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\t\t\t\t\tavalue,\r\n\t\t\t\t\t\t\t\t\t\t\tchangedprop;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tavalue = rec.get(\"column_comments\");\r\n\t\t\t\t\t\t\t\t\t\t\tif (avalue)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop = rec.data.changedprop;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!changedprop)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.data.changedprop = changedprop = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.name = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.description = avalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"description\", avalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"CHANGED\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS_TO_NAME\"),\r\n\t\t\t\t\t\t\t\t\tname: \"alias_name\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tdgrid = me.down(\"[name=dgrid]\"),\r\n\t\t\t\t\t\t\t\t\t\t\tsel = dgrid.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\ti, rec,\r\n\t\t\t\t\t\t\t\t\t\t\tavalue,\r\n\t\t\t\t\t\t\t\t\t\t\tchangedprop;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\trec = sel.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\tavalue = rec.get(\"column_comments\");\r\n\t\t\t\t\t\t\t\t\t\t\tif (avalue)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop = rec.data.changedprop;\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (!changedprop)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec.data.changedprop = changedprop = {};\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.name = avalue;\r\n\t\t\t\t\t\t\t\t\t\t\t\tchangedprop.description = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"name\", avalue);\r\n\t\t\t\t\t\t\t\t\t\t\t\trec.set(\"status\", \"CHANGED\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_STATUS\"),\r\n\t\t\t\t\t\t\t\t\twidth: 100,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"status\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"propdesc\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ALIAS\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"column_comments\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj.refreshFields();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_compare_field.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\nIG$.dlg_schemaname = $s.extend($s.window, {\r\n\r\n\twidth: 300,\r\n\tautoHeight: true,\r\n\tlayout: \"fit\",\r\n\tpadding: 5,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ttopt = {\r\n\t\t\t\tpvalue: me.down(\"[name=toldvalue]\").getValue(),\r\n\t\t\t\tnvalue: me.down(\"[name=tnewvalue]\").getValue()\r\n\t\t\t};\r\n\t\t\r\n\t\tme.callback && me.callback.execute(topt);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"L_CHANGE_SCH_NAME\"), // \"Change schemaname\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SCH_NAME_CHANGE\"), // \"Schema name change\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"toldvalue\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OLD_NAME\") // Old name\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"tnewvalue\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_NEW_NAME\") // New name\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_schemaname.superclass.initComponent.call(this);\r\n\t}\r\n});","if (!IG$.dlg_select_ds)\r\n{\r\nIG$.dlg_select_ds = $s.extend($s.window, {\r\n\r\n\twidth: 500,\r\n\theight: 520,\r\n\tlayout: \"fit\",\r\n\tpadding: 5,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tdatasource = me.datasource,\r\n\t\t\tsel;\r\n\t\t\t\r\n\t\tif (datasource)\r\n\t\t{\r\n\t\t\tme.down(\"[name=opt_dbtype]\").setValue(\"db\");\r\n\t\t}\r\n\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"userdb\",\r\n\t\t\t\tpayload: {\"address\": \"/Connections\", option: \"list\"},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tdbs = jdoc.children,\r\n\t\t\t\t\tdsource = me.down(\"[name=dsource]\"),\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\ti;\r\n\t\t\t\t\t\r\n\t\t\t\tif (dbs && dbs.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < dbs.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (me.sel_mode == 1 || dbs[i].attributes && dbs[i].attributes.attrb1 == \"T\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (datasource && datasource.uid == dbs[i].uid)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsel = dbs[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdp.push(dbs[i]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdsource.store.loadData(dp);\r\n\t\t\t\t\r\n\t\t\t\tif (sel)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar rec = dsource.store._pull[sel.id];\r\n\t\t\t\t\trec && dsource.getSelectionModel().select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_confirm: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tdsource = me.down(\"[name=dsource]\"),\r\n\t\t\topt_dbtype = me.down(\"[name=opt_dbtype]\"),\r\n\t\t\tdbtype_val = opt_dbtype.getValue(),\r\n\t\t\tdbtype = dbtype_val[\"cb_dbtype\"],\r\n\t\t\tsel = !rec ? dsource.getSelectionModel().selected : null;\r\n\t\t\r\n\t\tif (dbtype == \"db\" || me.sel_mode == 1)\r\n\t\t{\r\n\t\t\tif (rec)\r\n\t\t\t{\r\n\t\t\t\tme.callback && me.callback.execute(rec);\r\n\t\t\t\tme.close();\r\n\t\t\t}\r\n\t\t\telse if (sel && sel.length)\r\n\t\t\t{\r\n\t\t\t\tme.callback && me.callback.execute(sel.items[0]);\r\n\t\t\t\tme.close();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_DC\"), me); // \"Select data connector to continue!\", me);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute();\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\ttitle: IRm$.r1(\"T_SEL_DB\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STORAGE_OPTIONS\"), // \"Storage Options\",\r\n\t\t\t\t\t\t\thidden: me.sel_mode == 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\tname: \"opt_dbtype\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA_STORAGE\"),\r\n\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_TEMP\"), // \"Use Temporary\", \r\n\t\t\t\t\t\t\t\t\t\t\tname: \"cb_dbtype\", \r\n\t\t\t\t\t\t\t\t\t\t\tinputValue: \"h2\", \r\n\t\t\t\t\t\t\t\t\t\t\tchecked: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_USE_STG\"), // \"Staging Database\", \r\n\t\t\t\t\t\t\t\t\t\t\tname: \"cb_dbtype\", \r\n\t\t\t\t\t\t\t\t\t\t\tinputValue: \"db\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(tobj, nvalue, ovalue) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\tmview = me.down(\"[name=mview]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmview.setDisabled(nvalue && nvalue.cb_dbtype && nvalue.cb_dbtype == \"db\" ? false : true);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\tname: \"mview\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STAGING_DB\"), // \"Staging Databases\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tpaddingY: 10,\r\n\t\t\t\t\t\t\tdisabled: me.sel_mode == 1 ? false : true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"dsource\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tmode: \"SINGLE\",\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"description\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tcellclick: function(view, node, c, rec, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\topt_dbtype = me.down(\"[name=opt_dbtype]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\tdbtype_val = opt_dbtype.getValue();\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (me.sel_mode == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (c == 1)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (dbtype_val && dbtype_val[\"cb_dbtype\"] == \"db\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme._confirm(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.ShowError(IRm$.r1(\"E_CHECK_DTYPE\"), me); // \"Check datatype to staging database!\", me);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(tobj) {\r\n\t\t\t\t\ttobj._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlg_select_ds.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n}","IG$.relationMgr = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tclosable: false,\r\n\tresizable:true,\r\n\tlayout: \"fit\",\r\n\twidth: 600,\r\n\tautoHeight: true,\r\n\t\r\n\tlayout: {\r\n\t\ttype: 'fit'\r\n\t},\r\n\t\r\n\tbodyPadding: 0,\r\n\t\r\n\tloadRelation: function(uid, type, grd) {\r\n\t\tvar me = this,\r\n\t\t\tlreq = new IG$._rpc$(),\r\n\t\t\tisdown = true,\r\n\t\t\titype = type ? type.toLowerCase() : \"\";\r\n\t\t\t\r\n\t\tif (itype == \"report\")\r\n\t\t{\r\n\t\t\tisdown = false;\r\n\t\t}\r\n\t\t\r\n\t\tlreq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\tpayload: {uid: uid},\r\n\t\t\t\tmbody: {option: \"relations\", isdown: (isdown ? \"T\" : \"F\"), detail: \"info\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tgrd_rel = me.down(\"[name=\" + (grd || \"grd_rel\") + \"]\"),\r\n\t\t\t\t\ttnodes = jdoc && jdoc.children ? jdoc.children : [],\r\n\t\t\t\t\ti, d, dm,\r\n\t\t\t\t\ttxtrel = me.down(\"[name=txtrel]\"),\r\n\t\t\t\t\tdp = [];\r\n\t\t\t\t\r\n\t\t\t\tif (!uid)\r\n\t\t\t\t{\r\n\t\t\t\t\ttxtrel.setValue(\"Relations : \" + jdoc.name + \"(\" + jdoc.nodepath + \")\");\r\n\t\t\t\t}\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\td = tnodes[i];\r\n\t\t\t\t\td.iconcls = IG$.get_metatype_icon(d.type.toLowerCase(), d);\r\n\t\t\t\t\tdp.push(d);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgrd_rel.store.loadData(dp);\r\n\t\t\t}, false);\r\n\t\t\t\r\n\t\tlreq.send();\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"T_Resources\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tbodyPadding: 10,\r\n\t\t\t\t\tminHeight: 500,\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tname: \"txtrel\",\r\n\t\t\t\t\t\t\tvalue: \"Relations\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"grd_rel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"nodepath\", \"uid\", \"type\", \"iconcls\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tminWidth: 160,\r\n\t\t\t\t\t\t\t\t\ttdCls: \"ig-navi-namecol\",\r\n\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\tvar r = [\r\n\t\t\t\t\t\t\t\t\t\t\t\"<div class='ig-navi-itemicon \" + (record.get(\"iconcls\") || \"\") + \"'></div>\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"<span title='\" + record.get(\"name\") + \"(\" + record.get(\"type\") + \")'>\" + record.get(\"name\") + \"</span>\"\r\n\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn r.join(\"\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// tpl: \"<div class='ig-navi-itemicon {iconcls}'></div><span title='{name} ({type})'>{name}</span>\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"nodepath\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tcellclick: function(tobj, td, cellIndex, record, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\tpng_rel_sub = me.down(\"[name=png_rel_sub]\"),\r\n\t\t\t\t\t\t\t\t\t\tuid = record.get(\"uid\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (cellIndex == 0)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tpng_rel_sub.show();\r\n\t\t\t\t\t\t\t\t\t\tme.loadRelation(uid, record.get(\"type\"), \"grd_rel_sub\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tname: \"png_rel_sub\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tvalue: \"Sub relations\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tname: \"grd_rel_sub\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"nodepath\", \"uid\", \"type\", \"iconcls\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tmenuDisabled: true,\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"ig-navi-namecol\",\r\n\t\t\t\t\t\t\t\t\t\t\trenderer: function(value, metadata, record) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar r = [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<div class='ig-navi-itemicon \" + (record.get(\"iconcls\") || \"\") + \"'></div>\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"<span title='\" + record.get(\"name\") + \"(\" + record.get(\"type\") + \")'>\" + record.get(\"name\") + \"</span>\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn r.join(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// tpl: \"<div class='ig-navi-itemicon {iconcls}'></div><span title='{name} ({type})'>{name}</span>\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tminWidth: 200,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"nodepath\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.relationMgr.superclass.initComponent.call(this);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(tobj) {\r\n\t\t\tvar me = this;\r\n\t\t\ttobj.loadRelation(me.uid, me.type);\r\n\t\t}\r\n\t}\r\n});","\r\nIG$.measureEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\theight: 530,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\texptype = me.down(\"[name=expressiontype]\");\r\n\t\t\t\r\n\t\texptype.setValue(\"([field])\");\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.meta_type = \"measure\";\r\n\t\t\tme.rs_procLoadContent({\r\n\t\t\t\tcontent: me.dmode_cnt\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"cube_style_info\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\tcontent: {\r\n\t\t\t\t\t\t\t\twritable: true,\r\n\t\t\t\t\t\t\t\tcubeinfo: jdoc,\r\n\t\t\t\t\t\t\t\tmeta_type: \"measure\"\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\texpressionChange: function(field, newvalue, oldvalue) {\r\n\t\tif (newvalue)\r\n\t\t{\r\n\t\t\tthis.down(\"[name=expression]\").setValue(newvalue);\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tthis.clItem = jdoc.content;\r\n\t\t}\r\n\t\t\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcpath,\r\n\t\t\tmpath, j,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\tcubeinfo,\r\n\t\t\tstyles = [],\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\");\r\n\t\t\r\n\t\tcitem.rel_items = citem.rel_items || [];\r\n\t\t\r\n\t\tme.down(\"[name=b_confirm]\").setVisible(citem.writable || me.dmode);\r\n\t\tme.down(\"[name=itemname]\").setValue(citem.name);\r\n\t\tme.down(\"[name=description]\").setValue(citem.description);\r\n\t\t\r\n\t\tcpath = citem.nodepath ? citem.nodepath.split(\"/\") : null;\r\n\t\t\r\n\t\tif (cpath)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.rel_items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpath = citem.rel_items[i].nodepath;\r\n\t\t\t\tmpath = (mpath ? mpath.split(\"/\") : null);\r\n\t\t\t\t\r\n\t\t\t\tif (mpath)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=mpath.length-1; j>=0; j--)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (mpath[j] == cpath[j])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmpath.splice(j, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitem.rel_items[i].cpath = mpath.join(\"/\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstyles.push({disp: \"--- select ---\", name: \"\"});\r\n\t\t\r\n\t\tif (!citem.cubeinfo)\r\n\t\t{\r\n\t\t\tcubeinfo = citem.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\tcubeinfo = citem.cubeinfo;\r\n\t\tdelete citem[\"cubeinfo\"];\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tdisp: t.name,\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\toptstyle.store.loadData(styles);\r\n\t\toptstyle.setValue(citem.stylename || \"\");\r\n\t\t\t\t\r\n\t\tme.datagrid.store.loadData(citem.rel_items);\r\n\t\tme.down(\"[name=expression]\").setValue(citem.expression);\r\n\t\tif (ig$.$l_ < 5)\r\n\t\t\tme.down(\"[name=mfilter]\").setValue(citem.measure_filter);\r\n\t\t\r\n\t\tvar exptype = me.down(\"[name=expressiontype]\");\r\n\t\tme.clItem.expressiontype = (citem.expressiontype == \"COUNT\") ? \"COUNT_DISTINCT\" : citem.expressiontype;\r\n\t\texptype.setValue(citem.expressiontype);\r\n\t\texptype.on(\"change\", me.expressionChange, me); \r\n\t\t\r\n\t\t// me.down(\"[name=calcmode]\").setValue(citem.calcmode);\r\n\t\t// IG$.r___.registerTooltip(me.down(\"[name=calcmode]\"), \"calcmode\");\r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t\tme.cubepath = tnode.nodepath;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tt,\r\n\t\t\tfield, d, ctrl, \r\n\t\t\ti, datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\tcitem = me.clItem;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tcitem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tcitem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tt = me.down(\"[name=expression]\").getValue();\r\n\t\tcitem.expression = t;\r\n\t\tctrl = me.down(\"[name=expressiontype]\");\r\n\t\tt = ctrl.getValue();\r\n\t\tfor (i=0; i < ctrl.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tif (ctrl.store.data.items[i].data.value == t)\r\n\t\t\t{\r\n\t\t\t\tcitem.expressiontype = ctrl.store.data.items[i].data.name;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (ig$.$l_ < 5)\r\n\t\t\tcitem.measure_filter = me.down(\"[name=mfilter]\").getValue();\r\n\t\tcitem.rel_items = [];\r\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\tcitem.rel_items.push(field);\r\n\t\t}\r\n\t\t\r\n\t\t// citem.calcmode = me.down(\"[name=calcmode]\").getValue();\r\n\t\t\r\n\t\tcitem.stylename = me.down(\"[name=optstyle]\").getValue();\r\n\t\t\r\n\t\tif (me.dmode)\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(citem);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: citem.name, description: citem.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + citem.name : null)},\r\n\t\t\t\t\tmbody: citem,\r\n\t\t\t\t\tmeta_type: \"measure\"\r\n\t\t\t\t}, me, me.rs_saveContent, null, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\teditorItemName: function(itemname) {\r\n\t\tvar expression = this.down(\"[name=expression]\");\r\n\t\tIG$._inpEdt$(expression, itemname);\r\n\t},\r\n\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\tvisibleItems: \"userdb;dataset;table;inlineview;folder;metric;custommetric;measure\",\r\n\t\t\tmultiselect: true,\r\n\t\t\ttree_options: {\r\n\t\t\t\tcubebrowse: true,\r\n\t\t\t\trootuid: me.cubeuid\r\n\t\t\t}\r\n\t\t});\r\n\t\tdlgitemsel.callback = new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname);\r\n\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(item, fieldname) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (fieldname == \"grid\")\r\n\t\t{\r\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\t\titems = [];\r\n\t\t\t\r\n\t\t\tif (item.length)\r\n\t\t\t{\r\n\t\t\t\titems = item;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\titems = [item];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t$.each(items, function(n, item) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (me.cubepath)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath.replace(me.cubepath, \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:\"padding:0px\"},\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tbodyPadding: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\theight: 50\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"expressiontype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"left\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"label\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"value\", \"label\", \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Custom\", name: \"CUSTOM\", value:\"([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Distinct count\", name: \"COUNT_DISTINCT\", value:\"COUNT(DISTINCT [field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"All count\", name: \"COUNT_ALL\", value:\"COUNT([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Sum\", name: \"SUM\", value:\"SUM([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Average\", name: \"AVERAGE\", value:\"AVG([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Max\", name: \"MAX\", value:\"MAX([field])\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{label:\"Min\", name: \"MIN\", value:\"MIN([field])\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/*,\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"calcmode\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_CALC_IN_RESULT\"), // \"Calculate In Result\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true, // ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"expression\",\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SYNTAX\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tig$.$l_ < 5 ? \r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"mfilter\",\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_M_FILTER\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100\r\n\t\t\t\t\t\t\t\t\t\t} : {\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\theight: 10\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\", \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\t\t\theight: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar r = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rc && rc.data.type == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_ME_DISP1\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"grid\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\tpadding: \"3 5\",\r\n\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar panel = this;\r\n\t\t\t\t\tpanel.datagrid = panel.down(\"[name=datagrid]\");\r\n\t\t\t\t\tpanel.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.measureEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","\r\nIG$.HierarchyEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: false,\r\n\tisWindow: true,\r\n\tregion:\"center\",\r\n\tlayout: {\r\n\t\ttype: \"fit\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\theight: 580,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this,\r\n\t\t\tdmode = me.dmode,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tdisptype = me.down(\"[name=disptype]\");\r\n\t\t\t\r\n\t\tdisptype.setValue(\"single\");\r\n\t\t\r\n\t\tif (dmode)\r\n\t\t{\r\n\t\t\tme.rs_procLoadContent();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (me.uid)\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t\t\t}, me, me.rs_procLoadContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t\telse if (me.parentuid)\r\n\t\t\t{\r\n\t\t\t\tme.rs_procLoadContent({\r\n\t\t\t\t\tcontent: {}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_procLoadContent: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcpath,\r\n\t\t\tmpath, j,\r\n\t\t\tdp = [],\r\n\t\t\tdisptype;\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tcitem = me.clItem = jdoc.content;\r\n\t\t}\r\n\t\t\t\r\n\t\tcpath = citem.nodepath ? citem.nodepath.split(\"/\") : null;\r\n\t\t\r\n\t\tcitem.rel_items = citem.rel_items || [];\r\n\t\tme.down(\"[name=itemname]\").setValue(citem.name);\r\n\t\tme.down(\"[name=description]\").setValue(citem.description);\r\n\t\t\r\n\t\tif (cpath)\r\n\t\t{\r\n\t\t\tfor (i=0; i < citem.rel_items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpath = citem.rel_items[i].nodepath;\r\n\t\t\t\tmpath = (mpath ? mpath.split(\"/\") : null);\r\n\t\t\t\t\r\n\t\t\t\tif (mpath)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=mpath.length-1; j>=0; j--)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (mpath[j] == cpath[j])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmpath.splice(j, 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitem.rel_items[i].cpath = mpath.join(\"/\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.datagrid.store.loadData(citem.rel_items);\r\n\t\t\r\n\t\tdisptype = me.down(\"[name=disptype]\");\r\n\t\tdisptype.setValue(citem.display_type || \"single\"); \r\n\t\t\r\n\t\tif (!me.dmode)\r\n\t\t{\r\n\t\t\tme.getParentCube();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetParentCube: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\r\n\t\t\tme.rs_getParentcube(jdoc);\r\n\t\t}));\r\n\t},\r\n\t\r\n\trs_getParentcube: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ttnode = jdoc && jdoc.length ? jdoc[0] : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tme.cubeuid = tnode.uid;\r\n\t\t\tme.cubepath = tnode.nodepath;\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tt,\r\n\t\t\tmeta, field, d, ctrl,\r\n\t\t\tcitem = me.clItem,\r\n\t\t\ti, datagrid = me.down(\"[name=datagrid]\");\r\n\t\t\r\n\t\tctrl = me.down(\"[name=disptype]\");\r\n\t\tcitem.display_type = ctrl.getValue();\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tcitem.meta_type = \"hierarchy_dimension\";\r\n\t\tcitem.name = me.down(\"[name=itemname]\").getValue();\r\n\t\tcitem.description = me.down(\"[name=description]\").getValue();\r\n\t\t\r\n\t\tcitem.rel_items = [];\r\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\td = datagrid.store.data.items[i].data;\r\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\r\n\t\t\tcitem.rel_items.push(field);\r\n\t\t}\r\n\t\t\r\n\t\tif (me.dmode)\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute({citem: citem});\r\n\t\t\tme.close();s\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar req = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: citem.name, description: citem.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + citem.name : null)},\r\n\t\t\t\t\tmbody: citem,\r\n\t\t\t\t\tmeta_type: \"hierarchy_dimension\"\r\n\t\t\t\t}, me, me.rs_saveContent, null, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.clItem);\r\n\t\tme.close();\r\n\t},\r\n\t\t\t\r\n\tselectItem: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tvisibleItems: \"folder;metric;table;custommetric;dataset;measure\",\r\n\t\t\t\tmultiselect: 1,\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\trootuid: me.cubeuid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.cubeSelectedHandler, fieldname)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(items, fieldname) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (fieldname == \"grid\")\r\n\t\t{\r\n\t\t\t$.each(items, function(k, item) {\r\n\t\t\t\tvar datagrid = me.down(\"[name=datagrid]\"),\r\n\t\t\t\t\ti,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tbexist = false;\r\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = datagrid.store.data.items[i];\r\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bexist == false)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (me.cubepath)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath.replace(me.cubepath, \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.cpath = item.nodepath;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdatagrid.store.add(item);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tmoveGridSelection: function(grid, direction) {\r\n\t\tvar records = grid.getSelectionModel().getSelection(),\r\n\t\t\trecord = records && records.length ? records[0] : null;\r\n\t\t\t\r\n\t\tif (!record) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar index = grid.getStore().indexOf(record);\r\n\t\t\r\n\t\tif (direction < 0) \r\n\t\t{\r\n\t\t\tindex--;\r\n\t\t\tif (index < 0) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tindex++;\r\n\t\t\tif (index >= grid.getStore().getCount()) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.getStore().remove(record);\r\n\t\trecord = grid.getStore().insert(index, record);\r\n\t\tgrid.getSelectionModel().select(record, true);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"T_HIERARCHY\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:\"padding:0px\"},\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tbodyPadding: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\theight: 50\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_METRIC_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"disptype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"left\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"value\", \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Compact Layout\", value: \"single\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Outline Layout\", value: \"multi\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"datagrid\",\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\", \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_UP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=datagrid]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.moveGridSelection(grd_data, -1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DOWN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=datagrid]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.moveGridSelection(grd_data, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDrop: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tenableDrag: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar r = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tindex,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (rc && rc.data.type == \"Metric\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition, opts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_PATH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"cpath\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, event, Option) {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.editorItemName(record.data.name);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_ME_DISP1\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"grid\");\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar panel = this;\r\n\t\t\t\t\tpanel.datagrid = panel.down(\"[name=datagrid]\");\r\n\t\t\t\t\tpanel.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.HierarchyEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.formulaEditor = $s.extend($s.window, {\n\t\n\tmodal: false,\n\n\tregion:\"center\",\n\t\n\tisWindow: true,\n\t\n\tlayout: {\n\t\ttype: \"fit\",\n\t\talign: \"stretch\"\n\t},\n\t\n\tclosable: true,\n\tresizable:false,\n\t\n\twidth: 500,\n\theight: 550,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tt,\n\t\t\titem = me.clItem,\n\t\t\tfield, d, ctrl,\n\t\t\ti, datagrid = this.down(\"[name=datagrid]\");\n\t\t\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\n\t\t\treturn;\n\t\t\n\t\titem.meta_type = \"formula_measure\";\n\t\titem.name = me.down(\"[name=itemname]\").getValue();\n\t\titem.description = me.down(\"[name=description]\").getValue();\n\t\t\n\t\tt = me.down(\"[name=expression]\").getValue();\n\t\titem.expression = t;\n\n\t\titem.rel_items = [];\n\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\n\t\t{\n\t\t\td = datagrid.store.data.items[i].data;\n\t\t\tfield = {uid: d.uid, name: d.name, nodepath: d.nodepath, memo: d.memo, type: d.type};\n\t\t\titem.rel_items.push(field);\n\t\t}\n\t\t\n\t\titem.stylename = me.down(\"[name=optstyle]\").getValue();\n\t\t\n\t\tif (me.dmode)\n\t\t{\n\t\t\tme.callback && me.callback.execute(item);\n\t\t\tme.close();\n\t\t}\n\t\telse\n\t\t{\n\t\t\tvar req = new IG$._rpc$();\n\t\t\t\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"writecontent\",\n\t\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: item.name, description: item.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + item.name : null)},\n\t\t\t\t\tmbody: item,\n\t\t\t\t\tmeta_type: \"formula_measure\"\n\t\t\t\t}, me, me.r_confirm, null);\n\t\t\treq.send();\n\t\t}\n\t},\n\t\n\tr_confirm: function(jdoc) {\n\t\tvar me = this;\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\n\t\tme.callback && me.callback.execute(me.clItem);\n\t\tme.close();\n\t},\n\t\n\tselectItem: function(fieldname) {\n\t\tvar dlgitemsel = new IG$.metaSelectDlg({\n\t\t\tmultiselect: 1,\n\t\t\tvisibleItems: \"folder;metric;dataset;table;inlineview;measuregroupdimension;measure;formulameasure\",\n\t\t\ttree_options: {\n\t\t\t\tcubebrowse: true,\n\t\t\t\trootuid: this.cubeuid\n\t\t\t}\n\t\t});\n\t\tdlgitemsel.callback = new IG$.callBackObj(this, this.cubeSelectedHandler, fieldname);\n\t\tIG$.checkLogin(this, dlgitemsel);\n\t},\n\t\n\tcubeSelectedHandler: function(items, fieldname) {\n\t\tvar me = this;\n\t\t\n\t\tif (fieldname == \"measure\")\n\t\t{\n\t\t\tvar datagrid = me.down(\"[name=datagrid]\");\n\t\t\t\n\t\t\t$.each(items, function(n, item) {\n\t\t\t\tvar i,\n\t\t\t\t\trec,\n\t\t\t\t\tbexist = false;\n\t\t\t\tfor (i=0; i < datagrid.store.data.items.length; i++)\n\t\t\t\t{\n\t\t\t\t\trec = datagrid.store.data.items[i];\n\t\t\t\t\tif (rec.get(\"uid\") == item.uid)\n\t\t\t\t\t{\n\t\t\t\t\t\tbexist = true;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tif (bexist == false)\n\t\t\t\t{\n\t\t\t\t\tdatagrid.store.add(item);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\t\n\t},\n\t\n\teditorItemName: function(itemname) {\n\t\tvar expression = this.down(\"[name=expression]\");\n\t\tIG$._inpEdt$(expression, itemname);\n\t},\n\t\n\tinit_f: function() {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\t\n\t\tif (me.uid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"content\",\n\t\t\t\t\tpayload: {uid: me.uid},\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\n\t\t\t\t}, me, me.rs_procLoadContent, null);\n\t\t\treq.send();\n\t\t}\n\t\telse if (me.parentuid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"helpcontent\",\n\t\t\t\t\tpayload: {uid: me.parentuid},\n\t\t\t\t\tmbody: {option: \"cube_style_info\"}\n\t\t\t\t}, me, function(jdoc) {\n\t\t\t\t\tme.rs_procLoadContent({\n\t\t\t\t\t\tcontent: {\n\t\t\t\t\t\t\tcubeinfo: jdoc\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, null);\n\t\t\treq.send();\n\t\t}\n\t},\n\t\n\trs_procLoadContent: function(jdoc) {\n\t\tvar me = this,\n\t\t\tdatagrid = me.down(\"[name=datagrid]\"),\n\t\t\toptstyle = me.down(\"[name=optstyle]\"),\n\t\t\tstyles = [],\n\t\t\titem;\n\t\t\t\n\t\titem = me.clItem = jdoc.content;\n\t\t\n\t\tme.down(\"[name=itemname]\").setValue(item.name);\n\t\tme.down(\"[name=description]\").setValue(item.description);\n\t\t\n\t\titem.rel_items = item.rel_items || [];\n\t\t\n\t\tdatagrid.store.loadData(item.rel_items);\n\t\tme.down(\"[name=expression]\").setValue(item.expression);\n\t\t\n\t\tstyles.push({disp: \"--- select ---\", name: \"\"});\n\t\t\n\t\tcubeinfo = item.cubeinfo;\n\t\tdelete item[\"cubeinfo\"];\n\t\t\n\t\t$.each([\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\n\t\t], function(n, obj) {\n\t\t\tvar i,\n\t\t\t\tt,\n\t\t\t\tarr = obj.arr;\n\t\t\t\n\t\t\tif (arr)\n\t\t\t{\n\t\t\t\tfor (i=0; i < arr.length; i++)\n\t\t\t\t{\n\t\t\t\t\tt = arr[i];\n\t\t\t\t\tstyles.push({\n\t\t\t\t\t\tdisp: t.name,\n\t\t\t\t\t\tname: t.name,\n\t\t\t\t\t\ttype: obj.n\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\toptstyle.store.loadData(styles);\n\t\toptstyle.setValue(item.stylename || \"\");\n\t\t\n\t\tme.getParentCube();\n\t},\n\t\n\tgetParentCube: function() {\n\t\tvar me = this;\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\n\t\t\tme.rs_getParentcube(jdoc);\n\t\t}));\n\t},\n\t\n\trs_getParentcube: function(jdoc) {\n\t\tvar tnode = jdoc && jdoc.length ? jdoc[0] : null;\n\t\t\n\t\tif (tnode)\n\t\t{\n\t\t\tthis.cubeuid = tnode.uid;\n\t\t}\n\t},\n\t\n\tinitComponent : function() {\n\t\tvar me = this;\n\t\t\n\t\t$s.apply(this, {\n\t\t\ttitle: IRm$.r1(\"T_FORMULA_MEASURE\"),\n\t\t\t\n\t\t\tbuttons: [\n\t\t\t\t\"->\",\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\t\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"container\",\n\t\t\t\t\tpadding: 5,\n\t\t\t\t\tbodyPadding: \"5 5\",\n\t\t\t\t\tautoScroll: true,\n\t\t\t\t\tlayout: {\n\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tname: \"itemname\",\n\t\t\t\t\t\t\t\t\t_fasl: 1,\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\n\t\t\t\t\t\t\t\t\trequired: true\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tname: \"description\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SYNTAX_FORMULA\"),\n\t\t\t\t\t\t\tdefaultType: \"textfield\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tdefaults: {\n\t\t\t\t\t\t\t\tlabelWidth: 130\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tname: \"expression\",\n\t\t\t\t\t\t\t\t\txtype: \"textarea\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_FM_DISP1\")\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"gridpanel\",\n\t\t\t\t\t\t\tname: \"datagrid\",\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"delete\", \"uid\", \"nodepath\", \"memo\"\n\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tstateful: true,\n\t\t\t\t\t\t\theight: 160,\n\t\t\t\t\t\t\tviewConfig: {\n\t\t\t\t\t\t\t\tstripeRows: true,\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tplugins: {\n\t\t\t\t\t\t\t\t\tptype: \"gridviewdragdrop\",\n\t\t\t\t\t\t\t\t\tddGroup: \"_I$RD_G_\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition, dropFunction) {\n\t\t\t\t\t\t\t\t\t\tvar r = false,\n\t\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\t\ti, bexist = false,\n\t\t\t\t\t\t\t\t\t\t\trc = (data.records && data.records.length > 0) ? data.records[0] : null;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t(this == data.view) ? data.copy = false : data.copy = true;\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tindex = (dropRec) ? this.panel.store.indexOf(dropRec) : 0;\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tif (rc && (rc.data.type == \"Measure\" || rc.data.type == \"Metric\" || rc.data.type == \"MeasureGroup\"  || rc.data.type == \"TabDimension\"))\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < this.store.data.items.length; i++)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tif (this.store.data.items[i].data.uid == rc.data.uid)\n\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\tbexist = true;\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tif (bexist == false)\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\tthis.store.add(rc.data);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\treturn r;\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\n\t\t\t\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tsortable: false,\n\t\t\t\t\t\t\t\t\tdataIndex: \"type\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\titems: [{\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\n\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\n\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store,\n\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\n\t\t\t\t\t\t\t\t\t\t\tstore.remove(store.data.items[rowIndex]);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\titemdblclick: function(view, record, item, index, ev, options) {\n\t\t\t\t\t\t\t\t\tvar name = record.data.name || \"\";\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tif (name)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tthis.editorItemName(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"container\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"hbox\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_FM_DISP2\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tthis.selectItem(\"measure\");\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\n\t\t\t\t\t\t\tlayout: \"anchor\",\n\t\t\t\t\t\t\tpadding: \"3 5\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\n\t\t\t\t\t\t\t\t\tname: \"optstyle\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\n\t\t\t\t\t\t\t\t\tqueryMode: 'local',\n\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\n\t\t\t\t\t\t\t\t\tvalueField: 'name',\n\t\t\t\t\t\t\t\t\teditable: false,\n\t\t\t\t\t\t\t\t\tautoSelect: true,\n\t\t\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\t\t\txtype: 'store',\n\t\t\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\n\t\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function() {\n\t\t\t\t\tthis.init_f();\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$.formulaEditor.superclass.initComponent.apply(this, arguments);\n\t}\n});","IG$.codeMappingPanel = $s.extend($s.panel, {\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"anchor\",\r\n\tdefaults: {\r\n\t\tanchor: \"100%\"\r\n\t},\r\n\t\r\n\tcallback: null,\r\n\tpitem: null,\r\n\t\r\n\t_confirm: function(cmd) {\r\n\t\tvar me = this,\r\n\t\t\t_sel_table = me._sel_table,\r\n\t\t\tcbfield = me.down(\"[name=cbfield]\"),\r\n\t\t\tcbcodefield = me.down(\"[name=cbcodefield]\"),\r\n\t\t\tcbsortfield = me.down(\"[name=cbsortfield]\"),\r\n\t\t\tc_viewmode = me.down(\"[name=viewmode]\"),\r\n\t\t\t\r\n\t\t\trftb1 = me.down(\"[name=rftb1]\"),\r\n\t\t\trftxt1 = me.down(\"[name=rftxt1]\"),\r\n\t\t\trftb2 = me.down(\"[name=rftb2]\"),\r\n\t\t\trftxt2 = me.down(\"[name=rftxt2]\"),\r\n\t\t\trftb3 = me.down(\"[name=rftb3]\"),\r\n\t\t\trftxt3 = me.down(\"[name=rftxt3]\"),\r\n\t\t\trftc1 = me.down(\"[name=rftc1]\"),\r\n\t\t\trftc2 = me.down(\"[name=rftc2]\"),\r\n\t\t\trftc3 = me.down(\"[name=rftc3]\"),\r\n\t\t\trfilter1, rfilter2, rfilter3,\r\n\t\t\tfname = cbfield.getValue(),\r\n\t\t\tfcname = cbcodefield.getValue(),\r\n\t\t\tfsname = cbsortfield.getValue(),\r\n\t\t\tmfields = [\r\n\t\t\t\t\"codetable\", \"codetableuid\", \r\n\t\t\t\t\"codefield\", \"valuefield\", \"sortfield\", \r\n\t\t\t\t\"codefilter1\", \"codefilter2\", \"codefilter3\", \r\n\t\t\t\t\"codemapping\", \"viewmode\"\r\n\t\t\t];\r\n\t\t\r\n\t\ttname = _sel_table ? _sel_table.name : null;\r\n\t\t\r\n\t\trftb1 = rftb1.getValue();\r\n\t\trftb2 = rftb2.getValue();\r\n\t\trftb3 = rftb3.getValue();\r\n\t\t\r\n\t\trfilter1 = rftb1 && rftxt1.getValue() ? rftb1 + \"|\" + rftxt1.getValue() + \"|\" + rftc1.getValue() : null;\r\n\t\trfilter2 = rftb2 && rftxt2.getValue() ? rftb2 + \"|\" + rftxt2.getValue() + \"|\" + rftc2.getValue() : null;\r\n\t\trfilter3 = rftb3 && rftxt3.getValue() ? rftb3 + \"|\" + rftxt3.getValue() + \"|\" + rftc3.getValue() : null;\r\n\t\t\r\n\t\tme.rec.set(\"edited\", true);\r\n\t\tme.rec.set(\"codetable\", _sel_table ? _sel_table.name : null);\r\n\t\tme.rec.set(\"codetableuid\", _sel_table ? _sel_table.uid : null);\r\n\t\tme.rec.set(\"codefield\", fcname);\r\n\t\tme.rec.set(\"valuefield\", fname);\r\n\t\tme.rec.set(\"sortfield\", fsname);\r\n\t\tme.rec.set(\"codefilter1\", rfilter1);\r\n\t\tme.rec.set(\"codefilter2\", rfilter2);\r\n\t\tme.rec.set(\"codefilter3\", rfilter3);\r\n\r\n\t\tme.rec.set(\"viewmode\", c_viewmode.getValue());\r\n\t\t\r\n\t\tif (me.pitem)\r\n\t\t{\r\n\t\t\tme.pitem.edited = true;\r\n\t\t\t\r\n\t\t\t$.each(mfields, function(i, k) {\r\n\t\t\t\tme.pitem[k] = me.rec.get(k);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadContent: function() {\r\n\t\tvar me = this,\r\n\t\t\tdatasource = me.datasource,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\tif (datasource && me.rec && me.rec.codetableuid)\r\n\t\t{\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\tpayload: {uid: me.rec.codetableuid},\r\n\t\t\t\t\tmbody: {option: \"translate\"}\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tif (jdoc && jdoc.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme._sel_table = jdoc[0];\r\n\t\t\t\t\t\tme.down(\"[name=cbtable]\").setValue(me._sel_table.name);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.loadField();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadField: function() {\r\n\t\tvar me=this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\t_sel_table = me._sel_table;\r\n\t\t\r\n\t\tif (!_sel_table)\r\n\t\t\treturn;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: _sel_table.uid},\r\n\t\t\t\tmbody: {option: \"folder\"}\r\n\t\t\t}, me, me.rs_loadField, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadField: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\ttnode, // tnodes,\r\n\t\t\tfield,\r\n\t\t\tctrlfield = me.down(\"[name=cbfield]\"),\r\n\t\t\tctrlcodefield = me.down(\"[name=cbcodefield]\"),\r\n\t\t\tctrlsortfield = me.down(\"[name=cbsortfield]\"),\r\n\t\t\tc_viewmode = me.down(\"[name=viewmode]\"),\r\n\t\t\t\r\n\t\t\tcf = me.rec.get(\"codefield\"),\r\n\t\t\tcv = me.rec.get(\"valuefield\"),\r\n\t\t\tcs = me.rec.get(\"sortfield\"),\r\n\t\t\tviewmode = me.rec.get(\"viewmode\"),\r\n\t\t\tfields = [],\r\n\t\t\tcf1, cv1, cs1;\r\n\t\t\t\r\n\t\ttnode = jdoc ? jdoc.children : null;\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tfor (i=0; i < tnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\tfield = tnode[i];\r\n\t\t\t\tfield.uid = field.uid || i;\r\n\t\t\t\t\r\n\t\t\t\tif (field.uid == cf)\r\n\t\t\t\t{\r\n\t\t\t\t\tcf1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tif (field.uid == cv)\r\n\t\t\t\t{\r\n\t\t\t\t\tcv1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tif (field.uid == cs)\r\n\t\t\t\t{\r\n\t\t\t\t\tcs1 = field.uid;\r\n\t\t\t\t}\r\n\t\t\t\tfields.push(field);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tctrlfield.store.loadData(fields, false);\r\n\t\tctrlcodefield.store.loadData(fields, false);\r\n\t\tctrlcodefield.setValue(cf1);\r\n\t\tctrlfield.setValue(cv1);\r\n\t\t\r\n\t\tctrlsortfield.store.loadData(fields, false);\r\n\t\tctrlsortfield.setValue(cs1);\r\n\t\t\r\n\t\tc_viewmode.setValue(viewmode || \"\");\r\n\t\t\r\n\t\tme.down(\"[name=rftb1]\").store.loadData(fields, false);\r\n\t\tme.down(\"[name=rftb2]\").store.loadData(fields, false);\r\n\t\tme.down(\"[name=rftb3]\").store.loadData(fields, false);\r\n\t\t\r\n\t\tvar mcval,\r\n\t\t\tf,\r\n\t\t\tfval, fpath, fop, ival, iop;\r\n\t\t\r\n\t\tfor (i=1; i < 4; i++)\r\n\t\t{\r\n\t\t\tmcval = me.rec.get(\"codefilter\" + i);\r\n\t\t\tif (mcval)\r\n\t\t\t{\r\n\t\t\t\tf = me.down(\"[name=rftb\" + i + \"]\");\r\n\t\t\t\tfval = me.down(\"[name=rftxt\" + i + \"]\");\r\n\t\t\t\tfop = me.down(\"[name=rftc\" + i + \"]\");\r\n\t\t\t\tif (mcval.indexOf(\"|\") > -1)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.down(\"[name=rfilter\" + i + \"]\").expand();\r\n\t\t\t\t\tfpath = mcval.substring(0, mcval.indexOf(\"|\"));\r\n\t\t\t\t\tival = mcval.substring(mcval.indexOf(\"|\")+1);\r\n\t\t\t\t\tiop = \"1\";\r\n\t\t\t\t\tif (ival.indexOf(\"|\") > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tiop = ival.substring(ival.indexOf(\"|\")+1);\r\n\t\t\t\t\t\tival = ival.substring(0, ival.indexOf(\"|\"));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfval.setValue(ival);\r\n\t\t\t\t\tfop.setValue(iop);\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (j=0; j < fields.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (fields[j].nodepath == fpath)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tf.setValue(fields[j].uid);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\t\r\n\tinitComponent : function() {\r\n\t\tvar operatordp = [];\r\n\t\t\r\n\t\t$.each(IG$.filteropcodes, function(key, value) {\r\n\t\t\toperatordp.push({value: value.name, name: value.locale});\r\n\t\t});\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tcheckboxToggle: this.d_m == \"cmap\" ? false : true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_LOOKUP\"),\r\n\t\t\t\t\tcollapsed: false,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_TABLE\"),\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"cbtable\",\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (!me.datasource)\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\t\t\t\t\t\t\t\tvisibleItems: \"folder;table;inlineview;dataset;bo\",\r\n\t\t\t\t\t\t\t\t\t\t\ttargetobj: \"inlineview;table;\",\r\n\t\t\t\t\t\t\t\t\t\t\ttree_options: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\trootuid: me.datasource\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titemtype = item.type.toLowerCase();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (/(inlineview|table)/.test(itemtype) == true)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cbtable]\").setValue(item.name);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme._sel_table = item;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tme.loadField();\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbcodefield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbfield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_VALUE_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbsortfield\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_FIELD\"),\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_ADV_OPTION\"),\r\n\t\t\t\t\tcollapsed: false,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA_VIEW\"),\r\n\t\t\t\t\t\t\tname: \"viewmode\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t{name: \"Matching Values\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"Show All Codes\", value: \"code\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"Show All Values\", value: \"value\"}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter1\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER1\"), // \"Range Filter 1st\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt1\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb1]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt1]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter2\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER2\"), // \"Range Filter 2nd\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt2\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb2]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt2]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\tname: \"rfilter3\",\r\n\t\t\t\t\tcheckboxToggle:true,\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_RANGE_FILTER3\"), // \"Range Filter 3rd\",\r\n\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftb3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_FIELD\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"memo\", \"uid\", \"type\", \"nodepath\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"rftc3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_OP\"),\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: operatordp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"rftxt3\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FILTER_VALUE\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcollapse: function(f, eOpts) {\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftb3]\").setValue(\"\");\r\n\t\t\t\t\t\t\tthis.down(\"[name=rftxt3]\").setValue(\"\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.codeMappingPanel.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.metricEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\r\n\tlayout: {\r\n\t\ttype: 'vbox',\r\n\t\talign: 'stretch'\r\n\t},\r\n\t\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 480,\r\n\theight: 520,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item;\r\n\t\t\r\n\t\tif (item)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\toptsortdir = me.down(\"[name=cb_sortdir]\"),\r\n\t\t\t\tsortorder = optsortdir.getGroupValue(),\r\n\t\t\t\tcb_sorttype = me.down(\"[name=cb_sorttype]\"),\r\n\t\t\t\tsorttype = me.down(\"[name=cb_sorttype]\").getGroupValue(),\r\n\t\t\t\toptstyle = me.down(\"[name=optstyle]\"),\r\n\t\t\t\toptremoveblank = me.down(\"[name=optremoveblank]\"),\r\n\t\t\t\tisdatetype = me.down(\"[name=isdatetype]\"),\r\n\t\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\t\tusegeocode = me.down(\"[name=usegeocode]\"),\r\n\t\t\t\tdatatype = me.down(\"[name=datatype]\"),\r\n\t\t\t\tdb_datatype = me.down(\"[name=db_datatype]\"),\r\n\t\t\t\tfname = me.down(\"[name=fname]\"),\r\n\t\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\t\tdatemap = {},\r\n\t\t\t\tndateitems = \"\",\r\n\t\t\t\tditems,\r\n\t\t\t\tditem,\r\n\t\t\t\tcontent = item.content,\r\n\t\t\t\tfields = item.metric ? item.metric.fields : null,\r\n\t\t\t\tnodepath;\r\n\t\t\t\r\n\t\t\tif (!IG$.checkFields(me, [\"itemname\"]))\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tcontent.name = me.down(\"[name=itemname]\").getValue();\r\n\t\t\tcontent.description = me.down(\"[name=description]\").getValue();\r\n\t\t\t\r\n\t\t\titem.name = content.name;\r\n\t\t\titem.description = content.description;\r\n\t\t\t\r\n\t\t\tcontent.sortorder = (sortorder == \"\") ? null : sortorder;\r\n\t\t\tcontent.sorttype = (sorttype == \"\") ? null : sorttype;\r\n\t\t\tcontent.removeblank = optremoveblank.getValue();\r\n\t\t\tcontent.stylename = optstyle.getValue();\r\n\t\t\tcontent.isdatetype = isdatetype.getValue() == true;\r\n\t\t\tcontent.dateformat = dateformat.getValue();\r\n\t\t\tcontent.fieldname = fname.getValue();\r\n\t\t\tcontent.datatype = datatype.getValue();\r\n\t\t\tcontent.db_datatype = db_datatype.getValue();\r\n\t\t\t\r\n\t\t\tif (content.attributes)\r\n\t\t\t{\r\n\t\t\t\tcontent.attributes.attrb4 = content.db_datatype;\r\n\t\t\t}\r\n\r\n\t\t\tcontent.enable_geocode = usegeocode.getValue() == true;\r\n\t\t\t\r\n\t\t\tcontent.mask = {\r\n\t\t\t\ttype: me.down(\"[name=masktype]\").getValue(),\r\n\t\t\t\tpattern: me.down(\"[name=mpattern]\").getValue(),\r\n\t\t\t\tpattern_replace: me.down(\"[name=mpattern_rep]\").getValue(),\r\n\t\t\t\taes_pp: me.down(\"[name=aes_passph]\").getValue()\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (fields && fields.length && fname.getValue())\r\n\t\t\t{\r\n\t\t\t\tfields[0].name = fname.getValue();\r\n\t\t\t\tnodepath = fields[0].nodepath;\r\n\t\t\t\tnodepath = nodepath.substring(0, nodepath.lastIndexOf(\"/\")) + \"/\" + fields[0].name;\r\n\t\t\t\tfields[0].nodepath = nodepath;\r\n\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\tcontent.dateitems = \"CUSTOM\"; // ndateitems;\r\n\t\t\tcontent.datecustom = me.down(\"[name=t_dateformat]\").getValue();\r\n\t\t}\r\n\t\t\r\n\t\tif (me.rpt_meta_type == \"sql_report\")\r\n\t\t{\r\n\t\t\tme.callback && me.callback.execute(me.item);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t\telse if (item.writable)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\tcnt = item.content;\r\n\t\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: panel.uid, name: cnt.name, description: cnt.description},\r\n\t\t\t\t\tmbody: cnt,\r\n\t\t\t\t\tmeta_type: \"dimension\"\r\n\t\t\t\t}, panel, panel.rs_saveCnt, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_saveCnt: function(xdoc) {\r\n\t\tvar me = this;\r\n\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\tme.callback && me.callback.execute(me.item);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinit_f: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.formulas = [];\r\n\t\t\r\n\t\tif (me.dmode_cnt)\r\n\t\t{\r\n\t\t\tme.dmode_cnt.cubeinfo = {\r\n\t\t\t\tapp_style: {\r\n\t\t\t\t\tdefault_styles: [],\r\n\t\t\t\t\tcustom_styles: []\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tme.rs_loadItemContent({\r\n\t\t\t\tname: me.dmode_cnt.name,\r\n\t\t\t\tdescription: me.dmode_cnt.description,\r\n\t\t\t\tuid: me.dmode_cnt.uid,\r\n\t\t\t\tcontent: me.dmode_cnt,\r\n\t\t\t\twritable: true\r\n\t\t\t});\r\n\t\t}\r\n\t\telse if (me.uid)\r\n\t\t{\r\n\t\t\tme.loadItemContent();\r\n\t\t}\r\n\t},\r\n\t\r\n\tapplyItemInfo: function() {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item,\r\n\t\t\t_mc = item.content,\r\n\t\t\ti, t,\r\n\t\t\tsortorder = _mc.sortorder || \"\",\r\n\t\t\toptsortdir = me.down(\"[name=optsortdir]\"),\r\n\t\t\tsorttype = _mc.sorttype || \"\",\r\n\t\t\toptsorttype = me.down(\"[name=optsorttype]\"),\r\n\t\t\toptstyle = me.down(\"[name=optstyle]\"),\r\n\t\t\toptremoveblank = me.down(\"[name=optremoveblank]\"),\r\n\t\t\toptsortitemname = me.down(\"[name=optsortitemname]\"),\r\n\t\t\toptdispitemname = me.down(\"[name=optdispitemname]\"),\r\n\t\t\toptcommentitemname = me.down(\"[name=optcommentitemname]\"),\r\n\t\t\tisdatetype = me.down(\"[name=isdatetype]\"),\r\n\t\t\tdatatype = me.down(\"[name=datatype]\"),\r\n\t\t\tdb_datatype = me.down(\"[name=db_datatype]\"),\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tusegeocode = me.down(\"[name=usegeocode]\"),\r\n\t\t\tcmap_disp = me.down(\"[name=cmap_disp]\"),\r\n\t\t\tfname = me.down(\"[name=fname]\"),\r\n\t\t\tmasktype = me.down(\"[name=masktype]\"),\r\n\t\t\tdatenames = IG$.majorDateformat,\r\n\t\t\tditems, dp = [],\r\n\t\t\tstyles = [],\r\n\t\t\tcubeinfo,\r\n\t\t\tmask = _mc.mask || {};\r\n\t\t\r\n\t\tme.down(\"[name=b_confirm]\").setVisible(item.writable);\r\n\t\tme.down(\"[name=itemname]\").setValue(_mc.name);\r\n\t\tme.down(\"[name=description]\").setValue(_mc.description);\r\n\t\t\r\n\t\toptsortdir.setValue({cb_sortdir: [sortorder]});\r\n\t\toptsorttype.setValue({cb_sorttype: [sorttype]});\r\n\t\toptremoveblank.setValue(_mc.removeblank || false);\r\n\t\tisdatetype.setValue(_mc.isdatetype || false);\r\n\t\tdateformat.setValue(_mc.dateformat || \"\");\r\n\t\tusegeocode.setValue(_mc.enable_geocode);\r\n\t\tcmap_disp.setValue(_mc.cmap_disp || \"\");\r\n\t\tdatatype.setValue(_mc.datatype);\r\n\t\tdb_datatype.setValue(_mc.db_datatype);\r\n\t\tme.down(\"[name=tname]\").setValue(_mc.tablename);\r\n\t\tfname.setValue(_mc.fieldname); // (_mc.tablename ? _mc.tablename + \".\" : \"\") +  (_mc.fieldname || \"\"));\r\n\t\tmasktype.setValue(mask.type);\r\n\t\t\r\n\t\tme.down(\"[name=geolat]\").setValue(_mc.geolat ? _mc.geolat.name : null);\r\n\t\tme.down(\"[name=geolng]\").setValue(_mc.geolng ? _mc.geolng.name : null);\r\n\t\t\r\n\t\tif (_mc.opt_sort_item)\r\n\t\t{\r\n\t\t\toptsortitemname.setValue(_mc.opt_sort_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tif (_mc.opt_disp_item)\r\n\t\t{\r\n\t\t\toptdispitemname.setValue(_mc.opt_disp_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tif (_mc.opt_comment_item)\r\n\t\t{\r\n\t\t\toptcommentitemname.setValue(_mc.opt_comment_item.name);\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=mpattern]\").setValue(mask.pattern);\r\n\t\tme.down(\"[name=mpattern_rep]\").setValue(mask.pattern_replace);\r\n\t\tme.down(\"[name=aes_passph]\").setValue(mask.aes_pp);\r\n\t\t\r\n\t\tdp.push({disp: \"--- select ---\", name: \"\", type: \"\"});\r\n\t\t\r\n\t\tme.styles = styles;\r\n\t\tcubeinfo = _mc.cubeinfo;\r\n\t\tdelete _mc[\"cubeinfo\"];\r\n\t\t\r\n\t\t$.each([\r\n\t\t\t{arr: cubeinfo.app_style.default_styles, n: \"appbase\"}, \r\n\t\t\t{arr: cubeinfo.app_style.custom_styles, n: \"appcustom\"},\r\n\t\t\t{arr: cubeinfo.cube_style ? cubeinfo.cube_style.custom_styles : null, n: \"cubecustom\"}\r\n\t\t], function(n, obj) {\r\n\t\t\tvar i,\r\n\t\t\t\tt,\r\n\t\t\t\tarr = obj.arr;\r\n\t\t\t\r\n\t\t\tif (arr)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < arr.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tt = arr[i];\r\n\t\t\t\t\tstyles.push({\r\n\t\t\t\t\t\tname: t.name,\r\n\t\t\t\t\t\ttype: obj.n\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t\r\n\t\tfor (i=0; i < styles.length; i++)\r\n\t\t{\r\n\t\t\tdp.push({disp: styles[i].name, name: styles[i].name, type: styles[i].type});\r\n\t\t}\r\n\r\n\t\toptstyle.store.loadData(dp);\r\n\t\t\r\n\t\toptstyle.setValue(_mc.stylename || \"\");\r\n\t\t\t\t\r\n\t\tme.down(\"[name=t_dateformat]\").setValue(_mc.datecustom || \"\");\r\n\t},\r\n\t\r\n\tloadItemContent: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq;\r\n\t\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(panel, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t}, panel, panel.rs_loadItemContent, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadItemContent: function(jdoc) {\r\n\t\tvar me = this;\r\n\t\t\t\r\n\t\tme.item = jdoc;\r\n\t\t\r\n\t\tme.applyItemInfo();\r\n\t\t\r\n\t\tif (me.rpt_meta_type != \"sql_report\")\r\n\t\t{\r\n\t\t\tme.getMeasures();\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetMeasures: function() {\r\n\t\tvar me = this,\r\n\t\t\treq,\r\n\t\t\tgrd_measures = me.down(\"[name=grd_measures]\");\r\n\t\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\tmbody: {option: 'folder'}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tgrd_measures.store.loadData(jdoc.children);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tchangeDateFormat: function() {\r\n\t\tvar me = this,\r\n\t\t\tdateformat = me.down(\"[name=dateformat]\"),\r\n\t\t\tdt = \"\"; // optdateformat.getValue();\r\n\t\t\t\r\n\t\tdateformat.setValue(dt);\r\n\t},\r\n\t\r\n\tcubeSelectedHandler: function(fname) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\tfolderItems: fname == \"codemap\" ? \"folder;codemap\" : \"folder;dataset;table;metric;inlineview;measure\",\r\n\t\t\tvisibleItems: fname == \"codemap\" ? \"folder;codemap\" : \"folder;dataset;table;metric;inlineview;measure\",\r\n\t\t\ttree_options: {\r\n\t\t\t\tcubebrowse: true,\r\n\t\t\t\trootuid: fname == \"codemap\" ? \"/SYS_Lookup\" : (me.item.content.cubeuid || me.cubeuid)\r\n\t\t\t},\r\n\t\t\tcallback: new IG$.callBackObj(me, me.rs_cubeSelectedHandler, fname)\r\n\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\trs_cubeSelectedHandler: function(sitem, fname) {\r\n\t\tvar me = this,\r\n\t\t\titem = me.item,\r\n\t\t\tcontent = item.content;\r\n\t\t\r\n\t\tif (fname == \"codemap\")\r\n\t\t{\r\n\t\t\tcontent.cmap_uid = sitem.uid;\r\n\t\t\tcontent.cmap_disp = sitem.name;\r\n\t\t\tme.down(\"[name=cmap_disp]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optsortitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_sort_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optsortitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optdispitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_disp_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optdispitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"optcommentitemname\")\r\n\t\t{\r\n\t\t\tcontent.opt_comment_item = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=optcommentitemname]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"geolat\")\r\n\t\t{\r\n\t\t\tcontent.geolat = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=geolat]\").setValue(sitem.name);\r\n\t\t}\r\n\t\telse if (fname == \"geolng\")\r\n\t\t{\r\n\t\t\tcontent.geolng = {\r\n\t\t\t\tuid: sitem.uid,\r\n\t\t\t\tname: sitem.name\r\n\t\t\t};\r\n\t\t\tme.down(\"[name=geolng]\").setValue(sitem.name);\r\n\t\t}\r\n\t},\r\n\t\r\n\tedit_customfield: function(rec) {\r\n\t\tvar me = this,\r\n\t\t\tmainpanel = IG$.mainPanel,\r\n\t\t\tctype = rec.get(\"type\").toLowerCase();\r\n\t\t\r\n\t\tif (mainpanel && rec.get(\"writable\"))\r\n\t\t{\r\n\t\t\tmainpanel.navigateApp.call(mainpanel, rec.get(\"uid\"), ctype, rec.get(\"name\"), rec.get(\"nodepath\"), true, rec.get(\"writable\"), {\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(tobj) {\r\n\t\t\t\t\tif (tobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trec.set(\"name\", tobj.name);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar i, \r\n\t\t\tpanel=this,\r\n\t\t\tcustomstyles = [],\r\n\t\t\tstyles = panel.styles,\r\n\t\t\tpitmes = [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_EMAIL\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tmpattern = me.down(\"[name=mpattern]\"),\r\n\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\");\r\n\t\t\t\t\t\tmpattern.setValue(\"(^[^@]{3}|(?!^)\\\\G)[^@]\");\r\n\t\t\t\t\t\tmpattern_rep.setValue(\"$1*\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tpatterns = ig$.patterns;\r\n\t\t\r\n\t\tif (patterns)\r\n\t\t{\r\n\t\t\t$.each(patterns, function(i, pt) {\r\n\t\t\t\tpitems.push({\r\n\t\t\t\t\ttext: pt.name,\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tmpattern = me.down(\"[name=mpattern]\"),\r\n\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmpattern.setValue(pt.value);\r\n\t\t\t\t\t\tpt.replace && mpattern_rep.setValue(pt.replace);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tpanel.title = IRm$.r1(\"T_METRIC_SETTING\");\r\n\t\tcustomstyles.push({name: \"-Item Default-\", value: \"\"});\r\n\t\t\r\n\t\tif (styles && styles.length > 0)\r\n\t\t{\r\n\t\t\tfor (i=0; i < styles.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcustomstyles.push({name: styles[i].name, value: styles[i].name});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t$s.apply(panel, {\r\n\t\t\tpadding: 0,\r\n\t\t\tborder: 0,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"tabpanel\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tbodyPadding: \"5 5\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\r\n\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t},\t\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"itemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t_fasl: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"description\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SORT_SEL\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortdir\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_ORD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sortdir\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_ASC\"), name: \"cb_sortdir\", inputValue: \"asc\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DSC\"), name: \"cb_sortdir\", inputValue: \"desc\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"radiogroup\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsorttype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SORT_TP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpadding: \"0 5\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_DEFAULT\"), name: \"cb_sorttype\", inputValue: \"\", checked: true},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_STRING\"), name: \"cb_sorttype\", inputValue: \"VARCHAR\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{boxLabel: IRm$.r1(\"B_NUMERIC\"), name: \"cb_sorttype\", inputValue: \"NUMBER\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdispitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_DISP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\" || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optdispitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optdispitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_disp_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optdispitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\" || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_SORT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optsortitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optsortitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_sort_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optsortitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optcommentitem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_F_COMMENT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\" || ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optcommentitemname\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"optcommentitemname\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.opt_comment_item = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=optcommentitemname]\").setValue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STYLE_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"3 5\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optstyle\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_BASE_STYLE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"disp\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OTHER_OPTION\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\tpadding: \"3 5\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"optremoveblank\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_REM_BLK\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"isdatetype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"L_DATE_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// hidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(field, nvalue, ovalue, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisdatetype = field.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format = me.down(\"[name=t_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format = me.down(\"[name=d_format]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomdatetypecontainer = me.down(\"[name=customdatetypecontainer]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// datediv_CUSTOM = me.down(\"[name=datediv_CUSTOM]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tt_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\td_format.setVisible(isdatetype);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_SRC\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"d_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: \"Date format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATE_FORMAT_TGT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 130,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_dateformat\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// fieldLabel: \"Date format\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001.07.04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy.MM.dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"2001-07-04 AM 12:08:56\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyy-MM-dd a HH:mm:ss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"Wed, Jul 4, '01\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"EEE, MMM d, ''yy\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: \"20010704120856\", \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"yyyyMMddHHmmss\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dateformat = panel.down(\"[name=t_dateformat]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdateformat.setValue(this.value);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CODE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"cmap_disp\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"codemap\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CLEAR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titem = me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent = item.content;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cmap_disp]\").setValue(null);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.cmap_disp = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcontent.cmap_uid = null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_ADVANCED\"),\r\n\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\tbodyPadding: \"5 5\",\r\n\t\t\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TABLE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tname\",\r\n\t\t\t\t\t\t\t\t\t\t\treadOnly: true\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_FIELD_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"fname\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DATATYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"datatype\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"db_datatype\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: \" \",\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BIT\", value: \"-7\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TINYINT\", value: \"-6\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SMALLINT\", value: \"5\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"INTEGER\", value: \"4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BIGINT\", value: \"-5\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"FLOAT\", value: \"6\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REAL\", value: \"7\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DOUBLE\", value: \"8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NUMERIC\", value: \"2\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DECIMAL\", value: \"3\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"CHAR\", value: \"1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARCHAR\", value: \"12\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARCHAR\", value: \"-1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATE\", value: \"91\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIME\", value: \"92\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIMESTAMP\", value: \"93\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BINARY\", value: \"-2\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"VARBINARY\", value: \"-3\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARBINARY\", value: \"-4\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NULL\", value: \"0\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"OTHER\", value: \"1111\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"JAVA_OBJECT\", value: \"2000\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DISTINCT\", value: \"2001\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"STRUCT\", value: \"2002\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"ARRAY\", value: \"2003\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BLOB\", value: \"2004\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"CLOB\", value: \"2005\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REF\", value: \"2006\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"DATALINK\", value: \"70\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"BOOLEAN\", value: \"16\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"ROWID\", value: \"-8\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NCHAR\", value: \"-15\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NVARCHAR\", value: \"-9\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"LONGVARCHAR\", value: \"-16\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"NCLOB\", value: \"2011\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SQLXML\", value: \"2009\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"REF_CURSOR\", value: \"2012\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIME_WITH_TIMEZONE\", value: \"2013\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"TIMESTAMP_WITH_TIMEZONE\", value: \"2014\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MASK_TEXT\"), // \"Mask Text\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"masktype\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MASK_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"No Mask\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"RegExp Pattern\", value: \"pattern\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Base64 Encoding\", value: \"base64\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"SHA-1\", value: \"sha1\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"AES\", value: \"aes\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttval = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpb1 = me.down(\"[name=pb1]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmpattern_rep = me.down(\"[name=mpattern_rep]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taes_passph = me.down(\"[name=aes_passph]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpb1[tval == \"pattern\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmpattern_rep[tval == \"pattern\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\taes_passph[tval == \"aes\" ? \"show\" : \"hide\"]();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MASK_PATTERN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"pb1\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"mpattern\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_EXAMPLE\"), // \"Example\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmenu: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"menu\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: pitmes\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"mpattern_rep\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_REPLACE_WITH\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"aes_passph\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_AES_PASS_PHRASE\") // \"AES Pass Phrase (For decryption)\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MEASURES\"), // \"Measures\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\theight: 160,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"grd_measures\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.getMeasures();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.multiMeasure({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: me.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmitem: me.item,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvmode: 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, me.getMeasures)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\"]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 220,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.edit_customfield(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rindex, cindex, rec) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"uid\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.confirmMessages(ig$.appname, IRm$.r1(\"M_CONFIRM_DELETE\"), function(e) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (e == \"yes\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar req = new IG$._rpc$(),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpayloads = [],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treq.init(me, \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tack: \"deletecontent\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpayload: {uid: rec.get(\"uid\")},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar store = grid.store;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\treq.send();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}, me, me);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_GEOCODE\"), // \"Geo Code\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: panel.rpt_meta_type == \"sql_report\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_GEOCODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"usegeocode\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLED\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_LAT\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolat\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"geolat\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_LNG\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"geolng\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.cubeSelectedHandler(\"geolng\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GEOMAPPING\"), // \"GeoMapping\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar dlg = new IG$.geoMapping({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tuid: this.uid\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\tname: \"b_confirm\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis.init_f();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.metricEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.geoMapping = $s.extend($s.window, {\r\n\t// title: 'Geo Mapping',\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tseldatas = [],\r\n\t\t\ti;\r\n\t\t\r\n\t\tthis.callback && this.callback.execute(seldatas);\r\n\t\t\r\n\t\tthis.close();\r\n\t},\r\n\t\r\n\tin$t: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tvar georeqtype = me.down(\"[name=georeqtype]\");\r\n\t\t\r\n\t\tif (ig$.geo_encoding && ig$.geo_encoding.length > 0)\r\n\t\t{\r\n\t\t\tgeoreqtype.store.loadData(ig$.geo_encoding);\r\n\t\t}\r\n\t\t\r\n\t\tme.getValueList();\r\n\t},\r\n\t\r\n\tgetValueList: function() {\r\n\t\tif (this.uid)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent = {},\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, option: \"valuelist\"};\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"olapservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_getValueList, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_getValueList: function(xdoc) {\r\n\t\tvar uid = this.uid,\r\n\t\t\tresult = new IG$._ICd/*clValueList*/(xdoc, uid),\r\n\t\t\tgrd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\r\n\t\tthis.pool = result.pool;\r\n\t\t\t\r\n\t\tgrd_data.store.loadData(result.data);\r\n\t},\r\n\t\r\n\tgeoEncode: function() {\r\n\t\tvar me = this,\r\n\t\t\tgeoreqtype = me.down(\"[name=georeqtype]\").getValue();\r\n\t\t\t\r\n\t\tif (georeqtype)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent,\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ti,\r\n\t\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\t\trow;\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, action: \"geoencode\", georeqtype: georeqtype};\r\n\t\t\t\t\r\n\t\t\tcontent = {items: []};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = grd_data.store.data.items[i];\r\n\t\t\t\tif (!row.get(\"lat\") || !row.get(\"lng\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent.items.push({\r\n\t\t\t\t\t\tcode: row.get(\"code\")\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"geoservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_geoEncode, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_geoEncode: function(xdoc) {\r\n\t\tvar me = this,\r\n\t\t\tgeoreqtype = me.down(\"[name=georeqtype]\").getValue(),\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/results\"),\r\n\t\t\ttnodes = (tnode ? IG$.XGetChildNodes(tnode) : null),\r\n\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\ti, dt = {},\r\n\t\t\taddr, record,\r\n\t\t\tres, geo, g;\r\n\t\t\t\r\n\t\tif (tnodes)\r\n\t\t{\r\n\t\t\tgeo = (IG$.geocoder && IG$.geocoder[georeqtype]) ? IG$.geocoder[georeqtype] : null;\r\n\t\t\t\r\n\t\t\tif (geo)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\taddr = IG$._I19/*getSubNode*/(tnodes[i], \"code\");\r\n\t\t\t\t\taddr = IG$.XGetTextVal(addr);\r\n\t\t\t\t\tres = IG$._I19/*getSubNode*/(tnodes[i], \"result\");\r\n\t\t\t\t\tres = IG$.XGetTextVal(res);\r\n\t\t\t\t\tres = Base64.decode(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tg = geo.getGeoCode(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (g.lat && g.lng)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt[addr] = g;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trecord = grd_data.store.data.items[i];\r\n\t\t\t\tg = dt[record.get(\"code\")];\r\n\t\t\t\tif (g)\r\n\t\t\t\t{\r\n\t\t\t\t\trecord.set(\"lat\", g.lat);\r\n\t\t\t\t\trecord.set(\"lng\", g.lng);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdateGeoData: function() {\r\n\t\tvar me = this,\r\n\t\t\tgeosql = me.down(\"[name=geosql]\").getValue();\r\n\t\t\t\r\n\t\tif (me.uid && geosql && me.pool)\r\n\t\t{\r\n\t\t\tvar panel = this,\r\n\t\t\t\tcontent = '',\r\n\t\t\t\tobj,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ti,\r\n\t\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\t\trow;\r\n\t\t\t\t\r\n\t\t\tobj = {uid: this.uid, action: \"geoupdate\", pool: this.pool};\r\n\t\t\t\t\r\n\t\t\tcontent = {\r\n\t\t\t\tsql: geosql,\r\n\t\t\t\titems: []\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = grd_data.store.data.items[i];\r\n\t\t\t\tif (row.get(\"lat\") && row.get(\"lng\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tcontent.items.push({\r\n\t\t\t\t\t\tlat: row.get(\"lat\"),\r\n\t\t\t\t\t\tlng: row.get(\"lng\"),\r\n\t\t\t\t\t\tcode: row.get(\"code\")\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"geoservice\",\r\n\t\t\t\t\tpayload: obj,\r\n\t\t\t\t\tmbody: content\r\n\t\t\t\t}, panel, panel.rs_geoEncode, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_updateGeoData: function(xdoc) {\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\t\t \r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:'padding:10px'},\r\n\t\t\ttitle: IRm$.r1(\"L_GEOMAPPING\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Address to geo axis values\"\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"grd_data\",\r\n\t\t\t\t\t\t\theight: 250,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"code\", \"lat\", \"lng\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GEO_ADDRESS\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LAT\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"lat\",\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_LNG\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"lng\",\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: \"Get GeoEncode\",\r\n\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GEO_REQ_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"georeqtype\",\r\n\t\t\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\t\t\tdisplayField: 'name',\r\n\t\t\t\t\t\t\t\t\t\t\tvalueField: 'value',\r\n\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: 'store',\r\n\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UPD_GEOCODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.geoEncode();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"geosql\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_APPLY_DB\") // \"Apply Database\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RUN_SQL\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.updateGeoData();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t'->',\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.in$t();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.geoMapping.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.cubeStyle = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"border\",\r\n\tclosable: false,\r\n\tresizable: true,\r\n\twidth: 720,\r\n\theight: 500,\r\n\t\r\n\treportoption: null,\r\n\t\r\n\tcallback: null,\r\n\tglobalstyle: null,\r\n\tglobalstylemap: null,\r\n\tstyleinfo: null,\r\n\t\r\n\tloadGlobalStyle: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(panel, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"appoption\",\r\n\t\t\t\t\tpayload: {address: \"ReportStyle\"},\r\n\t\t\t\t\tmbody: {}\r\n\t\t\t\t}, panel, panel.rs_loadGlobalStyle, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadGlobalStyle: function(jdoc) {\r\n\t\tvar tnode = jdoc.themes[0],\r\n\t\t\ttnodes1,\r\n\t\t\tmnode, cs, key,\r\n\t\t\tbsds = [{\r\n\t\t\t\tname: \"Select Item\",\r\n\t\t\t\tvalue: \"\"\r\n\t\t\t}],\r\n\t\t\ttheme_id = ig$.theme_id,\r\n\t\t\tunode, child, i, j, bs, nodenames = [\"default_styles\", \"custom_styles\"];\r\n\t\t\t\r\n\t\tthis.globalstyle = [];\r\n\t\tthis.globalstylemap = {};\r\n\t\t\r\n\t\tif (tnode)\r\n\t\t{\r\n\t\t\tfor (i=0; i < nodenames.length; i++) {\r\n\t\t\t\tkey = nodenames[i];\r\n\t\t\t\t\r\n\t\t\t\tmnode = tnode[key];\r\n\t\t\t\t\r\n\t\t\t\tif (mnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=0; j < mnode.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcs = mnode[j];\r\n\t\t\t\t\t\tthis.globalstyle.push(cs);\r\n\t\t\t\t\t\tbsds.push({\r\n\t\t\t\t\t\t\tname: cs.name,\r\n\t\t\t\t\t\t\tvalue: cs.name\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.globalstylemap[cs.name] = cs;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (key in this.globalstylemap)\r\n\t\t\t{\r\n\t\t\t\tcs = this.globalstylemap[key];\r\n\t\t\t\t\r\n\t\t\t\tif (cs.basestylename && this.globalstylemap[cs.basestylename])\r\n\t\t\t\t{\r\n\t\t\t\t\tbs = this.globalstylemap[cs.basestylename];\r\n\t\t\t\t\t// cs.applyBaseStyle.call(cs, bs);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tthis.down(\"[name=base_style]\").store.loadData(bsds);\r\n\t\tthis.loadLocalStyle();\r\n\t},\r\n\t\r\n\tloadLocalStyle: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, stylename,\r\n\t\t\tcs, bs,\r\n\t\t\tstylelist = me.down(\"[name=stylelist]\"),\r\n\t\t\tltree = [], cstree, unode;\r\n\t\t\t\r\n\t\tme.down(\"[name=c_cset]\").setValue(me.c_cset || \"\");\r\n\t\t\t\r\n\t\tif (me.styleinfo) {\r\n\t\t\tunode = {name: 'LocalStyle', leaf: false, children: []};\r\n\t\t\tltree.push(unode);\r\n\t\t\t\r\n\t\t\tfor (i=0; i < me.styleinfo.length; i++) {\r\n\t\t\t\tcs = me.styleinfo[i];\r\n\t\t\t\tcstree = {name: cs.name, leaf: true, custom: false};\r\n\t\t\t\t\r\n\t\t\t\tif (cs.basestylename && me.globalstylemap[cs.basestylename])\r\n\t\t\t\t{\r\n\t\t\t\t\tbs = me.globalstylemap[cs.basestylename];\r\n\t\t\t\t\t// cs.applyBaseStyle.call(cs, bs);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tunode.children.push(cstree);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tstylelist.store.setRootNode({\r\n\t\t\t\texpanded: true,\r\n\t\t\t\ttext: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\tname: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\ttitle: IRm$.r1(\"B_STYLE\"),\r\n\t\t\t\tchildren: ltree\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\teditStyleItem: function(stylename) {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\tform_data = me.down(\"[name=form_data]\");\r\n\t\t\t\t\t\r\n\t\tme.commitStyleItem();\r\n\t\t\r\n\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t{\r\n\t\t\tif (me.styleinfo[i].name == stylename)\r\n\t\t\t{\r\n\t\t\t\tme._edtItem = me.styleinfo[i];\r\n\t\t\t\tme._valForm = 1;\r\n\t\t\t\tme.down(\"[name=sname]\").setValue(me.styleinfo[i].name);\r\n\t\t\t\tme.down(\"[name=base_style]\").setValue(me.styleinfo[i].basestylename || \"\");\r\n\t\t\t\tform_header.loadStyleData.call(form_header, me.styleinfo[i].header);\r\n\t\t\t\tform_data.loadStyleData.call(form_data, me.styleinfo[i].data);\r\n\t\t\t\tme._valForm = 0;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tcommitStyleItem: function() {\r\n\t\tvar me = this,\r\n\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\tform_data = me.down(\"[name=form_data]\"),\r\n\t\t\tnname = me.down(\"[name=sname]\").getValue();\r\n\t\t\tnvalue = me.down(\"[name=base_style]\").getValue();\r\n\t\t\t\r\n\t\tif (me._edtItem && nvalue && nname)\r\n\t\t{\r\n\t\t\tme._edtItem.basestylename = nvalue;\r\n\t\t\tme._edtItem.name = nname;\r\n\t\t\tform_data.updateStyleData.call(form_data);\r\n\t\t\tform_header.updateStyleData.call(form_header);\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tbase,\r\n\t\t\tcs;\r\n\t\t\t\r\n\t\tme.commitStyleItem();\r\n\t\t\r\n\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t{\r\n\t\t\tcs = me.styleinfo[i];\r\n\t\t\t\r\n\t\t\tif (cs.basestylename && me.globalstylemap[cs.basestylename])\r\n\t\t\t{\r\n\t\t\t\tbase = me.globalstylemap[cs.basestylename];\r\n\t\t\t\t// cs.removeBsStyl(base);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.c_cset = me.down(\"[name=c_cset]\").getValue();\r\n\t\tme.callback && me.callback.execute(me);\r\n\t\tme.close();\r\n\t},\r\n\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_add_custom\":\r\n\t\t\tvar dlg = new IG$.makeStyle({\r\n\t\t\t\tstyleinfo: this.globalstyle,\r\n\t\t\t\tcallback: new IG$.callBackObj(this, this.rs__appendCustomStyle)\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(this, dlg);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_delete\":\r\n\t\t\tvar i,\r\n\t\t\t\tstylelist = this.down(\"[name=stylelist]\"),\r\n\t\t\t\trec = stylelist.getSelectionModel().selected,\r\n\t\t\t\tsrec = rec && rec.length > 0 ? rec.items[0] : null;\r\n\t\t\t\r\n\t\t\tif (srec)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < me.styleinfo.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (srec.get(\"name\") == me.styleinfo[i].name)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.styleinfo.splice(i, 1);\r\n\t\t\t\t\t\tsrec.remove();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\trs__appendCustomStyle: function(params) {\r\n\t\tvar stylename = params[0], \r\n\t\t\tbasestylename = params[1];\r\n\t\t\t\r\n\t\tif (basestylename && stylename)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\tbasestyle;\r\n\t\t\t\r\n\t\t\tbasestyle = this.globalstylemap[basestylename];\r\n\t\t\t\r\n\t\t\tif (basestyle)\r\n\t\t\t{\r\n\t\t\t\tvar stylelist = this.down(\"[name=stylelist]\"),\r\n\t\t\t\t\t// proxy = stylelist.store.getProxy(),\r\n\t\t\t\t\t// reader = proxy.getReader(), \r\n\t\t\t\t\tcs,\r\n\t\t\t\t\trobj, urecord, rootnode = stylelist.store.getRootNode();\r\n\t\t\t\t\t\r\n\t\t\t\turecord = rootnode.childNodes[rootnode.childNodes.length - 1];\r\n\t\t\t\t\r\n\t\t\t\trobj = {name: stylename, leaf: true, custom: true};\r\n\t\t\t\tcs = {}; // new IG$.clStyleObject(null, \"item\", true);\r\n\t\t\t\tcs.name = stylename;\r\n\t\t\t\tcs.nodename = \"ItemStyle\";\r\n\t\t\t\tcs.basestylename = basestylename;\r\n\t\t\t\tcs.header = {}; //new IG$.clStyleItem(null, \"Header\");\r\n\t\t\t\tcs.data = {}; // new IG$.clStyleItem(null, \"Data\");\r\n\t\t\t\tthis.styleinfo.push(cs);\r\n\t\t\t\t\r\n\t\t\t\t// cs.applyBaseStyle.call(cs, basestyle);\r\n\t\t\t\t\r\n\t\t\t\tvar nrecord = [stylelist.store._record(robj)]; // reader.extractData.call(reader, [robj], true);\r\n\t\t\t\t// stylelist.store.fillNode.call(stylelist.store, urecord, nrecord);\r\n\t\t\t\tstylelist.store._appendNode(nrecord, urecord);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this,\r\n\t\t\tformHeader = new IG$.styleEditor({title: IRm$.r1('L_STYLE_TITLE'), name: \"form_header\", htype: \"hd\"}),\r\n\t\t\tformData = new IG$.styleEditor({title: IRm$.r1('L_STYLE_DATA'), name: \"form_data\", htype: \"dt\"}),\r\n\t\t\tdp = [{name: IRm$.r1(\"B_DEFAULT\"), value: \"\"}],\r\n\t\t\tcopt = IG$.__chartoption.chartcolors,\r\n\t\t\tk;\r\n\t\t\t\r\n\t\tfor (k in copt)\r\n\t\t{\r\n\t\t\tdp.push({name: k, value: k});\r\n\t\t};\r\n\t\t\r\n\t\tpanel.title = IRm$.r1('T_STYLE_WIZARD');\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:'padding:3px'},\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"treepanel\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"B_STYLE\"), // \"Style\",\r\n\t\t\t\t\tname: \"stylelist\",\r\n\t\t\t\t\tpreventHeader: true,\r\n\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\twidth: 160,\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\tborder: false,\r\n\t\t\t\t\trootVisible: false,\r\n\t\t\t\t\thideHeaders: true,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"treestore\",\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"text\", \"type\", \"pname\", \"region\", \"custom\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\texpanded: true,\r\n\t\t\t\t\t\t\tname: \"Style\",\r\n\t\t\t\t\t\t\tchildren: []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfolderSort: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\tuseArrows: true,\r\n\t\t\t\t\t\r\n\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'toolbar',\r\n\t\t\t\t\t\t\tdock: 'top',\r\n\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{ \r\n\t\t\t\t\t\t\t\t\ticonCls: 'icon-toolbar-add',\r\n\t\t\t\t\t\t\t\t\ttooltip: \"Add Custom Style\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_NEW\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_add_custom'); \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_delete'); \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\t\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"treecolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEXT\"),\r\n\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'actioncolumn',\r\n\t\t\t\t\t\t\twidth: 26,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t// icon: './images/delete.png',\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: 'Delete item',\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tgetClass: function(v, metadata, r, rowIndex, colIndex, store) {\r\n\t\t\t\t\t\t\t\t\t\tif (rowIndex == 0 || r.isLeaf() == false || (r.data && r.data.custom == false))\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\treturn \"idv-hd-val\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tafterrender: function() {\r\n\t\t\t\t\t\t\tvar ctrl = this;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titemclick: function(view, record, item, index, e) {\r\n\t\t\t\t\t\t\tvar stylename = record.get(\"name\");\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (record.isRoot() == false && stylename)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tpanel.editStyleItem.call(panel, stylename);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: 'vbox',\r\n\t\t\t\t\t\talign: 'stretch'\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tname: \"sname\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_INHERIT\"), // Inherit\",\r\n\t\t\t\t\t\t\tname: \"base_style\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(tobj, newvalue, oldvalue) {\r\n\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\tbasestylename = me.down(\"[name=base_style]\").getValue(),\r\n\t\t\t\t\t\t\t\t\t\tbs,\r\n\t\t\t\t\t\t\t\t\t\tform_header = me.down(\"[name=form_header]\"),\r\n\t\t\t\t\t\t\t\t\t\tform_data = me.down(\"[name=form_data]\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (me._valForm)\r\n\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (basestylename)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tbs = me.globalstylemap[basestylename];\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (bs)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tform_header.loadStyleData.call(form_header, bs.header);\r\n\t\t\t\t\t\t\t\t\t\t\tform_data.loadStyleData.call(form_data, bs.data);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_CHART_STYLE\"), // Chart Style\",\r\n\t\t\t\t\t\t\tname: \"c_cset\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: dp\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: 'tabpanel',\r\n\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tformData,\r\n\t\t\t\t\t\t\t\tformHeader\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, {\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis.loadGlobalStyle();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.cubeStyle.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.cube_object_select = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: {\r\n\t\ttype: \"vbox\",\r\n\t\talign: \"stretch\"\r\n\t},\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 770,\r\n\theight: 500,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.alias_map = {};\r\n\t\tme._aliasLoaded = false;\r\n\t\tme.curnode = null;\r\n\t\tme.cursop = null;\r\n\t\tme._getDB(me.targetdb || me.dbo.uid);\r\n\t},\r\n\t\r\n\t_getDB: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tobj = {uid: uid},\r\n\t\t\tdbo = me.dbo;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: obj,\r\n\t\t\t\tmbody: {option: 'standard'}\r\n\t\t\t}, me, function(jdoc, poolname) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\ttnode =  jdoc,\r\n\t\t\t\t\tfschema = me.down(\"[name=fschema]\"),\r\n\t\t\t\t\tsnodes, i, node,\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\tsvalue = dbo ? dbo.username.toUpperCase() : null,\r\n\t\t\t\t\tdvalue = \"\";\r\n\t\t\t\t\r\n\t\t\t\tif (tnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < jdoc.schemas.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnode = jdoc.schemas[i];\r\n\t\t\t\t\t\tdp.push(node);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (svalue && node.name.toUpperCase() == svalue)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdvalue = node.name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfschema.store.loadData(dp);\r\n\t\t\t\tfschema.setValue(dvalue);\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_isValid: function(foolonly) {\r\n\t\tvar me = this,\r\n\t\t\tfschema = me.down(\"[name=fschema]\")\r\n\t\t\t\r\n\t\tfschema.clearInvalid();\r\n\t\t\r\n\t\tif (!fschema.getValue())\r\n\t\t{\r\n\t\t\tfschema.markInvalid(\"Select Item\");\r\n\t\t\treturn 0;\r\n\t\t}\r\n\t\t\r\n\t\treturn 1;\r\n\t},\r\n\t\r\n\t_searchTb: function() {\r\n\t\tvar me = this,\r\n\t\t\tsrc_keyword = me.down(\"[name=src_keyword]\"),\r\n\t\t\tfschema = me.down(\"[name=fschema]\"),\r\n\t\t\tsname = fschema.getValue(),\r\n\t\t\ti,\r\n\t\t\tnode;\r\n\t\t\r\n\t\tif (!me._isValid())\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < fschema.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\tif (fschema.store.data.items[i].get(\"name\") == sname)\r\n\t\t\t{\r\n\t\t\t\tnode = fschema.store.data.items[i];\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme._getTable(node, null, src_keyword.getValue());\r\n\t},\r\n\t\r\n\t_getTable: function(node, option, keyword, params) {\r\n\t\tvar me = this,\r\n\t\t\tdb_uid = node.get(\"db_uid\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\topt = {uid: db_uid, option: option, schema: node.get(\"name\"), search: keyword, product_code: node.get(\"product_code\")},\r\n\t\t\tk;\r\n\t\t\r\n\t\tif (params)\r\n\t\t{\r\n\t\t\tfor (k in params)\r\n\t\t\t{\r\n\t\t\t\topt[k] = params[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: opt,\r\n\t\t\t\tmbody: opt\r\n\t\t\t}, me, me.rs__getTable, false, [node, option]);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs__getTable: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\tnode = param[0],\r\n\t\t\toption = param[1],\r\n\t\t\tsnodes = jdoc.tables || (jdoc.length ? jdoc[0].children : null), \r\n\t\t\ti, tb, tables = [],\r\n\t\t\tb_content = option ? true : false,\r\n\t\t\tgrid = (b_content ? me.down(\"[name=grid_st]\") : me.down(\"[name=grid_sc]\"));\r\n\t\t\r\n\t\tif (snodes && snodes.length)\r\n\t\t{\r\n\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = b_content ? snodes[i].content : snodes[i];\r\n\t\t\t\ttb.uid = tb.uid || (\"\" + i);\r\n\t\t\t\ttb.product_code = node.get(\"product_code\");\r\n\t\t\t\ttb.allow_insert = tb.allow_insert;\r\n\t\t\t\ttb.allow_insert_desc = tb.allow_insert ? \"Yes\" : \"\";\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tIG$.ShowError(IRm$.r1(\"M_NO_DATA\"), this);\r\n\t\t}\r\n\t\tgrid.store.loadData(tables);\r\n\t},\r\n\t\r\n\t_regTables: function(reverse, lrec) {\r\n\t\tvar me = this,\r\n\t\t\tgrid_sc = me.down(\"[name=grid_sc]\"),\r\n\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\ti, sel, name,\r\n\t\t\talias = me.alias_map,\r\n\t\t\tnsel = 0,\r\n\t\t\trmap = {}, rec;\r\n\t\t\r\n\t\tif (reverse && lrec)\r\n\t\t{\r\n\t\t\tsel = {\r\n\t\t\t\tlength: 1,\r\n\t\t\t\titems: [lrec]\r\n\t\t\t};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tsel = (reverse ? grid_st : grid_sc).getSelectionModel().selected;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tif (sel.length == 0 && !reverse)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"Search and check table to register.\", null, null, 0, \"error\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (!reverse)\r\n\t\t{\r\n\t\t\tfor (i=0; i < grid_st.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = grid_st.store.data.items[i];\r\n\t\t\t\trmap[rec.get(\"external_name\")] = 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < sel.length; i++)\r\n\t\t{\r\n\t\t\tif (reverse)\r\n\t\t\t{\r\n\t\t\t\tgrid_st.store.remove(sel.items[i]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!rmap[sel.items[i].get(\"external_name\")])\r\n\t\t\t\t\tgrid_st.store.add(sel.items[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!reverse)\r\n\t\t{\r\n\t\t\tgrid_sc.getSelectionModel().clear();\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_IMPORT_TABLES\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: 10,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SCHEMA\"),\r\n\t\t\t\t\t\t\tname: \"fschema\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"name\",\r\n\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SELECT_ITEM\"),\r\n\t\t\t\t\t\t\ttypeAhead: true,\r\n\t\t\t\t\t\t\tforceSelection: false,\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\t// editable: false,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"name\", \"uid\", \"db_uid\", \"type\"]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grid_sc\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_AVAILABLE_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S1\"),\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"nodepath\", \"uid\", \"schemaname\", \"dispname\", \"checked\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"src_keyword\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(item, e, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode == 13)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._searchTb();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._searchTb();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\"->\"\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"object_type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OBJ_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(component, rec, node, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tme._regTables();\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \">\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._regTables();\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \"<\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tthis._regTables(1);\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SELECTED_ITEMS\"),\r\n\t\t\t\t\t\t\t\t\tname: \"grid_st\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S1\"),\r\n\t\t\t\t\t\t\t\t\t/*\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"tgt_keyword\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 160,\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(item, e, eOpts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grid_st\", [\"name\"], me.down(\"[name=tgt_keyword]\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t// text: '..',\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grid_st\", [\"name\"], me.down(\"[name=tgt_keyword]\"));\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"nodepath\", \"uid\", \"schemaname\", \"dispname\", \"checked\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"object_type\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OBJ_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"external_name\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"L_REMOVE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = grid.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trec = store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._regTables(1, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\titemdblclick: function(component, rec, node, rindex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tme._regTables(1, rec);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\t\t\t\t\ti, data = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < grid_st.store.data.items.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tdata.push(grid_st.store.data.items[i].data);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!data.length)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tIG$.alertmsg(ig$.appname, \"Search and check table to register.\", null, null, 0, \"error\");\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.callback && me.callback.execute(data);\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.cube_object_select.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.securityFilter = $s.extend($s.window, {\r\n\t// title: \"Security Filter Management\",\r\n\tmodal: false,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 400,\r\n\theight: 500,\r\n\tbodyPadding: 10,\r\n\t\r\n\t_key: 0,\r\n\t\r\n\t_addFilter: function() {\r\n\t\tvar me = this,\r\n\t\t\tpop;\r\n\t\t\r\n\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\tmodal: false,\r\n\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\ti,\r\n\t\t\t\t\titem,\r\n\t\t\t\t\trec,\r\n\t\t\t\t\tauthname = \"\",\r\n\t\t\t\t\tgridduty = this.down(\"[name=gridduty]\");\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t};\r\n\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\titem = new IG$.clFilterGroup(null);\r\n\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tauthname += (i > 0 ? \",\" : \"\") + _userAuth[i].name;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\titem.active = true;\r\n\t\t\t\t\titem.index = me._key++;\r\n\t\t\t\t\tme.securityfilter.push(item);\r\n\t\t\t\t\trec = gridduty.store.add({\r\n\t\t\t\t\t\tauthname: authname,\r\n\t\t\t\t\t\tactive: item.active,\r\n\t\t\t\t\t\tindex: item.index\r\n\t\t\t\t\t});\r\n\t\t\t\t\tme.authSet(rec, \"edit\");\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t});\r\n\t\tIG$.checkLogin(me, pop);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tif (this.callback)\r\n\t\t{\r\n\t\t\tvar i,\r\n\t\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\t\tseq, seqids = {};\r\n\t\t\t\r\n\t\t\tfor (i=0; i < gridduty.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tseq = gridduty.store.data.items[i].get(\"index\");\r\n\t\t\t\tseqids[seq] = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=panel.securityfilter.length - 1; i>=0; i--)\r\n\t\t\t{\r\n\t\t\t\tseq = panel.securityfilter[i].index;\r\n\t\t\t\tif (!seqids[seq])\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.securityfilter.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.callback.execute();\r\n\t\t}\r\n\t\tthis.close();\r\n\t},\r\n\t\r\n\tloadSecurityFilter: function() {\r\n\t\tvar panel = this,\r\n\t\t\tdp = [],\r\n\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\ti, j,\r\n\t\t\tauthname,\r\n\t\t\tfilter;\r\n\t\t\r\n\t\tif (panel.securityfilter)\r\n\t\t{\r\n\t\t\tfor (i=0; i < panel.securityfilter.length; i++)\r\n\t\t\t{\r\n\t\t\t\tfilter = panel.securityfilter[i];\r\n\t\t\t\tfilter.auth = filter.auth || [];\r\n\t\t\t\tfilter.index = panel._key++;\r\n\t\t\t\t\r\n\t\t\t\tauthname = \"\";\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < filter.auth.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tauthname += (j > 0 ? \",\" : \"\") + filter.auth[j].name; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdp.push({\r\n\t\t\t\t\tauthname: authname,\r\n\t\t\t\t\tactive: filter.active,\r\n\t\t\t\t\tindex: filter.index\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgridduty.store.loadData(dp);\r\n\t},\r\n\t\r\n\tauthSet: function(rec, cmd) {\r\n\t\tvar me = this,\r\n\t\t\tgridduty = me.down(\"[name=gridduty]\"),\r\n\t\t\trowIndex,\r\n\t\t\tpop;\r\n\t\t\r\n\t\tvar i, mindex,\r\n\t\t\tseq = rec.get(\"index\"),\r\n\t\t\titem;\r\n\t\t\r\n\t\tfor (i=0; i < this.securityfilter.length; i++)\r\n\t\t{\r\n\t\t\tif (me.securityfilter[i].index == seq)\r\n\t\t\t{\r\n\t\t\t\titem = me.securityfilter[i];\r\n\t\t\t\tmindex = i;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (cmd == \"remove\")\r\n\t\t{\r\n\t\t\trowIndex = gridduty.store.indexOf(rec);\r\n\t\t\tme.securityfilter.splice(rowIndex, 1);\r\n\t\t\tgridduty.store.remove(rec);\r\n\t\t}\r\n\t\telse if (cmd == \"auth\")\r\n\t\t{\r\n\t\t\tpop = new IG$.mgrUserDuty({\r\n\t\t\t\tmodal: false,\r\n\t\t\t\tsel: item.auth,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sel) {\r\n\t\t\t\t\tvar _userAuth = [],\r\n\t\t\t\t\t\ti,\r\n\t\t\t\t\t\tauthname = \"\",\r\n\t\t\t\t\t\tgridduty = this.down(\"[name=gridduty]\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar x = {\r\n\t\t\t\t\t\t\tsid: sel[i].get(\"sid\"),\r\n\t\t\t\t\t\t\tname: sel[i].get(\"name\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t_userAuth.push(x);\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\tif (_userAuth.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\titem.auth = [];\r\n\t\t\t\t\t\tfor (i=0; i < _userAuth.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\titem.auth.push({\r\n\t\t\t\t\t\t\t\tname: _userAuth[i].name,\r\n\t\t\t\t\t\t\t\tsid: _userAuth[i].sid\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tauthname += (i > 0 ? \",\" : \"\") + _userAuth[i].name;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\trec.set(\"authname\", authname);\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, pop);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar dlg = new IG$.filterEditorWindow({\r\n\t\t\t\tsheetoption: {\r\n\t\t\t\t\tmodel: {\r\n\t\t\t\t\t\tfilter: item,\r\n\t\t\t\t\t\tcube_object: {\r\n\t\t\t\t\t\t\tuid: me.uid\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\treportoption: {\r\n\t\t\t\t\tcubeuid: me.uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function(sop) {\r\n\t\t\t\t\tthis.securityfilter[mindex] = sop.model.filter;\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\t\t\r\n\t\tpanel.title = IRm$.r1(\"L_SECURITY_FILTER_MGR\");\r\n\t\t\r\n\t\tvar items = [\r\n\t\t\t{\r\n\t\t\t\txtype: \"form\",\r\n\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\tdefaults: {\r\n\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t},\r\n\t\t\t\tborder: 0,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\tvalue: \"Select user duty from list\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\tname: \"gridduty\",\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\"authname\", \"active\", \"index\"\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\theader: \"Auth Name\",\r\n\t\t\t\t\t\t\t\tdataIndex: \"authname\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: 'actioncolumn',\r\n\t\t\t\t\t\t\t\twidth: 70,\r\n\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-add\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Edit',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet.call(panel, rec, \"edit\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Edit',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet.call(panel, rec, \"auth\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\ttooltip: 'Remove Filtering',\r\n\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\tpanel.authSet.call(panel, rec, \"remove\");\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\t\t\t\t\t\t \r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tvar buttons = [\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1(\"L_ADD_FILTER\"),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._addFilter();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t},\r\n\t\t\t\"->\",\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._confirm();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}, \r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\thandler:function() {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: items,\r\n\t\t\tbuttons: buttons\r\n\t\t});\r\n\t\t\r\n\t\tIG$.securityFilter.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tthis.loadSecurityFilter();\r\n\t\t}\r\n\t}\r\n});\r\n","IG$.m$CubeModel = function(jdoc) {\r\n\tvar me = this,\r\n\t\tt, i, j, snodes, fnodes,\r\n\t\ttnode = jdoc,\r\n\t\tonode,\r\n\t\ttable, relation, field;\r\n\t\r\n\tme._mc = jdoc = jdoc || {};\r\n\t\r\n\t$s.defaults(jdoc, {\r\n\t\tpool: []\r\n\t})\r\n\t\r\n\tme.zoom = 1.0;\r\n\tme.groupview = false;\r\n\tme.tables = [];\r\n\tme.relations = [];\r\n\tme.highlight = [];\r\n\tme.fixKeyMode = false;\r\n\t\r\n\tonode = jdoc.tables;\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\ttable = new IG$.m$TblObj(onode[i]);\r\n\t\t\ttable.fields = [];\r\n\t\t\t\r\n\t\t\tfnodes = table.columns;\r\n\t\t\t\r\n\t\t\tif (fnodes)\r\n\t\t\t{\r\n\t\t\t\tfor (j=0; j < fnodes.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfield = fnodes[j];\r\n\t\t\t\t\tfield.seq = table.seq;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tme.tables.push(table);\r\n\t\t}\r\n\t}\r\n\t\r\n\tonode = jdoc.joins;\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\tt = onode[i];\r\n\t\t\t\r\n\t\t\tt.source.seq = t.source.seq || 0;\r\n\t\t\tt.target.seq = t.target.seq || 0;\r\n\r\n\t\t\tme.relations.push(t);\r\n\t\t}\r\n\t}\r\n\t\r\n\tonode = jdoc.securityfilter;\r\n\t\r\n\tme.securityfilter = [];\r\n\t\r\n\tif (onode)\r\n\t{\r\n\t\tfor (i=0; i < onode.length; i++)\r\n\t\t{\r\n\t\t\tt = onode[i];\r\n\t\t\tme.securityfilter.push(t);\r\n\t\t}\r\n\t}\r\n\t\r\n\tme.highlight = jdoc.highlight;\r\n}\r\n\r\nIG$.m$TblObj = function(onode) {\r\n\tvar me = this,\r\n\t\ttbinfo;\r\n\t\r\n\tme._mc = onode;\r\n\tme.ranged = false;\r\n}\r\n\r\nIG$.m$TblObj.prototype = {\r\n\tstageX: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0,\r\n\t\t\tbbox = me.bbox,\r\n\t\t\tmdom;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t//if (!bbox)\r\n\t\t\t{\r\n\t\t\t\tme.bbox = {\r\n\t\t\t\t\tleft: me.box.pobj.scrollPanel.offset().left,\r\n\t\t\t\t\ttop: me.box.pobj.scrollPanel.offset().top\r\n\t\t\t\t};\r\n\t\t\t\tbbox = me.bbox;\r\n\t\t\t}\r\n\t\t\t// r = me.box.innerbox.offset().left - bbox.left;\r\n\t\t\tmdom = $(me.box.innerGrid.body.dom);\r\n\t\t\tr = mdom.offset().left - bbox.left;\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tstageY: function(fieldname) {\r\n\t\tvar me = this,\r\n\t\t\tr = 0,\r\n\t\t\tbbox = me.bbox,\r\n\t\t\ti,\r\n\t\t\tbdom,\r\n\t\t\tsobj, skey;\r\n\t\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t//if (!bbox)\r\n\t\t\t{\r\n\t\t\t\tme.bbox = {\r\n\t\t\t\t\tleft: me.box.pobj.scrollPanel.offset().left,\r\n\t\t\t\t\ttop: me.box.pobj.scrollPanel.offset().top\r\n\t\t\t\t};\r\n\t\t\t\tbbox = me.bbox;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// r = me.box.innerbox.offset().top - bbox.top;\r\n\t\t\tbdom = $(me.box.innerGrid.body.dom);\r\n\t\t\tsobj = me.box.innerGrid.down(\"[name=skey]\");\r\n\t\t\tskey = sobj && sobj.body ? $(sobj.body.dom) : null;\r\n\t\t\t\r\n\t\t\tr = bdom.offset().top - bbox.top + (skey ? skey.height() || 0 : 0);\r\n\t\t\t\r\n\t\t\tif (fieldname != null)\r\n\t\t\t{\r\n\t\t\t\tvar grid = me.box.innerGrid,\r\n\t\t\t\t\thnode = null,\r\n\t\t\t\t\tm;\r\n\t\t\t\t\r\n\t\t\t\tm = grid.getHeight.call(grid, fieldname);\r\n\t\t\t\t\r\n\t\t\t\tr += m.d;\r\n\t\t\t\tme.ranged = m.ranged;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tbodyWidth: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t// r = me.box.outerbox.width();\r\n\t\t\tr = me.box.innerGrid.getWidth();\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t},\r\n\tbodyHeight: function() {\r\n\t\tvar me = this,\r\n\t\t\tr = 0;\r\n\t\t\r\n\t\tif (me.box)\r\n\t\t{\r\n\t\t\t// r = (me.box.collapsed == true) ? me.box.theight : me.box.outerbox.height();\r\n\t\t\tr = me.box.innerGrid.getHeight();\r\n\t\t\t\r\n\t\t\tif (!r.ranged)\r\n\t\t\t{\r\n\t\t\t\tr = r.d;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t}\r\n}\r\n\r\nIG$.m$CubeModel.prototype = {\r\n\tgetXML: function() {\r\n\t\tvar me = this;\r\n\t\treturn me._mc;\r\n\t}\r\n}","IG$.cubeModelViewer = function(viewer, sobj) {\r\n\tvar me = this;\r\n\tme.sobj = sobj;\r\n\tme.viewer = viewer;\r\n\tme.dialog = [];\r\n\tme.links = [];\r\n\tme.zoomRatio = 1;\r\n\tme.lineMode = \"2\";\r\n}\r\n\r\nIG$.cubeModelViewer.prototype = {\r\n\tinit: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._mouseActionPoint = null;\r\n\t\t\r\n\t\tme.container = $(\"<div class='igc-cubemodelviewer'></div>\").css({position: \"absolute\", top: 0, bottom: 0, left: 0, right: 0, overflow: \"auto\"}).appendTo(me.viewer);\r\n\t\tme.paint = $(\"<div></div>\");\r\n\t\tme.paint.appendTo(me.container);\r\n\t\t\r\n\t\tme.scrollPanel = $(\"<div></div>\").css({\r\n\t\t\tposition: \"absolute\", \r\n\t\t\ttop: 0, \r\n\t\t\tbottom: 0, \r\n\t\t\twidth: IG$.j$ext._w(me.container), \r\n\t\t\theight: IG$.j$ext._h(me.container), \r\n\t\t\tbackgroundColor: \"none\"\r\n\t\t}).appendTo(me.container);\r\n\t\tme.appendScrollBar();\r\n\t\tme.container.droppable({\r\n\t\t\tdrop: function( event, ui ) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tme.allowDrop(me.scrollPanel[0]);\r\n\t\t\r\n\t\tme.container.bind(\"resize\", function(ev) {\r\n\t\t\tme.validateSize.call(me);\r\n\t\t});\r\n\t},\r\n\t\r\n\tzoom: function(level) {\r\n\t\tvar me = this,\r\n\t\t\tnzoom = me.zoomRatio + level;\r\n\t\t\r\n\t\tif (nzoom > 0.3 && nzoom < 5)\r\n\t\t{\r\n\t\t\tme.zoomRatio = nzoom;\r\n\t\t\t\r\n\t\t\t// $(me.viewer).animate({'zoom': me.zoomRatio}, 400);\r\n\t\t\t$(me.scrollPanel).css({\"transform\": \"scale(\" + nzoom + \",\" + nzoom + \")\", \"transform-origin\": \"0px 0px\"});\r\n\t\t}\r\n\t},\r\n\t\r\n\tallowDrop: function(el) {\r\n\t\tvar grid = this,\r\n\t\t\tme = this;\r\n\t\t\r\n\t\tme.dropZone = $s.create($s.dropzone, el, {\r\n\t\t\tddGroup: 'CubeModelDDGroup',\r\n\t\t\t\r\n\t\t\tnodeouttimer: -1,\r\n\t\t\t\r\n\t\t\tgetTargetFromEvent: function(e) {\r\n\t\t\t\tvar px = e.browserEvent.pageX || e.browserEvent.clientX,\r\n\t\t\t\t\tpy = e.browserEvent.pageY || e.browserEvent.clientY,\r\n\t\t\t\t\trenderer = grid.getRendererByPoint(px, py);\r\n\t\t\t\t\r\n\t\t\t\tif (renderer == null)\r\n\t\t\t\t{\r\n\t\t\t\t\trenderer = el;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn renderer;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tnotifyOut : function(dd, e, data){\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tif(me.lastOverNode){\r\n\t\t\t\t\tme.onNodeOut(me.lastOverNode, dd, e, data);\r\n\t\t\t\t\tme.lastOverNode = null;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgrid.isDragging = false;\r\n\t\t\t\tif (!grid.hideDropFeedback)\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t\tgrid.hideDropFeedback.call(grid, e);\r\n\t\t\t\t\r\n\t\t\t\tif (me.accept == true && me.pivotmove == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (grid.sheetobj)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (me.nodeouttimer > -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tclearTimeout(me.nodeouttimer);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.nodeouttimer = setTimeout(function() {\r\n\t\t\t\t\t\t\tgrid.hideDropFeedback.call(grid, e);\r\n\t\t\t\t\t\t}, 100);\r\n\t\t\t\t\t\t// grid.sheetobj.procUpdateReport.call(grid.sheetobj);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tonNodeEnter : function(target, dd, e, data){\r\n\t\t\t\tgrid.isDragging = true;\r\n\t\t\t\t\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tdt, dttype,\r\n\t\t\t\t\thasitem = false,\r\n\t\t\t\t\taccept = false;\r\n\t\t\t\t\t\r\n\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = data.records[0].get(\"type\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (dt == \"Table\" || dt == \"InlineView\" || dt == \"CubeModel\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\taccept = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (data.cellData)\r\n\t\t\t\t{\r\n\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\taccept = true;\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tme.accept = accept;\r\n\t\t\t},\r\n\t\t\tonNodeOut : function(target, dd, e, data){\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tonNodeOver : function(target, dd, e, data){\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tdt,\r\n\t\t\t\t\tret;\r\n\t\t\t\t\r\n\t\t\t\tif (window.Ext)\r\n\t\t\t\t{\t\r\n\t\t\t\t\t ret = ((me.accept == true) ? Ext.dd.DropZone.prototype.dropAllowed : Ext.dd.DropZone.prototype.dropNotAllowed);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tret =me.accept;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (me.accept == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.records[0].data;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t},\r\n\t\t\tonNodeDrop : function(target, dd, e, data){\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tif (me.accept == true)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (data.records && data.records.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.records[0].data;\r\n\t\t\t\t\t\tgrid.sobj.onDropRecord.call(grid.sobj, e, dt);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdt = data.cellData;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.accept = false;\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\t\r\n\tfocusTable: function(tb) {\r\n\t\tvar me = this,\r\n\t\t\tcontainer = me.container,\r\n\t\t\tbox = tb.box.innerGrid,\r\n\t\t\tviewer = me.viewer,\r\n\t\t\tboff, doff, dom;\r\n\t\t\t\r\n\t\tif (box)\r\n\t\t{\r\n\t\t\tdoff = container.offset();\r\n\t\t\tif (box.$ex)\r\n\t\t\t{\r\n\t\t\t\t// for webix\r\n\t\t\t\tif (me._psel && me._psel.box)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(me._psel.box.innerGrid.$ex.$view).removeClass(\"igc-f-table\");\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tdom = $(box.$ex.$view);\r\n\t\t\t\t\r\n\t\t\t\tboff = dom.offset();\r\n\t\t\t\tdom.addClass(\"igc-f-table\");\r\n\t\t\t\tcontainer.animate({\r\n\t\t\t\t\tscrollTop: Math.max(boff.top - doff.top + container.scrollTop() - (viewer.height() - dom.height()) / 2, 0),\r\n\t\t\t\t\tscrollLeft: Math.max(boff.left - doff.left + container.scrollLeft() - (viewer.width() - dom.width()) / 2, 0)\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t\telse if (box.el && box.el.dom)\r\n\t\t\t{\r\n\t\t\t\t// for sencha\r\n\t\t\t\tif (me._psel && me._psel.box)\r\n\t\t\t\t{\r\n\t\t\t\t\t$(me._psel.box.innerGrid.el.dom).removeClass(\"igc-f-table\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdom = $(box.el.dom);\r\n\t\t\t\t\r\n\t\t\t\tboff = dom.offset();\r\n\t\t\t\tdom.addClass(\"igc-f-table\");\r\n\t\t\t\tcontainer.animate({\r\n\t\t\t\t\tscrollTop: Math.max(boff.top - doff.top + container.scrollTop() - (viewer.height() - dom.height()) / 2, 0),\r\n\t\t\t\t\tscrollLeft: Math.max(boff.left - doff.left + container.scrollLeft() - (viewer.width() - dom.width()) / 2, 0)\r\n\t\t\t\t}, 200);\r\n\t\t\t}\r\n\t\t\tme._psel = tb;\r\n\t\t}\r\n\t},\r\n\t\r\n\tgetRendererByPoint: function() {\r\n\t\treturn null;\r\n\t},\r\n\t\r\n\tappendScrollBar: function() {\r\n\t\tvar me = this,\r\n\t\t\tviewer = this;\r\n\t\t\r\n\t\tme.scrollbar = $(\"<div></div>\").css({\r\n\t\t\tposition: \"absolute\", \r\n\t\t\ttop: 0, bottom: 0, \r\n\t\t\twidth: IG$.j$ext._w(me.container), \r\n\t\t\theight: IG$.j$ext._h(me.container), \r\n\t\t\tbackgroundColor: \"none\"\r\n\t\t}).appendTo(me.scrollPanel);\r\n\t\tme.rcanvas = Raphael(me.scrollbar[0], 0, 0, \"100%\", \"100%\");\r\n\t\tme._ca = [];\r\n\t},\r\n\t\r\n\tscrollHandler: function(ctype, ev) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tswitch (ctype)\r\n\t\t{\r\n\t\tcase \"down\":\r\n\t\t\tme._mouseActionPoint = {x: ev.pageX, y:ev.pageY};\r\n\t\t\tbreak;\r\n\t\tcase \"up\":\r\n\t\t\tme._mouseActionPoint = null;\r\n\t\t\tbreak;\r\n\t\tcase \"move\":\r\n\t\t\tvar w_o6 = IG$.j$ext._w(container),\r\n\t\t\t\tw_o5 = IG$.j$ext._w(scrollPanel),\r\n\t\t\t\th_o6 = IG$.j$ext._h(container),\r\n\t\t\t\th_o5 = IG$.j$ext._h(scrollPanel);\r\n\t\t\t\t\r\n\t\t\tif (me._mouseActionPoint != null && (w_o6 < w_o5 || h_container < h_scrollPanel))\r\n\t\t\t{\r\n\t\t\t\tvar paint = me.paint,\r\n\t\t\t\t\tscrollpanel = me.scrollPanel,\r\n\t\t\t\t\tscrollbar = me.scrollbar,\r\n\t\t\t\t\tm = me.container.offset(),\r\n\t\t\t\t\toffset = scrollpanel.offset(),\r\n\t\t\t\t\tdx = ev.pageX - me._mouseActionPoint.x,\r\n\t\t\t\t\tdy = ev.pageY - me._mouseActionPoint.y,\r\n\t\t\t\t\ta;\r\n\t\t\t\t\r\n\t\t\t\t// offset.top -= m.top;\r\n\t\t\t\t// offset.left -= m.left;\r\n\t\t\t\t\r\n\t\t\t\ta = {top: offset.top + dy, left: offset.left + dx};\r\n\t\t\t\t\r\n\t\t\t\tme._mouseActionPoint = {x: ev.pageX, y: ev.pageY};\r\n\t\t\t\t\r\n\t\t\t\tif (a.top < h_o6 - h_o5 || a.left < w_o6 - w_o5 || a.top - m.top> 0 || a.left - m.left> 0)\r\n\t\t\t\t\treturn;\r\n\t\t\t\tscrollbar.offset(a);\r\n\t\t\t\tscrollpanel.offset(a);\r\n\t\t\t\tpaint.offset(a);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tclearAll: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.dialog = [];\r\n\t\tme.links = [];\r\n\t\tme.rcanvas.clear();\r\n\t\t$.each(me._ca, function(i, c) {\r\n\t\t\tc.remove();\r\n\t\t});\r\n\t\tme._ca = [];\r\n\t\tme.scrollPanel.empty();\r\n\t\tme.appendScrollBar();\r\n\t},\r\n\t\r\n\tvalidateTimer: -1,\r\n\t\r\n\tvalidateSize: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.validateTimer)\r\n\t\t{\r\n\t\t\tclearTimeout(me.validateTimer);\r\n\t\t}\r\n\t\t\r\n\t\tme.validateTimer = setTimeout(function() {\r\n\t\t\tme.validateSizeProc.call(me);\r\n\t\t}, 100);\r\n\t},\r\n\t\r\n\tvalidateSizeProc: function() {\r\n\t\tvar viewer = this,\r\n\t\t\to = viewer.container.offset(),\r\n\t\t\tw = IG$.j$ext._w(viewer.container),\r\n\t\t\th = IG$.j$ext._h(viewer.container),\r\n\t\t\ti;\r\n\t\t\r\n\t\tfor (i=0; i < viewer.dialog.length; i++)\r\n\t\t{\r\n\t\t\tw = Math.max(w, viewer.dialog[i].table.stageX() + viewer.dialog[i].table.bodyWidth() + 100);\r\n\t\t\th = Math.max(h, viewer.dialog[i].table.stageY() + viewer.dialog[i].table.bodyHeight() + 100);\r\n\t\t}\r\n\t\t\r\n\t\tIG$.j$ext._w(viewer.scrollPanel, w);\r\n\t\tIG$.j$ext._h(viewer.scrollPanel, h);\r\n\t\tIG$.j$ext._w(viewer.scrollbar, w);\r\n\t\tIG$.j$ext._h(viewer.scrollbar, h);\r\n\t\tIG$.j$ext._w(viewer.paint, w);\r\n\t\tIG$.j$ext._h(viewer.paint, h);\r\n\t\t\r\n\t\tviewer.rcanvas.setViewBox(0, 0, w, h, true);\r\n\t\tviewer.rcanvas.setSize(w, h);\r\n\t\t\r\n\t\tviewer.validateLinks();\r\n\t},\r\n\t\r\n\tvalidateLinks: function() {\r\n\t\tvar me = this,\r\n\t\t\ti;\r\n\t\t\r\n\t\tme.rcanvas.clear();\r\n\t\t\r\n\t\t$.each(me._ca, function(i, c) {\r\n\t\t\tc.remove();\r\n\t\t});\r\n\t\tme._ca = [];\r\n\t\t\r\n\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t{\r\n\t\t\tme.links[i].refresh.call(me.links[i], i, me.sobj.cubemodel.groupview == true);\r\n\t\t}\r\n\t},\r\n\t\r\n\taddBox: function(x, y, width, height, tb, main) {\r\n\t\tvar me = this,\r\n\t\t\tb = new IG$.tableBox(me, x, y, width, height, tb);\r\n\t\tb.main = main;\r\n\t\tb.collapsePanel.call(b);\r\n\t\tb.innerGrid.fixKeyMode.call(b.innerGrid, tb._mcfixKeyMode);\r\n\t\tme.dialog.push(b);\r\n\t\treturn b;\r\n\t},\r\n\t\r\n\taddLink: function(fobj, tobj, link, relations) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tb,\r\n\t\t\tl;\r\n\t\t\r\n\t\tme.relations = relations;\r\n\t\t\r\n\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t{\r\n\t\t\tl = me.links[i];\r\n\t\t\t\r\n\t\t\tif (!l)\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tif ((l.fromobj._mc.uid == fobj._mc.uid && l.toobj._mc.uid == tobj._mc.uid && l.fromobj._mc.seq == fobj._mc.seq && l.toobj._mc.seq == tobj._mc.seq) || \r\n\t\t\t\t(l.fromobj._mc.uid == tobj._mc.uid && l.toobj._mc.uid == fobj._mc.uid && l.fromobj._mc.seq == tobj._mc.seq && l.toobj._mc.seq == fobj._mc.seq))\r\n\t\t\t{\r\n\t\t\t\tb = l;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (b)\r\n\t\t{\r\n\t\t\tb.links.push(link);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tb = new IG$.LinkField(me, fobj, tobj, link, relations);\r\n\t\t\tme.links.push(b);\r\n\t\t}\r\n\t\treturn b;\r\n\t},\r\n\t\r\n\tremoveTbl: function(tobj) {\r\n\t\tvar me = this,\r\n\t\t\tsobj = me.sobj,\r\n\t\t\tc1 = sobj.cubemodel,\r\n\t\t\ti, j,\r\n\t\t\tdialog = me.dialog,\r\n\t\t\tlinks = me.links,\r\n\t\t\tr;\r\n\t\t\r\n\t\tfor (i=0; i < c1.tables.length; i++)\r\n\t\t{\r\n\t\t\tif (tobj.table == c1.tables[i])\r\n\t\t\t{\r\n\t\t\t\tc1.tables.splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < dialog.length; i++)\r\n\t\t{\r\n\t\t\tif (dialog[i] == tobj)\r\n\t\t\t{\r\n\t\t\t\tdialog.splice(i, 1);\r\n\t\t\t\t// tobj.outerbox.remove();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=links.length-1; i >=0; i--) \r\n\t\t{\r\n\t\t\tif (links[i].fromobj == tobj.table || links[i].toobj == tobj.table)\r\n\t\t\t{\r\n\t\t\t\tr = links[i];\r\n\t\t\t\tfor (j=c1.relations.length-1; j>=0; j--)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (c1.relations[j].bl == r)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc1.relations.splice(j, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlinks.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tsobj.updateUsedTable.call(sobj);\r\n\t\tsobj.validateTables.call(sobj);\r\n\t\tsobj.validateJoins.call(sobj);\r\n\t}\r\n};\r\n\r\nIG$.tableBox = function(pobj, x, y, width, height, table) {\r\n\tvar tbbox = this,\r\n\t\tme = this,\r\n\t\towner = pobj,\r\n\t\tibox, \r\n\t\tdval = table._mc.name;\r\n\t\r\n\tme.pobj = pobj;\r\n\tme.table = table;\r\n\t\r\n\ttable._mc.theight = table._mc.theight || height;\r\n\t\r\n\tif (table._mc.seq && table._mc.seq > 0)\r\n\t{\r\n\t\tdval += \"(\" + table._mc.seq + \")\";\r\n\t}\r\n\t\r\n\tme.innerGrid = new $s.panel({\r\n\t\trenderTo: this.pobj.scrollPanel[0], //ibox[0],\r\n\t\ttable: table,\r\n\t\tautoScroll: false,\r\n\t\tstateful: false,\r\n\t\t\r\n\t\tdraggable: true,\r\n\t\t// floating: true,\r\n\t\t// baseCls: $s.baseCSSPrefix + 'window',\r\n\t\tplain: false,\r\n\t\tminimizable: false,\r\n\t\talwaysFramed: true,\r\n\t\tclosable: true,\r\n\t\tcpa: owner,\r\n\t\ttitle: dval,\r\n\t\tx: x,\r\n\t\tborder: 1,\r\n\t\ty: y,\r\n\t\twidth: width,\r\n\t\theight: ((table._mc.theight || 100) < 100 ? 100 : table._mc.theight), //ibox.height(),\r\n\t\tviewmode: \"physical\",\r\n\t\tfixKeyVal: false,\r\n\t\tfixKeyMode: function(status) {\r\n\t\t\tvar me = this;\r\n\t\t\tme.fixKeyVal = status;\r\n\t\t\tme.g_key.setVisible(status);\r\n\t\t\t\r\n\t\t\tme.loadData();\r\n\t\t},\r\n\t\tlayout: {\r\n\t\t\ttype: \"vbox\",\r\n\t\t\talign: \"stretch\"\r\n\t\t},\r\n\t\t_loadModel: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\ttb = me.table._mc,\r\n\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\r\n\t\t\tif (tb.uid && tb.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tuid: tb.uid,\r\n\t\t\t\t\t\t\ttype: tb.type\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tvar mc = jdoc.content,\r\n\t\t\t\t\t\t\ttb = mc.tables,\r\n\t\t\t\t\t\t\tstables = me.down(\"[name=stables]\"),\r\n\t\t\t\t\t\t\ttables = [],\r\n\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\tmtb;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < tb.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmtb = {\r\n\t\t\t\t\t\t\t\tuid: tb[i].uid,\r\n\t\t\t\t\t\t\t\ttype: tb[i].type,\r\n\t\t\t\t\t\t\t\tname: tb[i].name,\r\n\t\t\t\t\t\t\t\tnodepath: tb[i].nodepath\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttables.push(mtb);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tstables.store.loadData(tables);\r\n\t\t\t\t\t});\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t},\r\n\t\t_loadField: function(uid) {\r\n\t\t\tvar me = this,\r\n\t\t\t\treq = new IG$._rpc$(),\r\n\t\t\t\ttbl = me.table._mc,\r\n\t\t\t\t_tables = me.table._tables;\r\n\t\t\t\r\n\t\t\tme.table._sel_table = uid;\r\n\t\t\t\r\n\t\t\tif (_tables[uid])\r\n\t\t\t{\r\n\t\t\t\tvar cpa = me.cpa.sobj;\r\n\t\t\t\tcpa.validateTables();\r\n\t\t\t\tcpa.validateJoins();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treq.init(me, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\t\t\tpayload: {uid: uid, option: \"StoredContent\"},\r\n\t\t\t\t\t\tmbody: {option: \"folder\", readcontent: \"T\"}\r\n\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\tvar m = this,\r\n\t\t\t\t\t\t\tjnode = jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\t\t\ttnode = jnode ? jnode.content : null, \r\n\t\t\t\t\t\t\ttnodes,\r\n\t\t\t\t\t\t\tfields = [], field,\r\n\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\tcpa = m.cpa.sobj;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t_tables[uid] = {columns: []};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (jnode && jnode.children)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttnodes = jnode.children;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tfield = tnodes[i].content;\r\n\t\t\t\t\t\t\t\tfield.model = tbl.uid;\r\n\t\t\t\t\t\t\t\tfield.tablename = jnode.name || field.tablename;\r\n\t\t\t\t\t\t\t\tfield.alias = field.alias || field.name;\r\n\t\t\t\t\t\t\t\tfield.iskey = field.iskey;\r\n\t\t\t\t\t\t\t\tfield.leaf = true;\r\n\t\t\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\t\t\tfield.allowDrag = true;\r\n\t\t\t\t\t\t\t\tfield.seq = table._mc.seq;\r\n\t\t\t\t\t\t\t\tfield.tableuid = jnode.uid;\r\n\t\t\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t_tables[uid].columns = fields;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcpa.validateTables();\r\n\t\t\t\t\t\tcpa.validateJoins();\r\n\t\t\t\t\t}, null);\r\n\t\t\t\treq.send();\r\n\t\t\t}\r\n\t\t},\r\n\t\tloadData: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tgfields = [],\r\n\t\t\t\tgkeys = [],\r\n\t\t\t\ti,\r\n\t\t\t\ttbl = me.table,\r\n\t\t\t\ttb = me.table._mc,\r\n\t\t\t\tcolumns = tb.columns,\r\n\t\t\t\tcol;\r\n\t\t\t\r\n\t\t\tif (tb.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t{\r\n\t\t\t\tif (tbl._sel_table && tbl._tables[tbl._sel_table])\r\n\t\t\t\t{\r\n\t\t\t\t\tcolumns = tbl._tables[tbl._sel_table].columns;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme._loadModel();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (columns)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tcol = columns[i];\r\n\t\t\t\t\tif (me.fixKeyVal && (col.iskey == true || col.hasjoin == true))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgkeys.push(col);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tgfields.push(col);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.g_key.store.loadData(gkeys);\r\n\t\t\tme.g_fields.store.loadData(gfields);\r\n\t\t},\r\n\t\tgetHeight: function(fieldname) {\r\n\t\t\tvar me = this,\r\n\t\t\t\tr = {\r\n\t\t\t\t\td: 0,\r\n\t\t\t\t\tranged: false\r\n\t\t\t\t}, i, hnode,\r\n\t\t\t\tranged = false,\r\n\t\t\t\tgrid, bf = false,\r\n\t\t\t\tm, gh;\r\n\t\t\t\r\n\t\t\tif (me.fixKeyVal)\r\n\t\t\t{\r\n\t\t\t\tgrid = me.g_key;\r\n\t\t\t\t\r\n\t\t\t\tgh = grid.getHeight();\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < grid.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (grid.store.data.items[i].get(\"name\") == fieldname)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thnode = grid.getView().getNode(i);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (hnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tbf = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tm = $(hnode).offset().top - $(grid.el.dom).offset().top + $(hnode).height() / 2;\r\n\t\t\t\t\tif (m > -1 && m < gh)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tranged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm = (m < 0) ? 0 : m;\r\n\t\t\t\t\t\tm = Math.min(m, gh);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bf == false)\r\n\t\t\t{\r\n\t\t\t\tgrid = me.g_fields;\r\n\t\t\t\tgh = grid.getHeight();\r\n\t\t\t\t\r\n\t\t\t\tif (fieldname)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (i=0; i < grid.store.data.items.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (grid.store.data.items[i].get(\"name\") == fieldname)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thnode = grid.getView().getNode(i);\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tm = gh;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (hnode)\r\n\t\t\t\t{\r\n\t\t\t\t\tm = $(hnode).offset().top - $(grid.el.dom).offset().top + $(hnode).height() / 2;\r\n\t\t\t\t\tif (m > -1 && m < gh)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tranged = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm = (m < 0) ? 0 : m;\r\n\t\t\t\t\t\tm = Math.min(m, gh);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (m)\r\n\t\t\t{\r\n\t\t\t\tr.d = m;\r\n\t\t\t}\r\n\t\t\tr.ranged = ranged;\r\n\t\t\t\r\n\t\t\treturn r;\r\n\t\t},\r\n\t\tadjHeight: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tn, th = 22, mh,\r\n\t\t\t\theight = me.getHeight();\r\n\t\t\t\r\n\t\t\tif (me.fixKeyVal)\r\n\t\t\t{\r\n\t\t\t\tn = me.g_key.store.data.items.length;\r\n\t\t\t\tif (n == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.g_key.setVisible(false);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tme.g_key.setVisible(true);\r\n\t\t\t\t\tmh = Math.min(th * n+2, height * 0.4);\r\n\t\t\t\t\tme.g_key.setHeight(mh);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.cpa.validateLinks.call(me.cpa);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\tsearchField: function() {\r\n\t\t\tvar me = this;\r\n\t\t\t\r\n\t\t\tme.__s && clearTimeout(me.__s);\r\n\t\t\t\r\n\t\t\tme.__s = setTimeout(function() {\r\n\t\t\t\tme.searchFlt.call(me);\r\n\t\t\t}, 40);\r\n\t\t},\r\n\t\t\r\n\t\tsearchFlt: function() {\r\n\t\t\tvar me = this,\r\n\t\t\t\tg_fields = me.down(\"[name=g_fields]\"),\r\n\t\t\t\tgs = g_fields.store,\r\n\t\t\t\tskey = me.down(\"[name=skey]\").getValue();\r\n\t\t\t\r\n\t\t\tif (skey)\r\n\t\t\t{\r\n\t\t\t\tskey = skey.toLowerCase();\r\n\t\t\t\tgs.clearFilter(true);\r\n\t\t\t\tgs.filterBy(function(record) {\r\n\t\t\t\t\tvar r = true,\r\n\t\t\t\t\t\tgname = record.get(\"name\").toLowerCase(),\r\n\t\t\t\t\t\talias = record.get(\"alias\") || \"\";\r\n\t\t\t\t\t\r\n\t\t\t\t\talias = alias.toLowerCase();\r\n\t\t\t\t\tr = gname.indexOf(skey) > -1 || alias.indexOf(skey) > -1;\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tgs.clearFilter(false);\r\n\t\t\t}\r\n\t\t},\r\n\t\t\r\n\t\titems: [\r\n\t\t\t{\r\n\t\t\t\txtype: \"container\",\r\n\t\t\t\thidden: me.table._mc.type != \"CubeModel\",\r\n\t\t\t\tlayout: {\r\n\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t},\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\tname: \"stables\",\r\n\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\tif (tobj.getValue())\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tme.innerGrid.table._tables = me.innerGrid.table._tables || {}; \r\n\t\t\t\t\t\t\t\t\tme.innerGrid._loadField(tobj.getValue());\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\thandler: {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"textfield\",\r\n\t\t\t\tname: \"skey\",\r\n\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_ITEM\"),\r\n\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tkeyup: function(tobj, e, eOpts) {\r\n\t\t\t\t\t\ttobj.ownerCt.searchField.call(tobj.ownerCt);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\tname: \"g_key\",\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tscroll: \"vertical\",\r\n\t\t\t\tautoScroll: true,\r\n\t\t\t\tenableDragDrop: true,\r\n\t\t\t\tenableDD: true,\r\n\t\t\t\tuseArrows: true,\r\n\t\t\t\theader: false,\r\n\t\t\t\thideHeaders: true,\r\n\t\t\t\thidden: true,\r\n\t\t\t\tcpa: owner,\r\n\t\t\t\tddGroup: \"CubeModelFieldDDGroup\",\r\n\t\t\t\tviewConfig: {\r\n\t\t\t\t\temptyText: IRm$.r1(\"L_P_RELOAD\"),\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\tddGroup: \"CubeModelFieldDDGroup\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar ffield = data.records[0],\r\n\t\t\t\t\t\t\t\ttfield = dropRec;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (ffield && tfield)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\towner.sobj.onDropField.call(owner.sobj, ffield, tfield);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tstore: {\r\n\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\"name\", \"nodepath\", \"datasize\", \"datatype\", \"tablename\", \"type\", \"selected\", \"seq\", \"alias\", \"tableuid\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tafterScroll: function() {\r\n\t\t\t\t\tthis.cpa.validateLinks.call(this.cpa);\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"checkcolumn\",\r\n\t\t\t\t\t\tdataIndex: \"selected\",\r\n\t\t\t\t\t\tenableColumnHide: false,\r\n\t\t\t\t\t\tcheckedAll: false,\r\n\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\tcls: \"x-grid-checkheader-editor\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tcheckchange: function(column, rowIndex, checked, eOpts) {\r\n\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\tgrid = tbbox.innerGrid.g_fields,\r\n\t\t\t\t\t\t\t\t\tdata = grid.store.data.items[rowIndex],\r\n\t\t\t\t\t\t\t\t\tnodepath = data.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table, i;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (table.fields[i].nodepath == nodepath)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = checked;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theaderclick: function(ct, column, e, t, eOpts) {\r\n\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\tgrd = ct.ownerCt,\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table;\r\n\t\t\t\t\t\t\t\tif (column.xtype == \"checkcolumn\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolumn.checkedAll = ! column.checkedAll;\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < grd.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tgrd.store.data.items[i].set(\"selected\", column.checkedAll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = column.checkedAll;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theader: IRm$.r1(\"B_ALIAS\"),\r\n\t\t\t\t\t\tdataIndex: \"alias\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\t\tvar view = this.getView();\r\n\t\t\t\t\t\tview.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\tname: \"g_fields\",\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tscroll: \"vertical\",\r\n\t\t\t\tautoScroll: true,\r\n\t\t\t\tenableDragDrop: true,\r\n\t\t\t\tenableDD: true,\r\n\t\t\t\tuseArrows: true,\r\n\t\t\t\theader: false,\r\n\t\t\t\thideHeaders: true,\r\n\t\t\t\tflex: 1,\r\n\t\t\t\tcpa: owner,\r\n\t\t\t\tddGroup: \"CubeModelFieldDDGroup\",\r\n\t\t\t\tviewConfig: {\r\n\t\t\t\t\temptyText: IRm$.r1(\"L_P_RELOAD\"),\r\n\t\t\t\t\tplugins: {\r\n\t\t\t\t\t\tptype: \"gridviewdragdrop\",\r\n\t\t\t\t\t\tddGroup: \"CubeModelFieldDDGroup\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tbeforedrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar ffield = data.records[0],\r\n\t\t\t\t\t\t\t\ttfield = dropRec;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (ffield && tfield)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\towner.sobj.onDropField.call(owner.sobj, ffield, tfield);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tdrop: function(node, data, dropRec, dropPosition) {\r\n\t\t\t\t\t\t\tvar dropOn = dropRec ? \" \" + dropPosition + \" \" + dropRec.get(\"name\") : \" on empty view\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tstore: {\r\n\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\"name\", \"nodepath\", \"datasize\", \"datatype\", \"tablename\", \"type\", \"selected\", \"seq\", \"alias\", \"tableuid\"\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\tafterScroll: function() {\r\n\t\t\t\t\tthis.cpa.validateLinks.call(this.cpa);\r\n\t\t\t\t},\r\n\t\t\t\tcolumns: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"checkcolumn\",\r\n\t\t\t\t\t\tdataIndex: \"selected\",\r\n\t\t\t\t\t\tenableColumnHide: false,\r\n\t\t\t\t\t\tcheckedAll: false,\r\n\t\t\t\t\t\twidth: 30,\r\n\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\tcls: \"x-grid-checkheader-editor\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\tcheckchange: function(column, rowIndex, checked, eOpts) {\r\n\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\tgrid = tbbox.innerGrid.g_fields,\r\n\t\t\t\t\t\t\t\t\tdata = grid.store.data.items[rowIndex],\r\n\t\t\t\t\t\t\t\t\tnodepath = data.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table, i;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tif (table.fields[i].nodepath == nodepath)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = checked;\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\theaderclick: function(ct, column, e, t, eOpts) {\r\n\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\tgrd = ct.ownerCt,\r\n\t\t\t\t\t\t\t\t\ttable = tbbox.table;\r\n\t\t\t\t\t\t\t\tif (column.xtype == \"checkcolumn\")\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolumn.checkedAll = ! column.checkedAll;\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < grd.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tgrd.store.data.items[i].set(\"selected\", column.checkedAll);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tfor (i=0; i < table.fields.length; i++)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttable.fields[i].selected = column.checkedAll;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{ \r\n\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),  \r\n\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\theader: IRm$.r1(\"B_ALIAS\"),\r\n\t\t\t\t\t\tdataIndex: \"alias\",\r\n\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\thideable: false,\r\n\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tlisteners: {\r\n\t\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\t\tvar view = this.getView();\r\n\t\t\t\t\t\tview.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t],\r\n\t\tbbar: [\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-alias\",\r\n\t\t\t\ttooltip: \"Alias\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tvar me = this.innerGrid,\r\n\t\t\t\t\t\tgrid1 = this.innerGrid.g_key,\r\n\t\t\t\t\t\tgrid = this.innerGrid.g_fields,\r\n\t\t\t\t\t\tc = grid.columns,\r\n\t\t\t\t\t\tc1 = grid1.columns;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.viewmode == \"physical\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"logical\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (me.viewmode == \"logical\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"both\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.viewmode = \"physical\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tswitch (me.viewmode)\r\n\t\t\t\t\t{\r\n\t\t\t\t\tcase \"physical\":\r\n\t\t\t\t\t\tc[1].show();\r\n\t\t\t\t\t\tc[2].hide();\r\n\t\t\t\t\t\tc1[1].show();\r\n\t\t\t\t\t\tc1[2].hide();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase \"logical\":\r\n\t\t\t\t\t\tc[1].hide();\r\n\t\t\t\t\t\tc[2].show();\r\n\t\t\t\t\t\tc1[1].hide();\r\n\t\t\t\t\t\tc1[2].show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tc[1].show();\r\n\t\t\t\t\t\tc[2].show();\r\n\t\t\t\t\t\tc1[1].show();\r\n\t\t\t\t\t\tc1[2].show();\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-refresh\",\r\n\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tgrid = me.innerGrid.g_fields;\r\n\t\t\t\t\tif (me.table._mc.type.toLowerCase() == \"cubemodel\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar stables = me.innerGrid.down(\"[name=stables]\");\r\n\t\t\t\t\t\tif (stables.getValue())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tme.table._tables = me.table._tables || {};\r\n\t\t\t\t\t\t\tme.innerGrid._loadField(stables.getValue());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.main.loadTableContent.call(me.main, me.table);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"button\",\r\n\t\t\t\ticonCls: \"icon-tb-preview\",\r\n\t\t\t\ttooltip: \"Preview\",\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis.main.previewSQL.call(this.main, this.table);\r\n\t\t\t\t},\r\n\t\t\t\tscope: tbbox\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\tvalue: \"\",\r\n\t\t\t\tname: \"m_disp\"\r\n\t\t\t}\r\n\t\t],\r\n\t\tlisteners: {\r\n\t\t\tafterrender: function(ui) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tme.fixKeyVal = me.cpa.sobj.fixKeyMode;\r\n\t\t\t\tme.g_key = me.down(\"[name=g_key]\");\r\n\t\t\t\tme.g_fields = me.down(\"[name=g_fields]\");\r\n\t\t\t\tme.m_disp = me.down(\"[name=m_disp]\");\r\n\t\t\t\t\r\n\t\t\t\tme.loadData();\r\n\t\t\t},\r\n\t\t\tscrollershow: function(scroller, orientation, eOpts ) {\r\n\t\t\t\t// scroller.on(\"bodyscroll\", this.afterScroll, this);\r\n\t\t\t},\r\n\t\t\tresize: function(tobj, width, height, owidth, oheight, eopts) {\r\n\t\t\t\t// tobj.adjHeight();\r\n\t\t\t\tpobj.validateSize.call(pobj);\r\n\t\t\t},\r\n\t\t\tstartmove: function(tobj) {\r\n\t\t\t\tif (tobj.$ex)\r\n\t\t\t\t{\r\n\t\t\t\t\ttobj.$ex.config.zoomRatio = pobj.zoomRatio;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tmove: function(tobj, x, y, eOpts) {\r\n\t\t\t\tif (x < 0 || y < 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.setPosition(x < 0 ? 0 : x, y < 0 ? 0 : y);\r\n\t\t\t\t}\r\n\t\t\t\tpobj.validateSize.call(pobj);\r\n\t\t\t},\r\n\t\t\tclose: function(panel, eOpts) {\r\n\t\t\t\towner.removeTbl.call(owner, tbbox);\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n\t// this.pobj.scrollPanel[0]\r\n\t// this.innerGrid.show(this.pobj.scrollPanel[0]);\r\n}\r\n\r\nIG$.tableBox.prototype = {\r\n\tfixKeyMode: function(status) {\r\n\t\tif (this.table.fixKeyMode == status)\r\n\t\t\treturn;\r\n\t\t\t\r\n\t\tthis.table.fixKeyMode = status;\r\n\t\t\r\n\t\tthis.innerGrid.fixKeyMode.call(this.innerGrid, status);\r\n\t},\r\n\t\r\n\tcollapsePanel: function(status) {\r\n\t\tvar me = this,\r\n\t\t\towner = me.pobj,\r\n\t\t\tbom, bel,\r\n\t\t\th;\r\n\t\t\t\r\n\t\tvar w = me.table._mc.width, // tbbox.innerbox.width(),\r\n\t\t\th = me.table._mc.theight; // tbbox.innerbox.height();\r\n\t\t\r\n\t\th = ((h || 100) < 100) ? 100 : h;\r\n\t\t\r\n\t\t// me.innerGrid.setHeight(h);\r\n\t\t\t\t\r\n\t\tme.innerGrid.setVisible(true);\r\n\t\t// me.innerGrid.setSize(w, h);\r\n\t\t\r\n\t\t// tbbox.table.width = w;\r\n\t\t// tbbox.table.height = h;\r\n\r\n\t\t// me.innerGrid.setWidth(w);\r\n\t\t// me.innerGrid.setHeight(h);\r\n\t\t\r\n//\t\t\tme.outerbox.resizable({\r\n//\t\t\t\tstart: function(event, ui) {\r\n//\t\t\t\t\ttbbox.innerGrid.setVisible(false);\r\n//\t\t\t\t},\r\n//\t\t\t\tstop: function(event, ui) {\r\n//\t\t\t\t\towner.validateSize.call(owner);\r\n//\t\t\t\t\towner.validateLinks.call(owner);\r\n//\t\t\t\t\tvar w = tbbox.innerbox.width(),\r\n//\t\t\t\t\t\th = tbbox.innerbox.height();\r\n//\t\t\t\t\t\r\n//\t\t\t\t\ttbbox.innerGrid.setVisible(true);\r\n//\t\t\t\t\ttbbox.innerGrid.setSize(w, h);\r\n//\t\t\t\t\ttbbox.table.width = w;\r\n//\t\t\t\t\ttbbox.table.height = h;\r\n//\t\t\t\t}\r\n//\t\t\t});\r\n\t\t// mobj.removeClass(\"idv-cm-tb-exp\");\r\n\t\t\r\n\t\towner.validateSize.call(owner);\r\n\t\towner.validateLinks.call(owner);\r\n\t}\r\n};\r\n\r\nIG$.LinkField = function(pobj, fromobj, toobj, link, relations) {\r\n\tvar me = this;\r\n\t\r\n\tme.pobj = pobj;\r\n\tme.fromobj = fromobj;\r\n\tme.toobj = toobj;\r\n\tme.links = [link];\r\n\tme.relations = relations;\r\n\t\r\n\tme._fromDir = \"\";\r\n\tme._toDir = \"\";\r\n\t\r\n\tme.lineMode = pobj.lineMode;\r\n}\r\n\r\nIG$.LinkField.prototype = {\r\n\tvalidateDirection: function(z) {\r\n\t\tvar iz = 1/z,\r\n\t\t\tfo = $(this.fromobj.box.innerGrid.body.dom), //this.fromobj.box.outerbox,\r\n\t\t\tf = fo.offset(),\r\n\t\t\tto = $(this.toobj.box.innerGrid.body.dom), // this.toobj.box.outerbox,\r\n\t\t\tt = to.offset(),\r\n\t\t\tfow = IG$.j$ext._w(fo) * z,\r\n\t\t\ttow = IG$.j$ext._w(to) * z;\r\n\t\t\r\n\t\tif (f.left + fow < t.left)\r\n\t\t{\r\n\t\t\tthis._fromDir = \"right\";\r\n\t\t\tthis._toDir = \"left\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (t.left + tow < f.left)\r\n\t\t\t{\r\n\t\t\t\tthis._fromDir = \"left\";\r\n\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (f.left > t.left)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._fromDir = \"right\";  // \"left\"\r\n\t\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tthis._fromDir = \"right\";\r\n\t\t\t\t\tthis._toDir = \"right\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tshowLinkEditor: function(link, links) {\r\n\t\tvar dlg = new IG$.linkEditor({\r\n\t\t\tpobj: this.pobj,\r\n\t\t\tlink: link,\r\n\t\t\tlinks: links,\r\n\t\t\trelations: this.relations,\r\n\t\t\tcallback: new IG$.callBackObj(this, this.rs_showLinkEditor)\r\n\t\t});\r\n\t\t\r\n\t\tdlg.show(null); // this.pobj.sobj);\r\n\t},\r\n\trs_showLinkEditor: function(params) {\r\n\t\tvar me = this,\r\n\t\t\tlinks = params[0],\r\n\t\t\tmode = params[1],\r\n\t\t\ti;\r\n\t\tswitch (mode)\r\n\t\t{\r\n\t\tcase \"remove\":\r\n\t\t\tthis.pobj.sobj.updateJoinFields.call(this.pobj.sobj);\r\n\t\t\tthis.pobj.sobj.validateLinks.call(this.pobj.sobj);\r\n\t\t\tthis.pobj.validateLinks.call(this.pobj);\r\n\t\t\tbreak;\r\n\t\tcase \"confirm\":\r\n\t\t\tfor (i=0; i < me.links.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (me.links[i] != links[0])\r\n\t\t\t\t{\r\n\t\t\t\t\tme.links[i].join = links[0].join;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.pobj.validateLinks.call(this.pobj);\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\trefresh: function(_i, groupview) {\r\n\t\tvar i,\r\n\t\t\towner = this,\r\n\t\t\tthickness = 1,\r\n\t\t\tp1, p2, p3, p4,\r\n\t\t\tfromobj = owner.fromobj,\r\n\t\t\ttoobj = owner.toobj,\r\n\t\t\tlinks = owner.links,\r\n\t\t\tcgap = 10, lp1, lp2, _cp,\r\n\t\t\tlgap = 5,\r\n\t\t\tcdist = 10, // + _i * 3,\r\n\t\t\tg = owner.pobj.rcanvas,\r\n\t\t\tltype = {stroke: \"#8d8d8d\", \"stroke-width\": 1, fill: \"none\", opacity: 1},\r\n\t\t\tbtype = {stroke: \"#8d8d8d\", fill: \"#8d8d8d\", opacity: 1},\r\n\t\t\t_index = 0,\r\n\t\t\tpvalue, link,\r\n\t\t\tranged, nlinks = [],\r\n\t\t\tlineMode = \"0\", // owner.lineMode,\r\n\t\t\tz = owner.pobj.zoomRatio,\r\n\t\t\tiz = 1 / z,\r\n\t\t\t_ca,\r\n\t\t\t_cpx;\r\n\t\t\t\r\n\t\tif (owner.links && owner.links.length > 1 && groupview == true)\r\n\t\t{\r\n\t\t\tthickness = owner.links.length * 1.5;\r\n\t\t}\r\n\t\t\r\n\t\towner.validateDirection(z);\r\n\t\t\r\n\t\tnlinks = (groupview == true && links.length > 0) ? [links[0]] : links;\r\n\t\t\r\n\t\t$.each(nlinks, function(i, link) {\r\n\t\t\tvar pt;\r\n\t\t\t\r\n\t\t\tif (!link)\r\n\t\t\t\treturn;\r\n\t\t\t\r\n\t\t\tvar fromdirection = owner._fromDir,\r\n\t\t\t\ttodirection = owner._toDir;\r\n\t\t\t\r\n\t\t\tlink.p1dist = (typeof(link.p1dist) == \"undefined\") ? null : link.p1dist;\r\n\t\t\t// cdist += i * 2;\r\n\t\t\t\r\n\t\t\tif (link.source.tablename == toobj._mc.name && link.target.tablename == fromobj._mc.name && link.source.seq == toobj._mc.seq && link.target.seq == fromobj._mc.seq)\r\n\t\t\t{\r\n\t\t\t\tfromobj = owner.toobj;\r\n\t\t\t\ttoobj = owner.fromobj;\r\n\t\t\t\tif (fromdirection != todirection)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\tfromdirection = \"left\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tfromdirection = \"right\";\r\n\t\t\t\t\tif (todirection == \"right\")\r\n\t\t\t\t\t\ttodirection = \"left\";\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\ttodirection = \"right\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfromobj = owner.fromobj;\r\n\t\t\t\ttoobj = owner.toobj;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpvalue = (links.length == 1 || groupview == false) ? links[i].source.name : null;\r\n\t\t\tp1 = {x: fromobj.stageX() * iz, y: fromobj.stageY(pvalue) * iz};\r\n\t\t\tpvalue = (links.length == 1 || groupview == false) ? links[i].target.name : null;\r\n\t\t\tp4 = {x: toobj.stageX() * iz, y: toobj.stageY(pvalue) * iz};\r\n\t\t\t\r\n\t\t\tif (fromobj.ranged == true && toobj.ranged == true)\r\n\t\t\t{\r\n\t\t\t\tranged = true;\r\n\t\t\t\tltype.stroke = \"#000000\";\r\n\t\t\t\tltype[\"stroke-width\"] = thickness;\r\n\t\t\t\tbtype.stroke = \"#000000\";\r\n\t\t\t\tbtype.fill = \"#000000\";\r\n\t\t\t}\r\n\t\t\telse if (thickness > 1)\r\n\t\t\t{\r\n\t\t\t\tranged = false;\r\n\t\t\t\tltype.stroke = \"#000000\";\r\n\t\t\t\tltype[\"stroke-width\"] = thickness;\r\n\t\t\t\tbtype.stroke = \"#000000\";\r\n\t\t\t\tbtype.fill = \"#000000\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tranged = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (fromdirection == \"right\")\r\n\t\t\t{\r\n\t\t\t\tp1.x += fromobj.bodyWidth();\r\n\t\t\t\tp2 = {x: p1.x + cdist, y: p1.y};\r\n\t\t\t}\r\n\t\t\telse if (fromdirection == \"left\")\r\n\t\t\t{\r\n\t\t\t\tp2 = {x: p1.x - cdist, y: p1.y};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (todirection == \"right\")\r\n\t\t\t{\r\n\t\t\t\tp4.x += toobj.bodyWidth();\r\n\t\t\t\tp3 = {x: p4.x + cdist, y: p4.y};\r\n\t\t\t}\r\n\t\t\telse if (todirection == \"left\")\r\n\t\t\t{\r\n\t\t\t\tp3 = {x: p4.x - cdist, y: p4.y};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (lineMode == \"2\")\r\n\t\t\t{\r\n\t\t\t\tif (fromdirection == todirection && todirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tp2 = {x: Math.max(p1.x, p4.x) + cdist, y: p1.y};\r\n\t\t\t\t\tp3 = {x: Math.max(p1.x, p4.x) + cdist, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\tif (pt < Math.max(p1.x, p4.x) + cdist)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if (fromdirection == todirection && todirection == \"left\")\r\n\t\t\t\t{\r\n\t\t\t\t\tp2 = {x: Math.min(p1.x, p4.x) - cdist, y: p1.y};\r\n\t\t\t\t\tp3 = {x: Math.min(p1.x, p4.x) - cdist, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\tif (pt > Math.min(p1.x, p4.x) - cdist)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t_cpx = (p1.x + p4.x) / 2;\r\n\t\t\t\t\tp2 = {x: _cpx, y: p1.y};\r\n\t\t\t\t\tp3 = {x: _cpx, y: p4.y};\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpt = p1.x + link.p1dist;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (pt < p1.x + cdist || pt > p4.x - cdist)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (pt > p1.x - cdist || pt < p4.x + cdist)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlink.p1dist = null;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (link.p1dist != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tp2.x = p1.x + link.p1dist;\r\n\t\t\t\t\tp3.x = p2.x;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_cp = IG$.lineInterpolate(p2, p3, 3);\r\n\t\t\t_cp = _cp.length > 0 ? _cp[1] : null;\r\n\t\t\t\r\n\t\t\tif (links && links.length > 0 && links[0].join == \"RIGHT OUTER\")\r\n\t\t\t{\r\n\t\t\t\tif (todirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p4.x + \" \" + (p4.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p4.x + cgap) + \" \" + p4.y + \r\n\t\t\t\t\t\t   \"L\" + p4.x + \" \" + (p4.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p4.x + \" \" + (p4.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p4.x - cgap) + \" \" + p4.y + \r\n\t\t\t\t\t\t   \"L\" + p4.x + \" \" + (p4.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (links && links.length > 0 && links[0].join == \"LEFT OUTER\")\r\n\t\t\t{\r\n\t\t\t\t// n:1\r\n\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + p1.x + \" \" + (p1.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p1.x + cgap) + \" \" + p1.y + \r\n\t\t\t\t\t\t   \"L\" + p1.x + \" \" + (p1.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tg.path(\"M\" + (p1.x) + \" \" + (p1.y + cgap) + \r\n\t\t\t\t\t\t   \"L\" + (p1.x-cgap) + \" \" + p1.y + \r\n\t\t\t\t\t\t   \"L\" + (p1.x) + \" \" + (p1.y - cgap)).attr(ltype);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tg.path(\"M\" + p1.x + \" \" + p1.y + \r\n\t\t\t\t   \"L\" + p2.x + \" \" + p2.y + \r\n\t\t\t\t   \"L\" + p3.x + \" \" + p3.y +\r\n\t\t\t\t   \"L\" + p4.x + \" \" + p4.y).attr(ltype);\r\n\t\t\t\r\n\t\t\tvar bobj = (links.length == 1 || groupview == true) ? links : [links[i]];\r\n\t\t\tvar c = $(\"<div class='igc-cm-join'><span></span></div>\").appendTo(owner.pobj.scrollbar),\r\n\t\t\t\tldesc = \"\",\r\n\t\t\t\tcspan = $(\"span\", c),\r\n\t\t\t\tgap;\r\n\t\t\t\r\n\t\t\tif (groupview == true)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < links.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (i > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tldesc += \"\\n\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tldesc += links[i].source.name;\r\n\t\t\t\t\tif (links[i].source.name != links[i].target.name)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tldesc += \" - \" + links[i].target.name;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tldesc = link.source.name + \" - \" + link.target.name;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcspan.html(ldesc);\r\n\t\t\tc.attr(\"title\", ldesc);\r\n\t\t\t\r\n\t\t\tgap = Math.min(cspan.width() / 2 || 30, 20)\r\n\t\t\t\t\r\n\t\t\tc.css({left: _cp.x - gap, top: _cp.y});\r\n\t\t\tc.bind(\"click\", function(e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\t\r\n\t\t\t\towner.showLinkEditor.call(owner, bobj, links);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\towner.pobj._ca.push(c);\r\n//\t\t\tvar c = g.circle(_cp.x, _cp.y, 4).attr(btype).data(\"owner\", owner).data(\"link\", bobj).click(\r\n//\t\t\t\tfunction() {\r\n//\t\t\t\t\towner.showLinkEditor.call(owner, bobj, links);\r\n//\t\t\t\t}\r\n//\t\t\t);\r\n\t\t\t\r\n\t\t\tif (lineMode == \"2\")\r\n\t\t\t{\r\n\t\t\t\tvar lx = 0,\r\n\t\t\t\t\tly = 0,\r\n\t\t\t\t\tox = 0,\r\n\t\t\t\t\toy = 0,\r\n\t\t\t\t\tcx = 0,\r\n\t\t\t\t\tsx = _cp.x,\r\n\t\t\t\t\tsy = _cp.y;\r\n\t\t\t\t\t\r\n\t\t\t\tvar mv = function(dx, dy) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tlx = dx + ox;\r\n\t\t\t\t\tcx = _cp.x + lx;\r\n\t\t\t\t\tly = 0;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (fromdirection == todirection && fromdirection == \"right\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (cx < Math.max(p1.x, p4.x) + cgap)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlx = Math.max(p1.x, p4.x) + cgap - _cp.x;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (cx > Math.max(p1.x, p4.x) + 500)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlx = Math.max(p1.x, p4.x) + 500 - _cp.x;\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (fromdirection == \"right\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx < p1.x + cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p1.x + cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx > p1.x - cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p1.x - cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (todirection == \"left\")\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx > p4.x - cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p4.x - cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (cx < p4.x + cgap)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tlx = p4.x + cgap - _cp.x;\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tme.transform('t' + lx + ',' + ly);\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tvar st = function(e) {\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tvar ed = function(e) {\r\n\t\t\t\t\t// e.stopPropagation();\r\n\t\t\t\t\tox = lx;\r\n\t\t\t\t\toy = ly;\r\n\t\t\t\t\tif (Math.abs(lx) < 2 && Math.abs(ly) < 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\towner.showLinkEditor.call(owner, bobj, links);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlink.p1dist = _cp.x + lx - p1.x;\r\n\t\t\t\t\t\towner.pobj.validateLinks.call(owner.pobj);\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tc.drag(mv, st, ed);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n};\r\n","IG$.linkFieldEditor = $s.extend($s.window, {\r\n\t// title: \"Join (Relation) Custom Field\",\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 420,\r\n\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\ttarget = me._target;\r\n\r\n\t\tif (target)\r\n\t\t{\r\n\t\t\tme.down(\"[name=t_disp]\").setValue(target.name);\r\n\t\t\tme.down(\"[name=t_value]\").setValue(me.joinobj[me.fieldname]);\r\n\t\t}\r\n\t},\r\n\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\ttarget = me._target;\r\n\r\n\t\tif (target)\r\n\t\t{\r\n\t\t\tme.joinobj[me.fieldname] = me.down(\"[name=t_value]\").getValue();\r\n\t\t}\r\n\r\n\t\tme.callback && me.callback.execute();\r\n\t\tme.close();\r\n\t},\r\n\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\r\n\t\tme.title = IRm$.r1(\"L_JOIN_REL_CUSTOM_FIELD\");\r\n\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: 10,\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tname: \"t_disp\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tname: \"t_value\",\r\n\t\t\t\t\t\t\theight: 120\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Field in formula, Use {FIELD}. Ex: SUBSTR({FIELD}, 1, 6)\"\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.linkFieldEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\nIG$.linkEditor = $s.extend($s.window, {\r\n\t// title: \"Join (Relation) Editor\",\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 420,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t_curLink: null,\r\n\t\r\n\t_init: function() {\r\n\t\tthis._curLink = null;\r\n\t\t\r\n\t\tif (this.link && this.link.length > 0)\r\n\t\t{\r\n\t\t\tvar selR = this.down(\"[name=selR]\"),\r\n\t\t\t\tbtn_upd = this.down(\"[name=btn_upd]\"), \r\n\t\t\t\tdp = [], i, svalue,\r\n\t\t\t\tl;\r\n\t\t\t\t\r\n\t\t\tif (this.link.length > 1)\r\n\t\t\t{\r\n\t\t\t\tselR.setVisible(true);\r\n\t\t\t\tbtn_upd.setVisible(true);\r\n\t\t\t\tfor (i=0; i < this.link.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tl = this.link[i];\r\n\t\t\t\t\tdp.push({\r\n\t\t\t\t\t\tname: l.source.tablename + \".\" + l.source.name + \" - \" + l.target.tablename + \".\" + l.target.name,\r\n\t\t\t\t\t\t__i: i\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tselR.store.loadData(dp);\r\n\t\t\t\tselR.setValue(0);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tthis.setFieldValue(this.link[0]);\r\n\t\t}\r\n\t},\r\n\t\r\n\tsetFieldValue: function(link) {\r\n\t\tvar me = this,\r\n\t\t\tsfield = me.down(\"[name=sfield]\"),\r\n\t\t\ttfield = me.down(\"[name=tfield]\"),\r\n\t\t\toprel = me.down(\"[name=oprel]\");\r\n\t\t\r\n\t\tif (link)\r\n\t\t{\r\n\t\t\tme._curLink = link;\r\n\t\t\t\r\n\t\t\tsfield.setValue(me.getDispName(link.source));\r\n\t\t\ttfield.setValue(me.getDispName(link.target));\r\n\t\t\t// tfield.setValue(link.target.tablename + \".\" + link.target.name);\r\n\t\t\t\r\n\t\t\toprel.setValue(link.join);\r\n\t\t}\r\n\t},\r\n\r\n\tgetDispName: function(m) {\r\n\t\tvar r = \"\";\r\n\t\tif (m.formula)\r\n\t\t{\r\n\t\t\tr = m.formula;\r\n\t\t\tr = r.replace(\"{FIELD}\", m.name);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tr = m.tablename + \".\" + m.name\r\n\t\t}\r\n\r\n\t\treturn r;\r\n\t},\r\n\t\r\n\tremoveLink: function() {\r\n\t\tvar me = this,\r\n\t\t\ti, j, bfound = 0, mfound,\r\n\t\t\tselR = me.down(\"[name=selR]\"),\r\n\t\t\tlinks = me.link,\r\n\t\t\trelations = me.relations,\r\n\t\t\tcurLink = me._curLink,\r\n\t\t\tpobj = me.pobj,\r\n\t\t\tplinks = pobj.links;\r\n\t\t\r\n\t\tif (links.length > 1)\r\n\t\t{\r\n\t\t\tfor (i=0; i < relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (relations[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\trelations.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < links.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (links[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\tlinks.splice(i, 1);\r\n\t\t\t\t\tbfound = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < plinks.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmfound = 0;\r\n\t\t\t\tfor (j=0; j < plinks[i].links.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].links[j] == curLink)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// this.pobj.links.splice(i, 1);\r\n\t\t\t\t\t\tplinks[i].links.splice(j, 1);\r\n\t\t\t\t\t\tmfound = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (mfound)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].length == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tplinks.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bfound)\r\n\t\t\t{\r\n\t\t\t\tvar t = selR.getValue();\r\n\t\t\t\tfor (i=0; i < selR.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (selR.store.data.items[i].get(\"__i\") == t)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tselR.store.removeAt(i);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (selR.store.data.items.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tselR.hide();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (selR.store.data.items.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tselR.setValue(selR.store.data.items[0].get(\"__i\"));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < selR.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tselR.store.data.items[i].set(\"__i\", i);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.callback && me.callback.execute([links, \"remove\"]);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (i=0; i < relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (relations[i] == curLink)\r\n\t\t\t\t{\r\n\t\t\t\t\trelations.splice(i, 1);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < plinks.length; i++)\r\n\t\t\t{\r\n\t\t\t\tbfound = 0;\r\n\t\t\t\tfor (j=0; j < plinks[i].links.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].links[j] == curLink)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// this.pobj.links.splice(i, 1);\r\n\t\t\t\t\t\tplinks[i].links.splice(j, 1);\r\n\t\t\t\t\t\tbfound = 1;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (bfound)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (plinks[i].length == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tplinks.splice(i, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.callback && me.callback.execute([links, \"remove\"]);\r\n\t\t\tme.close();\r\n\t\t}\r\n\t},\r\n\t\r\n\tconfirmChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\toprel = me.down(\"[name=oprel]\"),\r\n\t\t\tcurLink = me._curLink;\r\n\t\t\r\n\t\tif (curLink)\r\n\t\t{\r\n\t\t\tcurLink.join = oprel.getValue();\r\n\t\t\tcurLink.operator = \"=\";\r\n\t\t}\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.confirmChanges();\r\n\t\tme.callback && me.callback.execute([me.link, \"confirm\"]);\r\n\t\tme.close();\r\n\t},\r\n\r\n\teditField: function(issource) {\r\n\t\tvar me = this,\r\n\t\t\tl = me._curLink,\r\n\t\t\tffield = me.down(\"[name=\" + (issource ? \"s\" : \"t\") + \"field]\"),\r\n\t\t\tfield = issource ? l.source : l.target,\r\n\t\t\tfieldname = (issource ? \"source\" : \"target\") + \"_field_formula\",\r\n\t\t\tdlg;\r\n\r\n\t\tif (field)\r\n\t\t{\r\n\t\t\tdlg = new IG$.linkFieldEditor({\r\n\t\t\t\tjoinobj: l,\r\n\t\t\t\t_target: field,\r\n\t\t\t\tfieldname: fieldname,\r\n\t\t\t\tcallback: new IG$.callBackObj(me, function() {\r\n\t\t\t\t\tffield.setValue(this.getDispName(field));\r\n\t\t\t\t})\r\n\t\t\t});\r\n\r\n\t\t\tIG$.checkLogin(me, dlg);\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tpadding: 10,\r\n\t\t\ttitle: IRm$.r1(\"L_JOIN_REL_EDITOR\"),\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_RELATION\"),\r\n\t\t\t\t\t\t\tname: \"selR\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tvalueField: \"__i\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"__i\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(field, newValue, oldValue, eOpts) {\r\n\t\t\t\t\t\t\t\t\tvar p = field.getValue();\r\n\t\t\t\t\t\t\t\t\tthis.setFieldValue(this.link[p]);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tname: \"sfield_cnt\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"sfield\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SOURCE_FIELD\"),\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.editField(true);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tname: \"tfield_cnt\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"tfield\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_FIELD\"),\r\n\t\t\t\t\t\t\t\t\treadOnly: true,\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.editField(false);\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tdefaults: {\r\n\t\t\t\t\t\t\t\tlabelWidth: 150\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_OPTIONS\"), //\"Options\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\tname: \"oprel\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SRC_TO_TGT_IS\"),\r\n\t\t\t\t\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\tvalueField: \"op\",\r\n\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\tlabelField: \"name\",\r\n\t\t\t\t\t\t\t\t\t$w: 390,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"op\", \"desc\"\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Inner equal\", op: \"INNER JOIN\", desc: \"Show only match values\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Left outer\", op: \"LEFT OUTER\", desc: \"Show all source values even not match\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Right outer\", op: \"RIGHT OUTER\", desc: \"Show all target values even not match\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Auto natural\", op: \"NATURAL\", desc: \"Automatic join with column foreign key\"},\r\n\t\t\t\t\t\t\t\t\t\t\t{name: \"Full outer\", op: \"FULL OUTER\", desc: \"Show all source and target values\"}\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(cobj) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar rec,\r\n\t\t\t\t\t\t\t\t\t\t\t\ti,\r\n\t\t\t\t\t\t\t\t\t\t\t\tr,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcval = cobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\top_desc = this.down(\"[name=op_desc]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < cobj.store.data.items.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tr = cobj.store.data.items[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (r.get(\"op\") == cval)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trec = r;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec)\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\top_desc.setValue(\"* \" + rec.get(\"desc\"));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tname: \"op_desc\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\talign: \"right\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\tname: \"btn_upd\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_CONFIRM_CURRENT\"), // \"Confirm current\",\r\n\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.confirmChanges();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_RELATION\"), // \"Remove Relation\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.removeLink();\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.linkEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.CubeModel = $s.extend(IG$.v$pnl, {\r\n\tcollapseFirst:false,\r\n\tbodyBorder: false,\r\n\tlayout: \"fit\",\r\n\tdefaults: {\r\n\t\tcollapsible: false,\r\n\t\tsplit: false,\r\n\t\tanimFloat: false,\r\n\t\tautoHide: false,\r\n\t\tuseSplitTips: true\r\n\t},\r\n\t\r\n\tinitialized: false,\r\n\tclosable: true,\r\n\t\r\n\toverflowX: \"hidden\",\r\n\toverflowY: \"hidden\",\r\n\t\r\n\ticonCls: \"icon-cubemodel\",\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tcontainer = me.down(\"[name=mcontainer]\");\r\n\t\t\r\n\t\tme.m = new IG$.cubeModelViewer($(container.body.dom), me);\r\n\t\tme.m.init();\r\n\t\t \r\n\t\tif (me.uid)\r\n\t\t{\r\n\t\t\tme.load_content();\r\n\t\t\t\r\n\t\t\tme.down(\"[name=t_save]\").setVisible(me.writable);\r\n\t\t\t \r\n\t\t\tif (me.writable)\r\n\t\t\t{\r\n\t\t\t\tIG$.checkLock(me, function(cmd) {\r\n\t\t\t\t\tif (cmd != \"unlock\")\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.writable = false;\r\n\t\t\t\t\t\tme.down(\"[name=t_save]\").hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\telse if (me._c$)\r\n\t\t{\r\n\t\t\tme.rs_load_content(me._c$);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.cubemodel = new IG$.m$CubeModel(null);\r\n\t\t\tme.loadPool();\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_content: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {address: me.uid},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, me.rs_load_content, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_load_content: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\trnode,\r\n\t\t\t_mc;\r\n\t\t\r\n\t\tme.cubemodel = new IG$.m$CubeModel(jdoc.content);\r\n\t\t_mc = me.cubemodel._mc;\r\n\t\t\r\n\t\tif (!_mc.datasource && me.obj_uid)\r\n\t\t{\r\n\t\t\t_mc.datasource = {\r\n\t\t\t\tuid: me.obj_uid\r\n\t\t\t};\r\n\t\t}\r\n\t\telse if (me.obj_uid)\r\n\t\t{\r\n\t\t\t_mc.datasource.uid = me.obj_uid;\r\n\t\t}\r\n\t\t\r\n\t\tme.obj_uid = _mc.datasource.uid;\r\n\t\t\r\n\t\tme.cubemodel.datasource = {\r\n\t\t\tuid: _mc.datasource.uid || me.obj_uid\r\n\t\t};\r\n\t\t\r\n\t\trnode = {\r\n\t\t\ttype: \"ROOT\",\r\n\t\t\tname: \"DataSource\",\r\n\t\t\tuid: me.obj_uid,\r\n\t\t\tleaf: false,\r\n\t\t\tchildren: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: \"load\",\r\n\t\t\t\t\tname: \"Loading...\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\trnode = me.down(\"[name=mtree]\").setRootNode(rnode);\r\n\t\trnode.expand();\r\n\t\t\r\n\t\tme.loadPool();\r\n\t},\r\n\t\r\n\tloadPool: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.validateTables();\r\n\t\tme.validateJoins();\r\n\t},\r\n\t\r\n\tupdatePoolInfo: function(jdoc, tarr) {\r\n\t\tvar i, j,\r\n\t\t\titem,\r\n\t\t\tmnodes,\r\n\t\t\tdb;\r\n\t\tfor (i=0; i < jdoc.length; i++)\r\n\t\t{\r\n\t\t\tdb = jdoc[i];\r\n\t\t\tdb.dispname = db.name;\r\n\t\t\tif (db.dispname.length > 17 && db.dispname.charAt(17) == \"_\")\r\n\t\t\t{\r\n\t\t\t\tdb.dispname = db.dispname.substring(18);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (db.children)\r\n\t\t\t{\r\n\t\t\t\tmnodes = db.children;\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < mnodes.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\t item = mnodes[j];\r\n\t\t\t\t\t tarr.push({\r\n\t\t\t\t\t\t value: item.uid,\r\n\t\t\t\t\t\t name: db.dispname + \"-\" + item.name\r\n\t\t\t\t\t });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\ttarr.push({\r\n\t\t\t\t\t value: \"\",\r\n\t\t\t\t\t name: db.dispname + \"-ERROR(No Schema)\"\r\n\t\t\t\t });\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdateUsedTable: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrid_st = me.down(\"[name=grid_st]\"),\r\n\t\t\ti, store = grid_st.store,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttbnames = {};\r\n\t\t\t\r\n\t\tif (store.data.items.length)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttbnames[cubemodel.tables[i]._mc.uid] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\tstore.data.items[i].set(\"used\", tbnames[store.data.items[i].get(\"uid\")] ? \"*\" : \"\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadTableContent: function(table, b_onload, b_last) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tm = table._mc;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {uid: m.uid, nodepath: m.nodepath, name: m.name, option: \"StoredContent\"},\r\n\t\t\t\tmbody: {option: \"folder\", readcontent: \"T\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar m = this,\r\n\t\t\t\t\tjnode = jdoc.length ? jdoc[0] : null,\r\n\t\t\t\t\ttnode = jnode ? jnode.content : null, \r\n\t\t\t\t\ttnodes,\r\n\t\t\t\t\tfields = [], field,\r\n\t\t\t\t\ti;\r\n\t\t\t\t\r\n\t\t\t\tif (jnode && jnode.children)\r\n\t\t\t\t{\r\n\t\t\t\t\ttnodes = jnode.children;\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfield = tnodes[i].content;\r\n\t\t\t\t\t\tfield.tablename = table._mc.name || field.tablename;\r\n\t\t\t\t\t\tfield.alias = field.alias || field.name;\r\n\t\t\t\t\t\tfield.iskey = field.iskey;\r\n\t\t\t\t\t\tfield.leaf = true;\r\n\t\t\t\t\t\tfield.dispname = field.name;\r\n\t\t\t\t\t\tfield.allowDrag = true;\r\n\t\t\t\t\t\tfield.seq = table._mc.seq;\r\n\t\t\t\t\t\tfield.tableuid = table._mc.uid;\r\n\t\t\t\t\t\tfields.push(field);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttable._mc.columns = fields;\r\n\t\t\t\t\r\n\t\t\t\tif (!b_onload || (b_onload && b_last))\r\n\t\t\t\t{\r\n\t\t\t\t\tm.validateTables();\r\n\t\t\t\t\tm.validateJoins();\r\n\t\t\t\t}\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tpreviewSQL: function(table) {\r\n\t\tvar dlg = new IG$.dlgLoadPreview({\r\n\t\t\ttable: table\r\n\t\t});\r\n\t\t\r\n\t\tIG$.checkLogin(this, dlg);\r\n\t},\r\n\t\r\n\tupdateJoinFields: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, o, t, tmc, n, nsname, ntname, nfield;\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\tt = cubemodel.tables[i]; // cubemodel.tables[i];\r\n\t\t\ttmc = t._mc;\r\n\t\t\ttname = tmc.name + \"_\" + tmc.seq;\r\n\t\t\t\r\n\t\t\ttmc.columns = tmc.columns || [];\r\n\t\t\t\r\n\t\t\tfor (o=0; o < tmc.columns.length; o++)\r\n\t\t\t{\r\n\t\t\t\ttmc.columns[o].hasjoin = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (n=0; n < cubemodel.relations.length; n++)\r\n\t\t\t{\r\n\t\t\t\tr = cubemodel.relations[n];\r\n\t\t\t\tnsname = r.source.tablename + \"_\" + r.source.seq;\r\n\t\t\t\tntname = r.target.tablename + \"_\" + r.target.seq;\r\n\t\t\t\tnfield = (nsname == tname) ? r.source.name : ((ntname == tname) ? r.target.name : null);\r\n\t\t\t\tif (nfield)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (o=0; o < tmc.columns.length; o++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (tmc.columns[o].name == nfield)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttmc.columns[o].hasjoin = true;\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (t.box && t.fixKeyMode)\r\n\t\t\t{\r\n\t\t\t\tt.box.innerGrid.loadData.call(t.box.innerGrid);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t/* drawing functions */\r\n\tvalidateTables: function(b_onload) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tt, mbox,\r\n\t\t\tm = me.m, px, py, pw, ph, pth;\r\n\t\t\r\n\t\tme.tablemap = me.tablemap || {};\r\n\t\tme.updateJoinFields();\r\n\t\t\r\n\t\t// for (i=0; i < cubemodel.tables.length; i++)\r\n\t\t$.each(cubemodel.tables, function(i, table)\r\n\t\t{\r\n\t\t\tvar _mc = table._mc,\r\n\t\t\t\tn, o, r,\r\n\t\t\t\tnsname,\r\n\t\t\t\tntname,\r\n\t\t\t\ttname,\r\n\t\t\t\tnfield;\r\n\r\n\t\t\tpx = _mc.x;\r\n\t\t\tpy = _mc.y;\r\n\t\t\tpw = _mc.width;\r\n\t\t\tph = _mc.height;\r\n\t\t\tpth = _mc.theight || _mc.height;\r\n\t\t\t\r\n\t\t\ttname = _mc.uid + \"_\" + _mc.seq;\r\n\t\t\t\r\n\t\t\tif (table.box)\r\n\t\t\t{\r\n\t\t\t\ttable.box.innerGrid.loadData.call(table.box.innerGrid);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmbox = m.addBox.call(m, px, py, pw, ph, table, me);\r\n\t\t\t\ttable.box = mbox;\r\n\t\t\t\t\r\n\t\t\t\tif (b_onload)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.loadTableContent.call(me, table, b_onload, i == cubemodel.tables.length-1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.tablemap[tname] = table;\r\n\t\t});\r\n\t\t\r\n\t\tm.validateSize.call(m);\r\n\t},\r\n\t\r\n\tvalidateJoins: function() {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tr, fobj, tobj,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\tbl;\r\n\t\t\r\n\t\tfor (i=cubemodel.relations.length-1; i>=0; i--)\r\n\t\t{\r\n\t\t\tr = cubemodel.relations[i];\r\n\t\t\tfobj = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\t\ttobj = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\t\r\n\t\t\tif (!fobj || !tobj)\r\n\t\t\t{\r\n\t\t\t\tcubemodel.relations.splice(i, 1);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!r.bl)\r\n\t\t\t\t{\r\n\t\t\t\t\tr.bl = m.addLink.call(m, fobj, tobj, r, cubemodel.relations);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.updateJoinFields();\r\n\t\tme.validateLinks();\r\n\t\tm.validateLinks.call(m);\r\n\t},\r\n\t\r\n\tvalidateLinks: function() {\r\n\t\t// update join relation grid\r\n\t\tvar me = this,\r\n\t\t\tmRel = me.down(\"[name=mRel]\"),\r\n\t\t\tdp = [],\r\n\t\t\tm = me.m,\r\n\t\t\ti,\r\n\t\t\tlinks = m.relations || [],\r\n\t\t\tlink, s, t;\r\n\t\t\r\n\t\t// generates data\r\n\t\tfor (i=0; i < links.length; i++)\r\n\t\t{\r\n\t\t\tlink = links[i];\r\n\t\t\t\r\n\t\t\ts = link.source;\r\n\t\t\tt = link.target;\r\n\t\t\t\r\n\t\t\tif (s && t)\r\n\t\t\t{\r\n\t\t\t\tdp.push({\r\n\t\t\t\t\ts0: s.tablename,\r\n\t\t\t\t\tt0: t.tablename,\r\n\t\t\t\t\ts1: s.seq,\r\n\t\t\t\t\tt1: t.seq,\r\n\t\t\t\t\ts2: s.name,\r\n\t\t\t\t\tt2: t.name,\r\n\t\t\t\t\tr0: link.join,\r\n\t\t\t\t\tsdesc: s.tablename + \".\" + s.name,\r\n\t\t\t\t\ttdesc: t.tablename + \".\" + t.name,\r\n\t\t\t\t\tl: link\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// update data\r\n\t\tmRel.store.loadData(dp);\r\n\t},\r\n\t/* end drawing functions */\r\n\t\r\n\tonDropRecord: function(ev, et) {\r\n\t\tvar m = this,\r\n\t\t\ttb = et,\r\n\t\t\ttable,\r\n\t\t\tcubemodel = m.cubemodel,\r\n\t\t\toffset = m.m.viewer.offset(), \r\n\t\t\ti, _mc;\r\n\t\t\r\n\t\ttable = new IG$.m$TblObj(null);\r\n\t\t_mc = table._mc = {};\r\n\t\tIG$.CopyObject(tb, table._mc, \"nodepath;name;type;uid;memo;schemaname;alias\");\r\n\t\t_mc.x = ev.getX() - offset.left;\r\n\t\t_mc.y = ev.getY() - offset.top;\r\n\t\t_mc.width = 180;\r\n\t\t_mc.height = 200;\r\n\t\t_mc.seq = 0;\r\n\t\t\r\n\t\ttable.fields = [];\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\tif (cubemodel.tables[i]._mc.uid == _mc.uid)\r\n\t\t\t{\r\n\t\t\t\t_mc.seq = Math.max(_mc.seq, cubemodel.tables[i]._mc.seq+1);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tcubemodel.tables.push(table);\r\n\t\t\r\n\t\tm.updateUsedTable();\r\n\t\t\r\n\t\tm.loadTableContent(table);\r\n\t},\r\n\t\r\n\tupdateModel: function() {\r\n\t\tvar me = this,\r\n\t\t\tm = me.m,\r\n\t\t\ti, j, table, bbox, tboffset,\r\n\t\t\tbdom,\r\n\t\t\tmainoffset = m.scrollPanel.offset(),\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\t_mc = cubemodel._mc,\r\n\t\t\t_tmc, _smc, rel, r1,\r\n\t\t\tjoinkeys = {},\r\n\t\t\tz = m.zoomRatio,\r\n\t\t\tiz = 1 / z;\r\n\t\t\r\n\t\t_mc.tables = [];\r\n\t\t_mc.joins = [];\r\n\t\t_mc.securityfilter = [];\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t{\r\n\t\t\tr1 = cubemodel.relations[i];\r\n\t\t\trel = {\r\n\t\t\t\tjoin: r1.join,\r\n\t\t\t\toperator: r1.operator,\r\n\t\t\t\tsource: r1.source,\r\n\t\t\t\ttarget: r1.target,\r\n\t\t\t\tsource_field_formula: r1.source_field_formula,\r\n\t\t\t\ttarget_field_formula: r1.target_field_formula\r\n\t\t\t};\r\n\t\t\tjoinkeys[r1.source.uid] = 1;\r\n\t\t\tjoinkeys[r1.target.uid] = 1;\r\n\t\t\t_mc.joins.push(rel);\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t{\r\n\t\t\ttable = cubemodel.tables[i];\r\n\t\t\t_smc = table._mc;\r\n\t\t\t_tmc = IG$.copyObject(_smc);\r\n\t\t\t_tmc.columns = [];\r\n\t\t\tbbox = table.box.innerGrid; //outerbox;\r\n\t\t\tbdom = $(bbox.$ex.$view);\r\n\t\t\t\r\n\t\t\ttboffset = bdom.offset();\r\n\t\t\t_tmc.x = (tboffset.left - mainoffset.left) * iz;\r\n\t\t\t_tmc.y = (tboffset.top - mainoffset.top) * iz;\r\n\t\t\t_tmc.width = bdom.width();\r\n\t\t\t_tmc.height = bdom.height();\r\n\t\t\t\r\n\t\t\t_tmc.theight = _tmc.height;\r\n\t\t\t\r\n\t\t\tif (_smc.columns)\r\n\t\t\t{\r\n\t\t\t\tfor (j=_smc.columns.length-1; j>=0; j--)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (_smc.columns[j].iskey || joinkeys[_smc.columns[j].uid])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t_tmc.columns.push(_smc.columns[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t_mc.tables.push(_tmc);\r\n\t\t}\r\n\t\t\r\n\t\tif (cubemodel.securityfilter)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.securityfilter.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_mc.securityfilter.push(cubemodel.securityfilter[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tsaveContent: function(newitem) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.updateModel();\r\n\t\t\r\n\t\tme.fireEvent(\"_model_updated\");\r\n\t\t\r\n\t\tvar i, cubemodel = me.cubemodel,\r\n\t\t\tcontent = cubemodel.getXML.call(cubemodel),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tobj;\r\n\t\t\r\n\t\tif (newitem)\r\n\t\t{\r\n\t\t\tobj = {pid: cubemodel.item.pid, address: cubemodel.item.address, name: cubemodel.item.name, type: \"CubeModel\"};\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tobj = {uid: me.uid};\r\n\t\t}\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"writecontent\",\r\n\t\t\t\tpayload: obj,\r\n\t\t\t\tmbody: content,\r\n\t\t\t\tmeta_type: \"cubemodel\"\r\n\t\t}, me, function(jdoc) {\r\n\t\t\tvar me = this;\r\n\t\t\t\r\n\t\t\tme.uid = jdoc.uid;\r\n\t\t\tme.setTitle(jdoc.name);\r\n\t\t\t\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_SAVED\"), null, null, 0, \"success\");\r\n\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tonDropField: function(fnode, tnode) {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\tr = {join: \"inner\", operator: \"=\"},\r\n\t\t\tsrc, tgt;\r\n\t\t\r\n\t\tr.source = fnode.data;\r\n\t\tr.target = tnode.data;\r\n\t\t\r\n\t\tcubemodel.relations.push(r);\r\n\t\tme.updateJoinFields();\r\n\t\tsrc = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\ttgt = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\r\n\t\tif (src && tgt)\r\n\t\t{\r\n\t\t\tr.bl = m.addLink.call(m, src, tgt, r, cubemodel.relations);\r\n\t\t\tme.validateLinks();\r\n\t\t\tm.validateLinks.call(m);\r\n\t\t}\r\n\t},\r\n\t\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tvar me = this,\r\n\t\t\tm = me.m,\r\n\t\t\ti;\r\n\t\t\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_save\":\r\n\t\t\tif (!me.uid)\r\n\t\t\t{\r\n\t\t\t\tme.saveAsContent(false);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tme.saveContent();\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_saveas\":\r\n\t\t\tme.saveAsContent(false);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_simple_view\":\r\n\t\t\tme.cubemodel.groupview = !me.cubemodel.groupview;\r\n\t\t\tm.validateLinks.call(m);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_fix_key\":\r\n\t\t\tvar cubemodel = me.cubemodel;\r\n\t\t\tcubemodel.fixKeyMode = !cubemodel.fixKeyMode;\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcubemodel.tables[i].box.fixKeyMode.call(cubemodel.tables[i].box, cubemodel.fixKeyMode);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_autojoin\":\r\n\t\t\tme.auto_join();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_load_fields\":\r\n\t\t\tme.load_fields();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_beutify\":\r\n\t\t\tme.beutify_diagram();\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_table_order\":\r\n\t\t\tvar dlg = new IG$.dlgTableOrder({\r\n\t\t\t\tcubemodel: me.cubemodel\r\n\t\t\t});\r\n\t\t\tdlg.show(me);\r\n\t\t\tbreak;\r\n\t\tcase \"cmd_refresh_table\":\r\n\t\t\tvar grid_st = me.down(\"[name=grid_st]\");\r\n\t\t\t\r\n\t\t\tgrid_st.store.loadData([]);\r\n\t\t\t\r\n\t\t\tif (me._s1)\r\n\t\t\t{\r\n\t\t\t\tme.loadDatabaseTable(me._s1, \"StoredContent\", null, {readcontent: \"T\"});\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_fields: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tnjoins = [], tb,\r\n\t\t\trel, key1, key2;\r\n\t\t\r\n\t\tif (cubemodel.tables.length)\r\n\t\t{\r\n\t\t\t$.each(cubemodel.tables, function(i, tb) {\r\n\t\t\t\tme.loadTableContent(tb);\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\tauto_join: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, j, relations = {},\r\n\t\t\tnjoins = [], tb,\r\n\t\t\trel, key1, key2;\r\n\t\t\r\n\t\tif (cubemodel.tables.length > 1)\r\n\t\t{\r\n\t\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\trel = cubemodel.relations[i];\r\n\t\t\t\t\r\n\t\t\t\tkey1 = rel.source.tableuid + \"_\" + rel.source.fieldname;\r\n\t\t\t\tkey2 = rel.target.tableuid + \"_\" + rel.target.fieldname;\r\n\t\t\t\t\r\n\t\t\t\trelations[key1 + \":\" + key2] = 1;\r\n\t\t\t\trelations[key2 + \":\" + key1] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\ttb._cnames = {};\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < tb._mc.columns.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\ttb._cnames[tb._mc.columns[j].fieldname] = tb._mc.columns[j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\tme.get_auto_join(cubemodel.tables, relations, njoins, tb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (njoins.length > 0)\r\n\t\t\t{\r\n\t\t\t\tvar dlg = new IG$.JoinRec({\r\n\t\t\t\t\tjoins: njoins,\r\n\t\t\t\t\tcallback: new IG$.callBackObj(me, function(joins) {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tm = me.m,\r\n\t\t\t\t\t\t\tr, i,\r\n\t\t\t\t\t\t\tsrc, tgt;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < joins.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tr = joins[i];\r\n\t\t\t\t\t\t\tcubemodel.relations.push(r);\r\n\t\t\t\t\t\t\t// me.updateJoinFields();\r\n\t\t\t\t\t\t\tsrc = me.tablemap[(r.source.model || r.source.tableuid) + \"_\" + r.source.seq];\r\n\t\t\t\t\t\t\ttgt = me.tablemap[(r.target.model || r.target.tableuid) + \"_\" + r.target.seq];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (src && tgt)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tr.bl = m.addLink.call(m, src, tgt, r, cubemodel.relations);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.validateLinks();\r\n\t\t\t\t\t\tm.validateLinks.call(m);\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tdlg.show();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tIG$.alertmsg(ig$.appname, \"No join suggestions on this model\", null, null, 0, \"success\");\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tget_auto_join: function(tables, relations, njoins, tb) {\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\ttarget_tb,\r\n\t\t\tkey1, key2, k1, k2, fname,\r\n\t\t\tsjoin, mjoin,\r\n\t\t\tclength,\r\n\t\t\thas_id_field,\r\n\t\t\ttbmc = tb._mc,\r\n\t\t\ttargetmc;\r\n\t\t\r\n\t\tk1 = tbmc.uid + \"_\";\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\ttarget_tb = tables[i];\r\n\t\t\ttargetmc = target_tb._mc;\r\n\t\t\t\r\n\t\t\tif (tbmc.uid != targetmc.uid && (!tbmc.external_name || (tbmc.external_name && tbmc.external_name != targetmc.external_name)))\r\n\t\t\t{\r\n\t\t\t\tk2 = targetmc.uid + \"_\";\r\n\t\t\t\tsjoin = [];\r\n\t\t\t\tmjoin = [];\r\n\t\t\t\tclength = targetmc.columns.length;\r\n\t\t\t\thas_id_field = false;\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < clength; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tfname = targetmc.columns[j].fieldname;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (tb._cnames[fname])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey1 = k1 + fname;\r\n\t\t\t\t\t\tkey2 = k2 + fname;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (fname.indexOf(\"id\") > -1)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thas_id_field = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!relations[key1 + \":\" + key2])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tsjoin.push({\r\n\t\t\t\t\t\t\t\tjoin: \"inner\", \r\n\t\t\t\t\t\t\t\toperator: \"=\",\r\n\t\t\t\t\t\t\t\tsource: tb._cnames[fname],\r\n\t\t\t\t\t\t\t\ttarget: targetmc.columns[j]\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\trelations[key1 + \":\" + key2] = 1;\r\n\t\t\t\t\t\t\trelations[key2 + \":\" + key1] = 1;\r\n\t\t\t\t\t\t\tmjoin.push(fname);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmjoin.push(fname);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif ((mjoin.length > 5 && clength > 5) || (mjoin.length == clength)) \r\n\t\t\t\t{\r\n\t\t\t\t\tif (has_id_field)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tfor (j=sjoin.length-1; j>=0; j--)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (sjoin[j].source.fieldname.indexOf(\"id\") < 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tsjoin.splice(j, 1);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < sjoin.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tnjoins.push(sjoin[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tbeutify_diagram: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ti, trees = [], isolated_tbs = [],\r\n\t\t\ttreeitem, tablesmap = {},\r\n\t\t\trelations = {},\r\n\t\t\trelation,\r\n\t\t\ttables = [],\r\n\t\t\trel, tb,\r\n\t\t\tkey;\r\n\t\t\r\n\t\tif (cubemodel.tables.length > 1 && cubemodel.relations.length > 1)\r\n\t\t{\r\n\t\t\t// grouping in tree items\r\n\t\t\tfor (i=0; i < cubemodel.relations.length; i++)\r\n\t\t\t{\r\n\t\t\t\trel = cubemodel.relations[i];\r\n\t\t\t\trelations[rel.source.tableuid] = relations[rel.source.tableuid] || [];\r\n\t\t\t\trelations[rel.source.tableuid].push(rel);\r\n\t\t\t\t\r\n\t\t\t\trelations[rel.target.tableuid] = relations[rel.target.tableuid] || [];\r\n\t\t\t\trelations[rel.target.tableuid].push(rel);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// copy table array\r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\ttb.parent = null;\r\n\t\t\t\ttb.childnodes = [];\r\n\t\t\t\ttb.jointable = [];\r\n\t\t\t\ttablesmap[tb._mc.uid] = tb;\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twhile (tables.length > 0)\r\n\t\t\t{\r\n\t\t\t\ttb = tables[0]; \r\n\t\t\t\tif (relations[tb._mc.uid])\r\n\t\t\t\t{\r\n\t\t\t\t\ttreeitem = {\r\n\t\t\t\t\t\tfact_table: null,\r\n\t\t\t\t\t\ttables: []\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t\trelation = relations[tb._mc.uid];\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < relation.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttreeitem.tables.push(tb);\r\n\t\t\t\t\t\ttrees.push(treeitem);\r\n\t\t\t\t\t\ttables.splice(0, 1);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tme.gather_join_tables(tables, relations, tablesmap, relation[i], treeitem, tb);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// no joins\r\n\t\t\t\t\tisolated_tbs.push(tb);\r\n\t\t\t\t\ttables.splice(0, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (trees.length > 0)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < trees.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tme.update_table_hierarchy(tablesmap, trees[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar x = 10, \r\n\t\t\t\ty = 10,\r\n\t\t\t\tmpos, max_h = 0,\r\n\t\t\t\tgap = 10;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < isolated_tbs.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpos = me.update_position(x, y, gap, isolated_tbs[i]);\r\n\t\t\t\tx += mpos.x;\r\n\t\t\t\tmax_h = Math.max(max_h, mpos.y);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ty += max_h + gap;\r\n\t\t\t\r\n\t\t\tx = 10;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < trees.length; i++)\r\n\t\t\t{\r\n\t\t\t\tmpos = me.update_position(x, y, gap, trees[i].fact_table);\r\n\t\t\t\t\r\n\t\t\t\ty = mpos.y;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdate_table_hierarchy: function(tablesmap, tree) {\r\n\t\tvar me = this,\r\n\t\t\ti, pmap = {};\r\n\t\t\r\n\t\ttree.tables.sort(function(a, b) {\r\n\t\t\tvar n1 = a.jointable.length,\r\n\t\t\t\tn2 = b.jointable.length;\r\n\t\t\t\r\n\t\t\treturn n2 - n1;\r\n\t\t});\r\n\t\t\r\n\t\ttree.fact_table = tree.tables[0];\r\n\t\tpmap[tree.fact_table._mc.uid] = 1;\r\n\t\tme.update_linklist(tablesmap, tree.fact_table, pmap);\r\n\t},\r\n\t\r\n\tupdate_linklist: function(tablesmap, tb, pmap) {\r\n\t\tvar me = this,\r\n\t\t\ti, jtable;\r\n\t\t\r\n\t\tfor (i=0; i < tb.jointable.length; i++)\r\n\t\t{\r\n\t\t\tjtable = tb.jointable[i];\r\n\t\t\t\r\n\t\t\tif (!pmap[jtable._mc.uid])\r\n\t\t\t{\r\n\t\t\t\tpmap[jtable._mc.uid] = 1;\r\n\t\t\t\t\r\n\t\t\t\ttb.childnodes.push(jtable);\r\n\t\t\t\ttb.jointable[i].parent = tb;\r\n\t\t\t\t\r\n\t\t\t\tme.update_linklist(tablesmap, jtable, pmap);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tupdate_position: function(x, y, gap, pnode) {\r\n\t\tvar me = this,\r\n\t\t\tmx = x,\r\n\t\t\tmy = y,\r\n\t\t\tmax_h = 0,\r\n\t\t\th = 0,\r\n\t\t\ti,\r\n\t\t\tinnergrid;\r\n\t\t\r\n\t\tinnergrid = pnode.box.innerGrid;\r\n\t\tinnergrid.setPosition(x, y);\r\n\t\t\r\n\t\tmy += pnode._mc.height;\r\n\t\t\r\n\t\tif (pnode.childnodes && pnode.childnodes.length)\r\n\t\t{\r\n\t\t\tmy += gap;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < pnode.childnodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\tme.update_position(mx, my, gap, pnode.childnodes[i]);\r\n\t\t\t\tmx += pnode._mc.width + gap;\r\n\t\t\t\tmax_h = Math.max(max_h, pnode._mc.height);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmy += max_h;\r\n\t\t}\r\n\t\t\r\n\t\treturn {x: mx, y: my};\r\n\t},\r\n\t\r\n\tgather_join_tables: function(tables, relations, tablesmap, relation, treeitem, tb){\r\n\t\tvar me = this,\r\n\t\t\ti, j,\r\n\t\t\tmtable,\r\n\t\t\tsrelation,\r\n\t\t\tstable;\r\n\t\t\r\n\t\tif (relation.source.tableuid == tb._mc.uid)\r\n\t\t{\r\n\t\t\tmtable = relation.target;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tmtable = relation.source;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tif (tables[i]._mc.uid == mtable.tableuid)\r\n\t\t\t{\r\n\t\t\t\tstable = tables[i];\r\n\t\t\t\ttreeitem.tables.push(stable);\r\n\t\t\t\ttables.splice(i, 1);\r\n\t\t\t\ttb.jointable.push(stable);\r\n\t\t\t\tstable.jointable.push(tb);\r\n\t\t\t\t\r\n\t\t\t\tsrelation = relations[stable._mc.uid]; \r\n\t\t\t\t\r\n\t\t\t\tif (srelation)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (j=0; j < srelation.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.gather_join_tables(tables, relations, tablesmap, srelation[j], treeitem, stable);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tloadDatabaseTable: function(node, option, keyword, params) {\r\n\t\tvar me = this,\r\n\t\t\tnodepath = node.get(\"nodepath\"),\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\topt = {address: nodepath, option: option, search: keyword, uid: node.get(\"uid\")},\r\n\t\t\tk;\r\n\t\t\r\n\t\tif (params)\r\n\t\t{\r\n\t\t\tfor (k in params)\r\n\t\t\t{\r\n\t\t\t\topt[k] = params[k];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (!opt.uid && !opt.address)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\topt.subfolder = \"T\";\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: opt,\r\n\t\t\t\tmbody: opt\r\n\t\t\t}, me, me.rs_loadDatabaseTable, false, [node, option]);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadDatabaseTable: function(jdoc, param) {\r\n\t\tvar me = this,\r\n\t\t\tnode = param[0],\r\n\t\t\toption = param[1],\r\n\t\t\tsnodes = jdoc.children || [], \r\n\t\t\ti, tb, tables = [],\r\n\t\t\tb_content = option ? true : false,\r\n\t\t\tgrid = me.down(\"[name=grid_st]\"),\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\tltype,\r\n\t\t\ttbnames = {};\r\n\t\t\t\t\r\n\t\tif (snodes)\r\n\t\t{\r\n\t\t\tcubemodel.tables = cubemodel.tables || []; \r\n\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttbnames[cubemodel.tables[i]._mc.uid] = 1;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < snodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\ttb = b_content ? snodes[i].content : snodes[i];\r\n\t\t\t\tltype = tb.type.toLowerCase();\r\n\t\t\t\ttb.uid = tb.uid || (\"\" + i);\r\n\t\t\t\t\r\n\t\t\t\tif (tb.uid == me.uid)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tif (tbnames[tb.uid])\r\n\t\t\t\t{\r\n\t\t\t\t\ttb.used = \"*\";\r\n\t\t\t\t}\r\n\t\t\t\tif (ltype != \"cubemodel\")\r\n\t\t\t\t{\r\n\t\t\t\t\ttb.physical_name = tb.attributes.attrb3;\r\n\t\t\t\t}\r\n\t\t\t\ttb.iconcls = IG$.get_metatype_icon(ltype);\r\n\t\t\t\ttables.push(tb);\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.store.loadData(tables);\r\n\t},\r\n\t\r\n\tsaveAsContent: function(afterclose) {\r\n\t\tvar me = this,\r\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\tmode: \"newitem\",\r\n\t\t\t\ttree_options: {\r\n\t\t\t\t\trootuid: me.obj_uid\r\n\t\t\t\t},\r\n\t\t\t\tcallback: new IG$.callBackObj(me, me.saveNewContent, afterclose)\r\n\t\t\t});\r\n\t\tIG$.checkLogin(me, dlgitemsel);\r\n\t},\r\n\t\r\n\tsaveNewContent: function(item, afterclose) {\r\n\t\tvar me = this;\r\n\t\tme.cubemodel.item = {\r\n\t\t\tname: item.name,\r\n\t\t\taddress: item.nodepath + \"/\" + item.name,\r\n\t\t\tpid: item.uid\r\n\t\t};\r\n\t\t// me.uid = item.uid;\r\n\t\tme.saveContent(true);\r\n\t},\r\n\t\r\n\t_r_join: function(l) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tcmodel = me.cubemodel,\r\n\t\t\tm = me.m,\r\n\t\t\trels = cmodel.relations,\r\n\t\t\tbfound;\r\n\t\tfor (i=0; i < rels.length; i++)\r\n\t\t{\r\n\t\t\tif (rels[i] == l)\r\n\t\t\t{\r\n\t\t\t\trels.splice(i, 1);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < m.links.length; i++)\r\n\t\t{\r\n\t\t\tbfound = false;\r\n\t\t\tfor (j=0; j < m.links[i].links.length; j++)\r\n\t\t\t{\r\n\t\t\t\tif (m.links[i].links[j] == l)\r\n\t\t\t\t{\r\n\t\t\t\t\tm.links[i].links.splice(j, 1);\r\n\t\t\t\t\tbfound = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (bfound == true)\r\n\t\t\t{\r\n\t\t\t\tif (m.links[i].length == 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tm.links.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.updateJoinFields();\r\n\t\tme.validateLinks();\r\n\t\tm.validateLinks.call(m);\r\n\t},\r\n\t\r\n\tsearchRelationship: function() {\r\n\t\tvar me = this,\r\n\t\t\ttxt_rel = me.down(\"[name=txt_rel]\").getValue(),\r\n\t\t\tmRel = me.down(\"[name=mRel]\"),\r\n\t\t\tstore = mRel.store;\r\n\t\t\t\r\n\t\tstore.clearFilter();\r\n\t\t\r\n\t\tif (txt_rel)\r\n\t\t{\r\n\t\t\ttxt_rel = txt_rel.toLowerCase();\r\n\t\t\tstore.filterBy(function(val) {\r\n\t\t\t\tvar dt = [val.get(\"s0\"), val.get(\"s2\"), val.get(\"t0\"), val.get(\"t2\")],\r\n\t\t\t\t\tb = false, i;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < dt.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (dt[i] && dt[i].toLowerCase().indexOf(txt_rel) > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tb = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\treturn b;\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\t\r\n\trs_custom_click_func: function(node, isexpand, isclick) {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme._s1 = node;\r\n\t\tme.toolbarHandler(\"cmd_refresh_table\");\r\n\t},\r\n\t\r\n\tinitComponent: function(){\r\n\t\tvar me = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: \"border\",\r\n\t\t\t\t\tsplit: true,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tregion: \"west\",\r\n\t\t\t\t\t\t\twidth: 250,\r\n\t\t\t\t\t\t\thideHeaders: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_TABLE_LIST\"), // \"Table Lists\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tnew IG$.n$navTreeCom({\r\n\t\t\t\t\t\t\t\t\tname: \"mtree\",\r\n\t\t\t\t\t\t\t\t\trootuid: this.obj_uid,\r\n\t\t\t\t\t\t\t\t\tvisibleItems: \"folder;dataset;\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tshowCustomMenu: function(rec) {\r\n\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\tmenu = me.customMenu,\r\n\t\t\t\t\t\t\t\t\t\t\ttypename = rec.get(\"type\").toLowerCase(),\r\n\t\t\t\t\t\t\t\t\t\t\titemname = rec.get(\"name\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemaddr = rec.get(\"nodepath\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemuid = rec.get(\"uid\"),\r\n\t\t\t\t\t\t\t\t\t\t\titemtype = rec.get(\"type\"),\r\n\t\t\t\t\t\t\t\t\t\t\twritable = (rec.get(\"writable\") == true || rec.get(\"manage\") == true) ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\tmanageable = (rec.get(\"manage\") == true) ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\tr = false;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tmenu.removeAll();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tif (writable || manageable)\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tr = true;\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (typename == \"folder\")\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FOLDER\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_f_f\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis._createMetaObject.call(this, \"Folder\", itemuid, itemaddr, rec);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_RENAME_ITEM\", IG$._gitemname(itemname)),\r\n\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_ren\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis._renameMetaObject.call(this, itemname, itemuid, itemaddr, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tmenu.add({\r\n\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DELETE_ITEM\", IG$._gitemname(itemname)),\r\n\t\t\t\t\t\t\t\t\t\t\t\thidden: ig$.features[\"ig_n_del\"] !== false,\r\n\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.deleteMetaObject.call(this, itemuid, record);\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\treturn r;\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcustom_expand_func: new IG$.callBackObj(me, function(node) {\r\n\t\t\t\t\t\t\t\t\t\tthis.rs_custom_click_func(node, 1, 0);\r\n\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\tcustom_click_func: new IG$.callBackObj(me, function(node, data) {\r\n\t\t\t\t\t\t\t\t\t\tthis.rs_custom_click_func(node, 0, 1);\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grid_st\",\r\n\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_REGISTERED_TABLE\"), // \"Registered Table\",\r\n\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_S_S2\"),\r\n\t\t\t\t\t\t\t\t\tplain: true,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tshowcheckselect: true,\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"type\", \"uid\", \"nodepath\", \"dispname\", \"checked\", \"allow_insert\", \"allow_insert_desc\", \"iconcls\", \"physical_name\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tenableDragDrop: true,\r\n\t\t\t\t\t\t\t\t\tenableDD: true,\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: \"\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 20,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"used\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tsortable: false,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\ttdCls: \"igc-td-link\",\r\n\t\t\t\t\t\t\t\t\t\t\ttpl: \"<div class='ig-navi-itemicon-p'><div class='ig-navi-itemicon {iconcls}'></div></div><span class='ig-navi-text' title='{name} ({type})'>{name} </span>\",\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tdockedItems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\tdock: \"top\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: 'icon-refresh',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.toolbarHandler(\"cmd_refresh_table\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_filter\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(tobj, e, eopts) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\te.keyCode == 13 && IG$._dofilter(this, \"grid_st\", [\"name\", \"alias\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tIG$._dofilter(this, \"grid_st\", [\"name\", \"alias\"]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tcellclick: function(grid, node, cellIndex, record, rowIndex, e) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\trec = grid.store.getAt(rowIndex),\r\n\t\t\t\t\t\t\t\t\t\t\t\tcubemodel = me.cubemodel,\r\n\t\t\t\t\t\t\t\t\t\t\t\ti, tb;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tif (rec.get(\"used\") == \"*\")\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < cubemodel.tables.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (cubemodel.tables[i]._mc.uid == rec.get(\"uid\"))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttb = cubemodel.tables[i];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\ttb && me.m.focusTable(tb);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ttype: \"panel\",\r\n\t\t\t\t\t\t\thtml: \"\",\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\toverflowX: \"hidden\",\r\n\t\t\t\t\t\t\toverflowY: \"hidden\",\r\n\t\t\t\t\t\t\tname: \"mcontainer\",\r\n\t\t\t\t\t\t\tregion: \"center\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tsplit: true,\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_RELATIONS\"), // \"Relations\",\r\n\t\t\t\t\t\t\tregion: \"east\",\r\n\t\t\t\t\t\t\tname: \"p_joins\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\ttools: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttype: \"collapse\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\twidth: 320,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"txt_rel\",\r\n\t\t\t\t\t\t\t\t\t\t\tlabelWidth: 40,\r\n\t\t\t\t\t\t\t\t\t\t\tlabelAlign: \"right\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"L_SEARCH_KWD\"),\r\n\t\t\t\t\t\t\t\t\t\t\tenableKeyEvents: !0,\r\n\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tkeyup: function(obj, e, eopt) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode == 13)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.searchRelationship();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tme.searchRelationship();\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"mRel\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"s0\", \"s1\", \"s2\", \"t0\", \"t1\", \"t2\", \"r0\", \"sdesc\", \"tdesc\", \"l\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_I_FROM\"), // \"From\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"sdesc\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_I_TO\"), // \"To\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"tdesc\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 45,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Config item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function(grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trel = rec.get(\"l\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (rel && rel.bl)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink = rel.bl;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlink.showLinkEditor.call(link, [link.links[0]], link.links);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._r_join(rec.get(\"l\"));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-save\",\r\n\t\t\t\t\tname: \"t_save\",\r\n\t\t\t\t\ttext: IRm$.r1(\"B_SAVE\"), // \"Save\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_SAVE_REPORT\"),\r\n\t\t\t\t\thandler: function() {this.toolbarHandler(\"cmd_save\"); },\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-simple-view\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_SIMPLE_REL_VIEW\"), // \"Simple Relation View\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_simple_view\"); \r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-table-order\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_TABLE_ORDER\"), // \"Table order\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_table_order\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-fixkey\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_FIX_KEY\"), // \"Fix key\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"L_FIX_KEY\"), // \"Fix Key columns\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_fix_key\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-autojoin\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_AUTO_JOIN\"),\r\n\t\t\t\t\ttooltip: \"Auto Join\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_autojoin\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-tablesort\",\r\n\t\t\t\t\ttext: IRm$.r1(\"L_JOIN_BEUTIFY\"),\r\n\t\t\t\t\ttooltip: \"sort\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_beutify\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-refresh\",\r\n\t\t\t\t\ttooltip: IRm$.r1(\"B_REFRESH\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_load_fields\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-toolbar-export\",\r\n\t\t\t\t\ttooltip: \"Print\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.toolbarHandler(\"cmd_print\");\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"-\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttooltip: \"Zoom In\",\r\n\t\t\t\t\ticonCls: \"icon-toolbar-zoomin\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\t\tm.zoom(0.1);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttooltip: \"Zoom Out\",\r\n\t\t\t\t\ticonCls: \"icon-toolbar-zoomout\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\t\tm.zoom(-0.1);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: \"icon-joins\",\r\n\t\t\t\t\ttooltip: \"Joins\",\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar p_joins = this.down(\"[name=p_joins]\");\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (p_joins.isVisible())\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tp_joins.hide();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tp_joins.show();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t},\r\n\t\t\t\tresize: function(ui) {\r\n\t\t\t\t\tvar m = this.m;\r\n\t\t\t\t\tm.validateSize();\r\n\t\t\t\t},\r\n\t\t\t\t\r\n\t\t\t\tbeforeclose: function(panel, opt) {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tr = true;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.writable && me.uid)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tvar lreq = new IG$._rpc$();\r\n\t\t\t\t\t\tlreq.init(me, \r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tack: \"helpcontent\",\r\n\t\t\t\t\t\t\t\tpayload: {uid: me.uid},\r\n\t\t\t\t\t\t\t\tmbody: {option: \"lock\", detail: \"close\"}\r\n\t\t\t\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}, false);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tlreq.send();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\treturn r;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tIG$.CubeModel.superclass.initComponent.call(this);\r\n\t}\r\n});\r\n\r\n\r\nIG$.dlgTableOrder = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 500,\r\n\theight: 610,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttables,\r\n\t\t\ti, data = [],\r\n\t\t\tgrd_tables = me.down(\"[name=grd_tables]\"),\r\n\t\t\tp;\r\n\t\t\r\n\t\tcubemodel.tables = cubemodel.tables || [];\r\n\t\ttables = cubemodel.tables;\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tp = {\r\n\t\t\t\tuid: tables[i]._mc.uid,\r\n\t\t\t\tname: tables[i]._mc.name,\r\n\t\t\t\tseq: tables[i]._mc.seq\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tp.disp = (p.seq) ? p.name + \"(\" + p.seq + \")\" : p.name;\r\n\t\t\tdata.push(p);\r\n\t\t}\r\n\t\t\r\n\t\tgrd_tables.store.loadData(data);\r\n\t},\r\n\t\r\n\tconfirmChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\tcubemodel = me.cubemodel,\r\n\t\t\ttables = cubemodel.tables,\r\n\t\t\tseq = {},\r\n\t\t\ti,\r\n\t\t\tgrd_tables = me.down(\"[name=grd_tables]\"),\r\n\t\t\trec, k;\r\n\t\t\t\r\n\t\tfor (i=0; i < grd_tables.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = grd_tables.store.data.items[i];\r\n\t\t\tseq[rec.get(\"uid\") + \"_\" + rec.get(\"seq\")] = i;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < tables.length; i++)\r\n\t\t{\r\n\t\t\tk = tables[i]._mc.uid + \"_\" + tables[i]._mc.seq;\r\n\t\t\ttables[i].sortindex = seq[k];\r\n\t\t}\r\n\t\t\r\n\t\ttables.sort(function(a, b) {\r\n\t\t\treturn a.sortindex - b.sortindex;\r\n\t\t});\r\n\t\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tchangeOrder: function(direction) {\r\n\t\tvar me = this,\r\n\t\t\tmgrid = me.down(\"[name=grd_tables]\"),\r\n\t\t\tsm = mgrid.getSelectionModel(),\r\n\t\t\tsel = sm.selected,\r\n\t\t\tri, rec;\r\n\t\t\t\r\n\t\tif (sel && sel.length == 1)\r\n\t\t{\r\n\t\t\trec = sel.items[0];\r\n\t\t\tri = mgrid.store.indexOf(rec);\r\n\t\t\t\r\n\t\t\tif (direction == -1)\r\n\t\t\t{\r\n\t\t\t\tif (ri > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tmgrid.store.remove(rec);\r\n\t\t\t\t\trec = mgrid.store.insert(ri-1, rec);\r\n\t\t\t\t\tsm.select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse \r\n\t\t\t{\r\n\t\t\t\tif (ri+1 < mgrid.store.data.items.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tmgrid.store.remove(rec);\r\n\t\t\t\t\trec = mgrid.store.insert(ri+1, rec);\r\n\t\t\t\t\tsm.select(rec, true);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_TBL_ORD\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults: {padding: 10},\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tname: \"grd_tables\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"uid\", \"seq\", \"disp\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\tpadding: \"0 0 0 5\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\tpack: \"center\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"ig-btn-up\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.changeOrder(-1);\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\theight: 10\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\ticonCls: \"ig-btn-down\",\r\n\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\tthis.changeOrder(1);   \r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.confirmChanges();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlgTableOrder.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\tlisteners: {\r\n\t\tafterrender: function(tobj) {\r\n\t\t\ttobj._init.call(tobj);\r\n\t\t}\r\n\t}\r\n});\r\n\r\nIG$.dlgLoadPreview = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 950,\r\n\tautoHeight: true,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.table)\r\n\t\t{\r\n\t\t\tme.load_content();\r\n\t\t}\r\n\t\telse if (me.dataset)\r\n\t\t{\r\n\t\t\tme.rs_load_content(me.dataset);\r\n\t\t}\r\n\t},\r\n\t\r\n\tload_content: function(passwd) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\ttb_mc = me.table._mc;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {uid: tb_mc.uid, type: tb_mc.type, passwd: passwd, option: \"preview\"},\r\n\t\t\t\tmbody: {option: \"preview\"}\r\n\t\t\t}, me, me.rs_load_content, me.err_load_content);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_load_content: function(jdoc) {\r\n\t\tvar me = this,\r\n\t\t\thnode = jdoc.headers,\r\n\t\t\tdnode = jdoc.inline_data,\r\n\t\t\ti, j, darray, hnodes, row, data = [], cols = [], delimiter, cname, dkey, c,\r\n\t\t\tfields=[], store,\r\n\t\t\tdataview = me.down(\"[name=dataview]\"),\r\n\t\t\ttable = me.table ? me.table._mc : null,\r\n\t\t\tdval,\r\n\t\t\tumap = {};\r\n\t\t\r\n\t\tif (hnode && dnode)\r\n\t\t{\r\n\t\t\tif (table && table.columns)\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < table.columns.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tumap[table.columns[i].name] = table.columns[i].alias;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdelimiter = jdoc.delimiter;\r\n\r\n\t\t\tfor (i=0; i < hnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcname = hnode[i].name;\r\n\t\t\t\tif (umap[cname] && umap[cname] != cname)\r\n\t\t\t\t{\r\n\t\t\t\t\tcname = umap[cname] + \" - \" + cname;\r\n\t\t\t\t}\r\n\t\t\t\tdkey = \"col_\" + i;\r\n\t\t\t\tcols.push({\r\n\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\twidth: 150,\r\n\t\t\t\t\ttext: cname,\r\n\t\t\t\t\tdataIndex: dkey\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\tfields.push({name: dkey, mapping: dkey});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tc = cols.length;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < dnode.length; i++)\r\n\t\t\t{\r\n\t\t\t\trow = {};\r\n\t\t\t\tdval = dnode[i];\r\n\t\t\t\t\r\n\t\t\t\tfor (j=0; j < dval.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\tdkey = \"col_\" + j;\r\n\t\t\t\t\trow[dkey] = dval[j];\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tdata.push(row);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tstore = {\r\n\t\t\tstore: \"array\",\r\n\t\t\tfields: fields,\r\n\t\t\tdata: data\r\n\t\t};\r\n\t\t\r\n\t\tdataview.reconfigure(store, cols);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"L_PRV_DATA\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults: {padding: 10},\r\n\t\t\t\r\n\t\t\tlayout: \"fit\",\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \"Table data preview\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"dataview\",\r\n\t\t\t\t\t\t\theight: 400,\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.dlgLoadPreview.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\n\r\nIG$.JoinRec = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: true,\r\n\tresizable: true,\r\n\t\r\n\twidth: 600,\r\n\tautoHeight: true,\r\n\t\r\n\tpadding: 5,\r\n\t\r\n\t_init: function() {\r\n\t\tvar me = this,\r\n\t\t\tgmain = me.down(\"[name=gmain]\"),\r\n\t\t\tjoins = me.joins,\r\n\t\t\ti, dp = [], d, j,\r\n\t\t\tjsrc, jtgt;\r\n\t\t\r\n\t\tfor (i=0; i < joins.length; i++)\r\n\t\t{\r\n\t\t\tj = joins[i];\r\n\t\t\tjsrc = j.source;\r\n\t\t\tjtgt = j.target;\r\n\t\t\td = {\r\n\t\t\t\tstableuid: jsrc.tableuid,\r\n\t\t\t\tstable : jsrc.tablename,\r\n\t\t\t\tsfield: jsrc.fieldname,\r\n\t\t\t\tttableuid: jtgt.tableuid,\r\n\t\t\t\tttable: jtgt.tablename,\r\n\t\t\t\ttfield: jtgt.fieldname,\r\n\t\t\t\tjoin: j.join\r\n\t\t\t};\r\n\t\t\tdp.push(d);\r\n\t\t}\r\n\t\t\r\n\t\tgmain.store.loadData(dp);\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tgmain = me.down(\"[name=gmain]\"),\r\n\t\t\trec, joins = me.joins, njoins = [], i,\r\n\t\t\tsel = {}, key, j;\r\n\t\t\r\n\t\tfor (i=0; i < gmain.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = gmain.store.data.items[i];\r\n\t\t\t\r\n\t\t\tkey = rec.get(\"stableuid\") + \"_\" + rec.get(\"sfield\") + \":\" + rec.get(\"ttableuid\") + \"_\" + rec.get(\"tfield\");\r\n\t\t\t\r\n\t\t\tsel[key] = 1;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < joins.length; i++)\r\n\t\t{\r\n\t\t\tj = joins[i];\r\n\t\t\tkey = j.source.tableuid + \"_\" + j.source.fieldname + \":\" + j.target.tableuid + \"_\" + j.target.fieldname;\r\n\t\t\t\r\n\t\t\tif (sel[key])\r\n\t\t\t{\r\n\t\t\t\tnjoins.push(j);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tme.callback && me.callback.execute(njoins);\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\r\n\tinitComponent : function() {\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\ttitle: IRm$.r1(\"L_JOIN_RECOMMENDATIONS\"), // \"Join Recommendations\",\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tminHeight: 400,\r\n\t\t\t\t\tpadding: 10,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"gmain\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SRC_TBL\"), // \"Source Table\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"stable\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_SRC_FIELD\"), // \"Source Field\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"sfield\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_TGT_TABLE\"), // \"Target Table\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"ttable\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_TGT_FIELD\"), // \"Target Field\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"tfield\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_OP\"), // \"Operator\",\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"join\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\twidth: 45,\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\t\t\ttooltip: \"Delete item\",\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar rec = grid.store.getAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.removeAt(rowIndex);\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: [\"stable\", \"sfield\", \"ttable\", \"tfield\", \"join\", \"stableuid\", \"ttableuid\"]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\r\n\t\tIG$.JoinRec.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.mgrUserDuty = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 500,\r\n\tautoHeight: true,\r\n\tbodyPadding: 10,\r\n\tbodyStyle: {\r\n\t\tbackground: \"#ffffff\"\r\n\t},\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.callback)\r\n\t\t{\r\n\t\t\tvar gridduty_sel = me.down(\"[name=gridduty_sel]\"),\r\n\t\t\t\ti,\r\n\t\t\t\tsel = []; // gridduty.getSelectionModel().getSelection();\r\n\t\t\t\t\r\n\t\t\tfor (i=0; i < gridduty_sel.store.data.length; i++)\r\n\t\t\t{\r\n\t\t\t\tsel.push(gridduty_sel.store.data.items[i]);\r\n\t\t\t}\r\n\t\t\tme.callback.execute(sel);\r\n\t\t}\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tloadDutyList: function() {\r\n\t\tvar panel = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\treq.init(panel, \r\n\t\t\t{\r\n\t\t\t\tack: \"usercontent\",\r\n\t\t\t\tpayload: {address: \"/Auth\"},\r\n\t\t\t\tmbody: {option: 'select'}\r\n\t\t\t}, panel, panel.rs_loadDutyList, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadDutyList: function(jdoc) {\r\n\t\tvar i,\r\n\t\t\tcnodes,\r\n\t\t\tduties = [], \r\n\t\t\tduties_sel = [],\r\n\t\t\trec,\r\n\t\t\tduty,\r\n\t\t\tgridduty = this.down(\"[name=gridduty]\"),\r\n\t\t\tgridduty_sel = this.down(\"[name=gridduty_sel]\"),\r\n\t\t\tsel = {};\r\n\t\t\t// smodel = gridduty.getSelectionModel();\r\n\t\t\r\n\t\tif (this.sel)\r\n\t\t{\r\n\t\t\tfor (i=0; i < this.sel.length; i++)\r\n\t\t\t{\r\n\t\t\t\tsel[this.sel[i].sid] = this.sel[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif (jdoc)\r\n\t\t{\r\n\t\t\tfor (i=0; i < jdoc.length; i++)\r\n\t\t\t{\r\n\t\t\t\tduty = jdoc[i];\r\n\t\t\t\tif (sel[duty.sid])\r\n\t\t\t\t{\r\n\t\t\t\t\tduties_sel.push(duty);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tduties.push(duty);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tgridduty.store.loadData(duties);\r\n\t\tgridduty_sel.store.loadData(duties_sel);\r\n//\t\t\r\n//\t\tfor (i=0; i < gridduty.store.data.items.length; i++)\r\n//\t\t{\r\n//\t\t\trec = gridduty.store.data.items[i];\r\n//\t\t\t\r\n//\t\t\tif (sel[rec.get(\"sid\")])\r\n//\t\t\t{\r\n//\t\t\t\tsmodel.select(rec, true, true);\r\n//\t\t\t}\r\n//\t\t}\r\n\t},\r\n\t\r\n//\tcreateDuty: function() {\r\n//\t\tvar panel = this,\r\n//\t\t\tdlg = new IG$.makeItem({\r\n//\t\t\titemtype: \"Auth\",\r\n//\t\t\tcallback: new IG$.callBackObj(panel, panel.rs_createDuty)\r\n//\t\t});\r\n//\t\t\r\n//\t\tdlg.show(panel);\r\n//\t},\r\n//\t\r\n//\trs_createDuty: function(xdoc) {\r\n//\t\tthis.loadDutyList();\r\n//\t},\r\n\r\n\r\n\tmoveDuty: function(select) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\tgrd_source = me.down(\"[name=gridduty\" + (select == false ? \"_sel\" : \"\") + \"]\"),\r\n\t\t\tgrd_target = me.down(\"[name=gridduty\" + (select == true ? \"_sel\" : \"\") + \"]\"),\r\n\t\t\tsel = grd_source.getSelectionModel().getSelection();\r\n\t\t\t\r\n\t\tif (sel.length > 0)\r\n\t\t{\r\n\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t{\r\n\t\t\t\tgrd_source.store.remove(sel[i]);\r\n\t\t\t\tgrd_target.store.add(sel[i]);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"L_MGR_UD\");\r\n\t\t\r\n\t\tvar items = [\r\n\t\t\t{\r\n\t\t\t\txtype: \"form\",\r\n\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\tdefaults: {\r\n\t\t\t\t\tanchor: \"100%\"\r\n\t\t\t\t},\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tbodyPadding: 5,\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\tvalue: IRm$.r1(\"L_UD_DESC\")\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\tname: \"gridduty\",\r\n\t\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\"name\", \"dutytype\", \"sid\", \"status\", \"type\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\tbodyPadding: \"0 4 0 4\",\r\n\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \">>\",\r\n\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.moveDuty(true);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\ttext: \"<<\",\r\n\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\tthis.moveDuty(false);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\tname: \"gridduty_sel\",\r\n\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\tborder: 1,\r\n\t\t\t\t\t\t\t\theight: 300,\r\n\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tmultiSelect: true,\r\n\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\"name\", \"dutytype\", \"sid\", \"status\", \"type\"\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\theader: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\tdataIndex: \"type\",\r\n\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\tsortable: true,\r\n\t\t\t\t\t\t\t\t\t\thideable: false\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t   ]\r\n\t\t\t\t\t   }\r\n\t\t\t\t]\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\tvar buttons = [\r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\thandler: function() {\r\n\t\t\t\t\tthis._confirm();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}, \r\n\t\t\t{\r\n\t\t\t\ttext: IRm$.r1('B_CANCEL'),\r\n\t\t\t\thandler:function() {\r\n\t\t\t\t\tthis.close();\r\n\t\t\t\t},\r\n\t\t\t\tscope: this\r\n\t\t\t}\r\n\t\t];\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: items,\r\n\t\t\tbuttons: buttons\r\n\t\t});\r\n\t\t\r\n\t\tIG$.mgrUserDuty.superclass.initComponent.apply(this, arguments);\r\n\t},\r\n\t\r\n\tlisteners: {\r\n\t\tafterrender: function(ui) {\r\n\t\t\tthis.loadDutyList();\r\n\t\t}\r\n\t}\r\n});\r\n","/* file: codemapping.js */\r\n\r\nIG$.codemapping = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\twidth: 540,\r\n\theight: 480,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this,\r\n\t\t\tgrd_data = me.down(\"[name=grd_data]\"),\r\n\t\t\ti_cset_g = me.down(\"[name=i_cset_g]\"),\r\n\t\t\tdisplabel_c = me.down(\"[name=displabel_c]\"),\r\n\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\ti,\r\n\t\t\trec,\r\n\t\t\treq,\r\n\t\t\tp_1 = me.down(\"[name=p_1]\"),\r\n\t\t\tpitem = me.pitem;\r\n\t\t\r\n\t\tif (!IG$.checkFields(me, [\"p_1\"]))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (pitem)\r\n\t\t{\r\n\t\t\tp_1.clearInvalid();\r\n\t\t\tpitem.name = p_1.getValue();\r\n\t\t\tpitem.description = me.down(\"[name=p_2]\").getValue();\r\n\t\t\tpitem.dtype = me.down(\"[name=p_3]\").getValue();\r\n\t\t\tpitem.sql_data = me.down(\"[name=p_4]\").getValue();\r\n\t\t\tpitem.static_data = [];\r\n\t\t\tpitem.datasource = me.down(\"[name=cbdatasource]\").getValue();\r\n\t\t\t\r\n\t\t\tif (!pitem.name)\r\n\t\t\t{\r\n\t\t\t\tp_1.markInvalid();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpitem.i_cdata = [];\r\n\t\t\t\r\n\t\t\tif (pitem.dtype == \"static\")\r\n\t\t\t{\r\n\t\t\t\tpitem.i_cset = me.down(\"[name=i_cset_s]\").getValue();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tpitem.i_cset = me.down(\"[name=i_cset]\").checkboxCmp.getValue();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < grd_data.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = grd_data.store.data.items[i];\r\n\t\t\t\t\r\n\t\t\t\tif (rec.get(\"code\"))\r\n\t\t\t\t{\r\n\t\t\t\t\tpitem.static_data.push({\r\n\t\t\t\t\t\tcode: rec.get(\"code\"),\r\n\t\t\t\t\t\tvalue: rec.get(\"value\")\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (pitem.dtype == \"static\" && rec.get(\"color\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpitem.i_cdata.push({code: rec.get(\"code\"), color: rec.get(\"color\")});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (pitem.dtype != \"static\")\r\n\t\t\t{\r\n\t\t\t\tfor (i=0; i < i_cset_g.store.data.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\trec = i_cset_g.store.data.items[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (rec.get(\"color\"))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tpitem.i_cdata.push({code: rec.get(\"value\"), color: rec.get(\"color\")});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tp_1a._confirm.call(p_1a);\r\n\t\t\t\r\n\t\t\tif (pitem.dtype == \"static\" || pitem.dtype == \"sql\")\r\n\t\t\t{\r\n\t\t\t\tpitem.displabel = displabel_c.getValue();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\treq.init(me, \r\n\t\t\t\t{\r\n\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\tpayload: {uid: me.pitem.uid, name: me.pitem.name, description: me.pitem.description},\r\n\t\t\t\t\tmbody: me.pitem,\r\n\t\t\t\t\tmeta_type: \"code_mapping\"\r\n\t\t\t\t}, me, function(jdoc) {\r\n\t\t\t\t\tvar me = this;\r\n\t\t\t\t\tme.callback && me.callback.execute(me.item);\r\n\t\t\t\t\tme.close();\r\n\t\t\t\t}, null);\r\n\t\t\treq.send();\r\n\t\t}\r\n\t},\r\n\t\r\n\t_init: function() {\r\n\t\tthis._getDsource();\r\n\t},\r\n\t\r\n\t_getDsource: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {address: \"/\"},\r\n\t\t\t\tmbody: {option: \"standard\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\td,\r\n\t\t\t\t\tdp = [],\r\n\t\t\t\t\tisadmin = IG$.dlgLogin.jS2,\r\n\t\t\t\t\tcbdatasource = me.down(\"[name=cbdatasource]\"),\r\n\t\t\t\t\ti, tnodes, tnode;\r\n\t\t\t\t\r\n\t\t\t\tif (jdoc && jdoc.length)\r\n\t\t\t\t{\r\n\t\t\t\t\ttnodes = jdoc;\r\n\t\t\t\t\t\r\n\t\t\t\t\tdp.push({dispname:\"-- Select Pool --\", uid:\"\"}); \r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\td = tnodes[i];\r\n\t\t\t\t\t\td.dispname = d.name;\r\n\t\t\t\t\t\tdp.push(d);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcbdatasource.store.loadData(dp);\r\n\t\t\t\t\tcbdatasource.setValue(\"\");\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme._getMeta();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_getMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"content\",\r\n\t\t\t\tpayload: {uid: me.uid, revision: me.revision},\r\n\t\t\t\tmbody: {option: \"diagnostics\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this;\r\n\t\t\t\tme.pitem = jdoc.content;\r\n\t\t\t\tme.pitem.get = function(pname) {\r\n\t\t\t\t\treturn me.pitem[pname];\r\n\t\t\t\t};\r\n\t\t\t\tme.pitem.set = function(pname, value) {\r\n\t\t\t\t\tme.pitem[pname] = value;\r\n\t\t\t\t};\r\n\t\t\t\tme._applyMeta();\r\n\t\t\t}, false);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_applyMeta: function() {\r\n\t\tvar me = this,\r\n\t\t\tpitem = me.pitem,\r\n\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\tvalues;\r\n\t\t\t\r\n\t\tif (pitem)\r\n\t\t{\r\n\t\t\tvalues = [\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_1\",\r\n\t\t\t\t\tv: pitem.name\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_2\",\r\n\t\t\t\t\tv: pitem.description\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_3\",\r\n\t\t\t\t\tv: pitem.dtype || (ig$.$l_ > 5 ? \"static\" : \"\")\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"p_4\",\r\n\t\t\t\t\tv: pitem.sql_data\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"cbdatasource\",\r\n\t\t\t\t\tv: pitem.datasource\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tc: \"i_cset_s\",\r\n\t\t\t\t\tv: pitem.i_cset\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t\t\r\n\t\t\tme.down(\"[name=p_1a]\").rec = pitem;\r\n\t\t\tif (pitem.dtype == \"sqljoin\")\r\n\t\t\t{\r\n\t\t\t\tp_1a.datasource = pitem.datasource;\r\n\t\t\t\tp_1a.loadContent.call(p_1a);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme._applyVal(values);\r\n\t\t\tme.down(\"[name=grd_data]\").store.loadData(pitem.static_data);\r\n\t\t\tme.down(\"[name=i_cset_g]\").store.loadData(pitem.i_cdata);\r\n\t\t\tme.down(\"[name=displabel_c]\").setValue(pitem.displabel || \"\");\r\n\t\t\t\r\n\t\t\tif (pitem.i_cset)\r\n\t\t\t{\r\n\t\t\t\tme.down(\"[name=i_cset]\").expand();\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\t_applyVal: function(values) {\r\n\t\tvar me = this,\r\n\t\t\tc, i;\r\n\t\t\t\r\n\t\tfor (i=0; i < values.length; i++)\r\n\t\t{\r\n\t\t\tc = me.down(\"[name=\" + values[i].c + \"]\");\r\n\t\t\tc.setValue(values[i].v || \"\");\r\n\t\t}\r\n\t},\r\n\t\r\n\t_moveGrdSel: function(grid, direction) {\r\n\t\tvar records = grid.getSelectionModel().getSelection(),\r\n\t\t\trecord = records && records.length ? records[0] : null;\r\n\t\t\t\r\n\t\tif (!record) \r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tvar index = grid.getStore().indexOf(record);\r\n\t\t\r\n\t\tif (direction < 0) \r\n\t\t{\r\n\t\t\tindex--;\r\n\t\t\tif (index < 0) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t} \r\n\t\telse \r\n\t\t{\r\n\t\t\tindex++;\r\n\t\t\tif (index >= grid.getStore().getCount()) \r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\t\tgrid.getStore().remove(record);\r\n\t\trecord = grid.getStore().insert(index, record);\r\n\t\tgrid.getSelectionModel().select(record, true);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this,\r\n\t\t\tp_3_data = [\r\n\t\t\t\t{name: IRm$.r1(\"B_SELECT\"), value: \"\"},\r\n\t\t\t\t{name: \"Static Values\", value: \"static\"},\r\n\t\t\t\t{name: \"SQL Query\", value: \"sql\"}\r\n\t\t\t];\r\n\r\n\t\tig$.$l_ = ig$.$l_ || 0;\r\n\t\t\r\n\t\tif (ig$.$l_ < 5)\r\n\t\t{\r\n\t\t\tp_3_data.push({name: \"SQL Join\", value: \"sqljoin\"});\r\n\t\t}\r\n\t\t\t\r\n\t\tme.title = IRm$.r1(\"T_CODE_MAPPING\");\r\n\t\t\t\t\r\n\t\t$s.apply(me, {\r\n\t\t\t\r\n\t\t\tbodyStyle: \"padding:5px; background: #ffffff\",\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tpadding: \"5 5\",\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tautoScroll: true,\r\n\t\t\t\t\t\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\tname: \"p_1\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\r\n\t\t\t\t\t\t\tname: \"p_2\",\r\n\t\t\t\t\t\t\theight: 60\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MAPPING_TYPE\"),\r\n\t\t\t\t\t\t\thidden: ig$.$l_ > 5, \r\n\t\t\t\t\t\t\tname: \"p_3\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: p_3_data\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tchange: function(field, newvalue, oldvalue) {\r\n\t\t\t\t\t\t\t\t\tif (newvalue)\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=cbdatasource]\").setVisible(newvalue != \"static\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_0]\").setVisible(newvalue == \"static\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_1]\").setVisible(newvalue == \"sql\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=lt_2]\").setVisible(newvalue == \"sqljoin\");\r\n\t\t\t\t\t\t\t\t\t\tme.down(\"[name=i_cset]\").setVisible(newvalue != \"static\");\r\n\t\t\t\t\t\t\t\t\t\tig$.$l_ < 5 && me.down(\"[name=displabel_c]\").setVisible(newvalue != \"sqljoin\");\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_STATIC_DATA_VALUES\"), // \"Static Data Values\",\r\n\t\t\t\t\t\t\tname: \"lt_0\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\tname: \"i_cset_s\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_COLORSET\"),\r\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\"),\r\n\t\t\t\t\t\t\t\t\thidden: ig$.$l_ > 5,\r\n\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\tchange: function(tobj) {\r\n\t\t\t\t\t\t\t\t\t\t\tvar t = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\tgrd_data.columns[2].setVisible(t);\r\n\t\t\t\t\t\t\t\t\t\t\tgrd_data.columns[3].setVisible(t);\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"grd_data\",\r\n\t\t\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.mdlgmode ? true : false,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_ADD_ROW\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.add({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_DELETE_CHECKED\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar grd_data = this.down(\"[name=grd_data]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = grd_data.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i>=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data.store.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"-\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_UP\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, -1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_DOWN\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrd_data = me.down(\"[name=grd_data]\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme._moveGrdSel(grd_data, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"code\", \"value\", \"color\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CODE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: true\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEXT\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlack: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"templatecolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"color\",\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 60,\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\ttpl: \"<div style='width: 60px; height: 20px; background-color: {color}'></div>\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 20,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar m = new $s.menu({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"colorpicker\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselect: function(cp, color) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tgrid.store.data.items[rowIndex].set(\"color\", \"#\" + color);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcp.hide();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tm.show();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tname: \"cbdatasource\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATASOURCE\"),\r\n\t\t\t\t\t\t\tdisplayField: \"dispname\",\r\n\t\t\t\t\t\t\tvalueField: \"uid\",\r\n\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\tautoSelect: false,\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"dispname\", \"uid\", \"isuserdb\", \"savepwd\"\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tselect: function(tobj) {\r\n\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\tnvalue = tobj.getValue(),\r\n\t\t\t\t\t\t\t\t\t\tp_1a = me.down(\"[name=p_1a]\"),\r\n\t\t\t\t\t\t\t\t\t\tp_3 = me.down(\"[name=p_3]\");\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tif (p_3.getValue() == \"sqljoin\")\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\tp_1a.datasource = nvalue;\r\n\t\t\t\t\t\t\t\t\t\tp_1a.loadContent.call(p_1a);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SQL_DATA_VALUES\"), // \"SQL Data Values\",\r\n\t\t\t\t\t\t\tname: \"lt_1\",\r\n\t\t\t\t\t\t\tminHeight: 230,\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"p_4\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\tautowidth: false,\r\n\t\t\t\t\t\t\t\t\tvalue: \"CODE, VALUE, SORT and additional fields in SELECT\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_SQL_TABLE_JOIN\"), // \"SQL Table Join\",\r\n\t\t\t\t\t\t\tname: \"lt_2\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\tminHeight: 600,\r\n\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\tnew IG$.codeMappingPanel({\r\n\t\t\t\t\t\t\t\t\tname: \"p_1a\",\r\n\t\t\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\t\t\tanchor: \"100%\",\r\n\t\t\t\t\t\t\t\t\td_m: \"cmap\"\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_LABEL_VALUE\"),\r\n\t\t\t\t\t\t\tname: \"displabel_c\",\r\n\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\teditable: true,\r\n\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t{name: \"Mapped values\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"{CODE} {VALUE}\", value: \"{CODE} {VALUE}\"},\r\n\t\t\t\t\t\t\t\t\t{name: \"{CODE} {SORT} {VALUE}\", value: \"{CODE} {SORT} {VALUE}\"}\r\n\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldset\",\r\n\t\t\t\t\t\t\ttitle: ig$.$l_ < 5 ? IRm$.r1(\"L_COLORSET\") : null, // \"ColorSet\",\r\n\t\t\t\t\t\t\tname: \"i_cset\",\r\n\t\t\t\t\t\t\tcheckboxToggle: ig$.$l_ < 5 ? true : false,\r\n\t\t\t\t\t\t\tcollapsed: true,\r\n\t\t\t\t\t\t\theight: 200,\r\n\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"i_cset_g\",\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\",\r\n\t\t\t\t\t\t\t\t\t\tmode: \"MULTI\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\tfields: [\"code\", \"color\"]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_VALUE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"code\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COLOR\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"color\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}, \r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\r\n\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tthis._init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.codemapping.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.multiMeasure = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tpadding: 5,\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 550,\r\n\theight: 560,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_fdata: [\r\n\t\t{name: \"Distinct Count\", value: \"COUNT DISTINCT\", metric: 1},\r\n\t\t{name: \"Count\", value: \"COUNT\", metric: 1},\r\n\t\t{name: \"Sum\", value: \"SUM\", metric: 1},\r\n\t\t{name: \"Average\", value: \"AVG\", metric: 1},\r\n\t\t{name: \"Max\", value: \"MAX\", metric: 1},\r\n\t\t{name: \"Min\", value: \"MIN\", metric: 1},\r\n\t\t{name: \"Template\", value: \"TMPL\", metric: 0}\r\n\t],\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.callback)\r\n\t\t{\r\n\t\t\tvar r = [],\r\n\t\t\t\ti,\r\n\t\t\t\tmeasureview = this.down(\"[name=measureview]\"),\r\n\t\t\t\tclocation = this.down(\"[name=clocation]\"),\r\n\t\t\t\titem, cobj;\r\n\t\t\t\r\n\t\t\tfor (i=0; i < measureview.store.data.items.length; i++)\r\n\t\t\t{\r\n\t\t\t\titem = measureview.store.data.items[i];\r\n\t\t\t\t\r\n\t\t\t\tif (!item.data.selected)\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t\r\n\t\t\t\tcobj = {\r\n\t\t\t\t\tnodepath: item.get(\"nodepath\"),\r\n\t\t\t\t\tformula: item.get(\"formula\"),\r\n\t\t\t\t\ttype: item.get(\"type\"),\r\n\t\t\t\t\tname: item.get(\"name\"),\r\n\t\t\t\t\tuid: item.get(\"uid\"),\r\n\t\t\t\t\tdatatype: item.get(\"datatype\"),\r\n\t\t\t\t\tmeasurename: item.get(\"measurename\"),\r\n\t\t\t\t\tctype: item.get(\"ctype\"),\r\n\t\t\t\t\tclocation: item.get(\"clocation\")\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tr.push(cobj);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (r.length == 0)\r\n\t\t\t{\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tme.rs_reg_measures({\r\n\t\t\t\titems: r, \r\n\t\t\t\tclocation: clocation.getValue(), \r\n\t\t\t\tdialog: me, \r\n\t\t\t\tvmode: me.vmode,\r\n\t\t\t\ttmpl: me.tmpl\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\trs_reg_measures: function(opt) {\r\n\t\tvar i, j,\r\n\t\t\tme = this,\r\n\t\t\taddress = [],\r\n\t\t\tcontent = {items: []},\r\n\t\t\tm_f,\r\n\t\t\titem,\r\n\t\t\t_r, _c,\r\n\t\t\tvmode = opt.vmode,\r\n\t\t\titems = opt.items,\r\n\t\t\tclocation = opt.clocation,\r\n\t\t\tcloc,\r\n\t\t\tdlg = opt.dialog,\r\n\t\t\t_parentpath = me.nodepath, req,\r\n\t\t\ttmpl = opt.tmpl,\r\n\t\t\tn1, n2,\r\n\t\t\tmname, pp,\r\n\t\t\tcitems = content.items,\r\n\t\t\tritem;\r\n\t\t\r\n\t\tme.mfolder = clocation;\r\n\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\titem = items[i];\r\n\t\t\t\r\n\t\t\tif (opt.vmode)\r\n\t\t\t{\r\n\t\t\t\tcloc = item.clocation + \"/\";\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (clocation.substring(0, \"{parent}\".length) == \"{parent}\")\r\n\t\t\t\t{\r\n\t\t\t\t\tpp = item.nodepath.substring(0, item.nodepath.lastIndexOf(\"/\"));\r\n\t\t\t\t\tcloc = pp + clocation.substring(\"{parent}\".length) + \"/\";\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tcloc = _parentpath + \"/\" + (clocation ? (clocation + \"/\") : \"\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\titem.cloc = cloc;\r\n\t\t\t\r\n\t\t\tmname = item.measurename;\r\n\t\t\t\r\n\t\t\tif (mname.indexOf(\"/\") > -1)\r\n\t\t\t{\r\n\t\t\t\tmname = mname.split(\"/\");\r\n\t\t\t\tmname = mname.join(\"&#x2044;\");\r\n\t\t\t}\r\n\r\n\t\t\t_r = {name: mname, uid: cloc + mname, type: item.ctype || \"Measure\", createstructure: \"T\"};\r\n\t\t\tif (me.mitem)\r\n\t\t\t{\r\n\t\t\t\t_r.pid = me.mitem.uid;\r\n\t\t\t}\r\n\t\t\taddress.push(_r);\r\n\t\t\t\r\n\t\t\tritem = me.mitem ? me.mitem : item;\r\n\t\t\t\r\n\t\t\tif (item.ctype == \"DateMetric\")\r\n\t\t\t{\r\n\t\t\t\t_c = {\r\n\t\t\t\t\tcubeuid: me.uid,\r\n\t\t\t\t\tdateformat: \"DATE\",\r\n\t\t\t\t\tfieldid: item.uid,\r\n\t\t\t\t\tfieldname: mname,\r\n\t\t\t\t\tdbtype: \"auto\",\r\n\t\t\t\t\tissql: true,\r\n\t\t\t\t\tmeta_type: \"custom_dimension\"\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t\tcitems.push(_c);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tswitch (item.formula)\r\n\t\t\t\t{\r\n//\t\t\t\tcase \"SUM\":\r\n//\t\t\t\tcase \"AVG\":\r\n//\t\t\t\tcase \"COUNT\":\r\n//\t\t\t\tcase \"MIN\":\r\n//\t\t\t\tcase \"MAX\":\r\n\t\t\t\t\t\r\n\t\t\t\tcase \"COUNT DISTINCT\":\r\n\t\t\t\tcase \"COUNT_DISTINCT\":\r\n\t\t\t\t\tm_f = \"COUNT(DISTINCT [\" + item.name + \"])\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"TMPL\":\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tm_f = item.formula + \"([\" + item.name + \"])\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (item.formula == \"TMPL\" && tmpl)\r\n\t\t\t\t{\r\n\t\t\t\t\tm_f = tmpl.expression;\r\n\t\t\t\t\t\r\n\t\t\t\t\tn1 = m_f.indexOf(\"[field]\");\r\n\t\t\t\t\t\r\n\t\t\t\t\twhile (n1 > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tm_f = m_f.substring(0, n1) + \"[\" + item.name + \"]\" + m_f.substring(n1 + \"[field]\".length);\r\n\t\t\t\t\t\tn1 = m_f.indexOf(\"[field]\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t_c = {\r\n\t\t\t\t\t\tmeta_type: \"measure\",\r\n\t\t\t\t\t\tname: item.measurename,\r\n\t\t\t\t\t\texpression_type: tmpl.expressiontype,\r\n\t\t\t\t\t\tcalcmode: tmpl.calcmode,\r\n\t\t\t\t\t\texpression: m_f,\r\n\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\tritem\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfor (j=0; j < tmpl.fields.length; j++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttmpl.fields[j].type = tmpl.fields[j].type || tmpl.fields[j].itemtype;\r\n\t\t\t\t\t\t_c.items.push(tmpl.fields[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcitems.push(_c);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t_c = {\r\n\t\t\t\t\t\tmeta_type: \"measure\",\r\n\t\t\t\t\t\tname: item.measurename,\r\n\t\t\t\t\t\texpression_type: item.formula,\r\n\t\t\t\t\t\texpression: m_f,\r\n\t\t\t\t\t\trel_items: [\r\n\t\t\t\t\t\t\tritem\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcitems.push(_c);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.callback.execute();\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\t_getfmtvalue: function(t_format, mname, formula, mf) {\r\n\t\tvar n = mf ? mf : (t_format ? (/(\\[field\\]|\\[formula\\])/.test(t_format)) : 0),\r\n\t\t\tme = this;\r\n\t\t\r\n\t\tif (n)\r\n\t\t{\r\n\t\t\tvar cfunc = function(fvalue, mvalue, cvalue) {\r\n\t\t\t\tif (cvalue && cvalue.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar n = mvalue.indexOf(fvalue);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (n > -1)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tmvalue = mvalue.substring(0, n) + cvalue + mvalue.substring(n+fvalue.length);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn mvalue;\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif (!me._fmt_formu)\r\n\t\t\t{\r\n\t\t\t\tme._fmt_formu = {\r\n\t\t\t\t\t\"COUNT\": \"Count\",\r\n\t\t\t\t\t\"COUNT_DISTINCT\": \"Unique count\",\r\n\t\t\t\t\t\"COUNT DISTINCT\": \"Unique count\",\r\n\t\t\t\t\t\"SUM\": \"Total\",\r\n\t\t\t\t\t\"MIN\": \"Min.\",\r\n\t\t\t\t\t\"MAX\": \"Max.\",\r\n\t\t\t\t\t\"AVG\": \"Avg.\"\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmname = cfunc(\"[field]\", t_format, mname);\r\n\t\t\tif (me._fmt_formu[formula.toUpperCase()])\r\n\t\t\t{\r\n\t\t\t\tmname = cfunc(\"[formula]\", mname, me._fmt_formu[formula.toUpperCase()]);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tmname = cfunc(\"[formula]\", mname, formula);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn mname;\r\n\t},\r\n\t\r\n\tapply_template: function() {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\trec,\r\n\t\t\tt_format = me.down(\"[name=t_format]\").getValue(),\r\n\t\t\tstore = measureview.getSelectionModel().selected,\r\n\t\t\tmname,\r\n\t\t\tn = t_format ? (/(\\[field\\]|\\[formula\\])/.test(t_format)) : 0;\r\n\t\t\t\r\n\t\tif (store.length == 0)\r\n\t\t{\r\n\t\t\tstore = measureview.store.data;\r\n\t\t}\r\n\t\t\r\n\t\tif (n)\r\n\t\t{\r\n\t\t\tfor (i=0; i < store.length; i++)\r\n\t\t\t{\r\n\t\t\t\trec = store.items[i];\r\n\t\t\t\tmname = rec.get(\"name\");\r\n\t\t\t\tmname = me._getfmtvalue(t_format, mname, rec.get(\"formula\"), n);\r\n\t\t\t\trec.set(\"measurename\", mname);\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"T_M_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MULTIMEASURE\"), // \"MultiMeasure\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_PATH\"), // Location\",\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.vmode == 1 || this.vmode == 2,\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"clocation\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_MEASURE_NAME\"), // Measure Name\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"t_format\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"[formula] [field]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_APPLY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (me.down(\"[name=t_format]\").getValue())\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tig$.measure_naming = me.down(\"[name=t_format]\").getValue();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\thidden: this.vmode == 1 || this.vmode == 2,\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Location ex: {parent}/measures\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: \"Name template ex: [formula] [field]\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\t\t\tname: \"measureview\",\r\n\t\t\t\t\t\t\t\t\tcollapsible: false,\r\n\t\t\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\"name\", \"uid\", \"nodepath\", \"type\", \"datatype\", \"measurename\", \"formula\", \"ctype\", \"clocation\"\r\n\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_MEASURE_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"measurename\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_FACT_NAME\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TYPE\"),\r\n\t\t\t\t\t\t\t\t\t\t\tdataIndex: \"formula\",\r\n\t\t\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\ttriggerAction: \"all\",\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectOnTab: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\"name\", \"value\"],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdata: this._fdata\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\tlazyRender: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\tlistClass: \"x-combo-list-small\"\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tfbar: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_SELECTED\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore = measureview.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i >=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\"->\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_TEMPLATE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg = new IG$.measureEditor({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdmode: 1,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcubeuid: me.pcube.uid,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclItem: me.tmpl || {},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(me, function(param) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.tmpl = param ? param.citem : null;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < sel.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsel.items[i].set(\"formula\", \"TMPL\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpcube = me.pcube,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcustomstyle = pcube ? pcube.customstyle : null,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.cubeinfo.styles = [];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (customstyle)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfor (i=0; i < customstyle.length; i++)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.cubeinfo.styles.push(customstyle[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.expressiontype = dlg.clItem.expressiontype || \"SUM([field])\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.clItem.expression = dlg.clItem.expression || \"SUM([field])\";\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdlg.show();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\tclocation = me.down(\"[name=clocation]\"),\r\n\t\t\t\t\t\tmeasures,\r\n\t\t\t\t\t\ti, f,\r\n\t\t\t\t\t\titem = me.mitem,\r\n\t\t\t\t\t\tformatvalue,\r\n\t\t\t\t\t\tmname, measurename;\r\n\t\t\t\t\t\r\n\t\t\t\t\tformatvalue = ig$.measure_naming || \"[formula] [field]\";\r\n\t\t\t\t\tme.down(\"[name=t_format]\").setValue(formatvalue);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (me.vmode == 2)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tnformat = formatvalue ? (/(\\[field\\]|\\[formula\\])/.test(formatvalue)) : 0;\r\n\t\t\t\t\t\tmeasures = [];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (i=0; i < me._fdata.length; i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tf = me._fdata[i];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (f.metric > 0)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tmname = item.name;\r\n\t\t\t\t\t\t\t\tmname = me._getfmtvalue(formatvalue, mname, f.value, nformat);\r\n\t\t\t\t\t\t\t\tmeasurename = mname;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tmeasures.push({\r\n\t\t\t\t\t\t\t\t\tmeasurename: measurename,\r\n\t\t\t\t\t\t\t\t\tformula_desc: f.name,\r\n\t\t\t\t\t\t\t\t\tname: item.name,\r\n\t\t\t\t\t\t\t\t\tformula: f.value\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tmeasureview.store.loadData(measures);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclocation.setValue(me.mfolder == null ? \"{parent}/measures\" : me.mfolder);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (me.metaitems)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tmeasureview.store.loadData(me.metaitems);\r\n\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiMeasure.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n\r\nIG$.multiRename = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:\"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tpadding: 5,\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 560,\r\n\theight: 500,\r\n\t\r\n\tcallback: null,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tvar r = [],\r\n\t\t\ti,\r\n\t\t\tmeasureview = this.down(\"[name=measureview]\"),\r\n\t\t\titem, cobj;\r\n\t\t\r\n\t\tfor (i=0; i < measureview.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\titem = measureview.store.data.items[i];\r\n\t\t\t\r\n\t\t\tif (!item.get(\"cname\"))\r\n\t\t\t\tcontinue;\r\n\t\t\t\r\n\t\t\tcobj = {\r\n\t\t\t\tnodepath: item.get(\"nodepath\"),\r\n\t\t\t\ttype: item.get(\"type\"),\r\n\t\t\t\tname: item.get(\"cname\"),\r\n\t\t\t\tuid: item.get(\"uid\")\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tr.push(cobj);\r\n\t\t}\r\n\t\t\r\n\t\tif (r.length == 0)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"B_SELECT_TARGET\"), null, null, 0, \"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tme.rs_rename_tool({\r\n\t\t\titems: r, \r\n\t\t\tdialog: me\r\n\t\t});\r\n\t},\r\n\t\r\n\trs_rename_tool: function(opt) {\r\n\t\tvar i, j,\r\n\t\t\tme = this,\r\n\t\t\taddress = [],\r\n\t\t\tcontent = {items: [], option: \"rename\"},\r\n\t\t\tm_f,\r\n\t\t\titem,\r\n\t\t\t_r, _c,\r\n\t\t\tvmode = opt.vmode,\r\n\t\t\titems = opt.items,\r\n\t\t\tdlg = opt.dialog,\r\n\t\t\treq,\r\n\t\t\tritem;\r\n\t\t\r\n\t\tfor (i=0; i < items.length; i++)\r\n\t\t{\r\n\t\t\titem = items[i];\r\n\t\t\t\r\n\t\t\t_r = {name: item.name, uid: item.uid, type: item.type, option: \"rename\"};\r\n\t\t\taddress.push(_r);\r\n\t\t}\r\n\t\t\r\n\t\treq = new IG$._rpc$();\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"batchcontent\",\r\n\t\t\t\tpayload: address,\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tme.callback && me.callback.execute();\r\n\t\t\t\tme.close();\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tapply_template: function() {\r\n\t\tvar me = this,\r\n\t\t\torig_filename = me.down(\"[name=orig_filename]\"),\r\n\t\t\tphoto = me.down(\"[name=photo]\"),\r\n\t\t\tmform = me.down(\"[name=mform]\");\r\n\t\t\r\n\t\tif (me.__cprog)\r\n\t\t{\r\n\t\t\tIG$.alertmsg(ig$.appname, \"Still progressing. Please wait!\", null, null, 0, \"warning\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\tif (photo.getRawValue())\r\n\t\t{\r\n\t\t\tvar f = mform.getForm();\r\n\t\t\t// $(f).attr(\"accept-charset\", \"UTF-8\");\r\n\t\t\tdocument.charset = \"UTF-8\";\r\n\t\t\tvar fname = photo.getRawValue();\r\n\t\t\tif (fname.indexOf(\"\\\\\") > -1)\r\n\t\t\t{\r\n\t\t\t\tfname = fname.substring(fname.lastIndexOf(\"\\\\\")+1);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\torig_filename.setValue(fname);\r\n\t\t\t\r\n\t\t\tme.__cprog = 1;\r\n\t\t\t\r\n\t\t\tmform.submit({\r\n\t\t\t\turl: ig$.servlet,\r\n\t\t\t\twaitMsg: 'Uploading your data file',\r\n\t\t\t\tsuccess: function(fp, o) {\r\n\t\t\t\t\tvar node = fp.errorReader.jsonData,\r\n\t\t\t\t\t\tuid = node && node.result ? node.result.uid : null;\r\n\t\t\t\t\t\r\n\t\t\t\t\torig_filename.setValue(\"\");\r\n\t\t\t\t\tphoto.clearValue();\r\n\t\t\t\t\tme.processUploadedFile(uid);\r\n\t\t\t\t\tme.__cprog = 0;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tme.__cprog = 0;\r\n\t\t\tme.apply_template_final();\r\n\t\t}\r\n\t},\r\n\t\r\n\tprocessUploadedFile: function(uid) {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"uploadcontent\",\r\n\t\t\t\tpayload: {\r\n\t\t\t\t\tfileuid: uid\r\n\t\t\t\t},\r\n\t\t\t\tmbody: {option: \"read_txt\"}\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tc = jdoc.content,\r\n\t\t\t\t\t__dict,\r\n\t\t\t\t\tsval, line,\r\n\t\t\t\t\ti, n, v;\r\n\t\t\t\t\r\n\t\t\t\t__dict = me.__dict = me.__dict || {};\r\n\t\t\t\t\r\n\t\t\t\tif (c && c.length)\r\n\t\t\t\t{\r\n\t\t\t\t\tsval = c.split(\"\\n\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (i=0; i < sval.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tline = sval[i];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (line.length && line.indexOf(\",\") > 0)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tn = line.substring(0, line.indexOf(\",\"));\r\n\t\t\t\t\t\t\tv = line.substring(line.indexOf(\",\") + 1);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (n && n.length && v && v.length)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t__dict[n] = v;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tme.apply_template_final(true);\r\n\t\t\t}\r\n\t\t);\r\n\t\t\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tapply_template_final: function() {\r\n\t\tvar i,\r\n\t\t\tme = this,\r\n\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\trec,\r\n\t\t\trenamemask = me.down(\"[name=renamemask]\").getValue(),\r\n\t\t\tremove_underline = me.down(\"[name=remove_underline]\").getValue(),\r\n\t\t\tstore = measureview.getSelectionModel().selected,\r\n\t\t\tmname,\r\n\t\t\tpname,\r\n\t\t\tcname,\r\n\t\t\tpwords = \"a,an,the,at,by,for,in,of,on,to,from,up,and,as,but,or,nor,yet,so,vs\".split(\",\"),\r\n\t\t\tpwordsmap = {},\r\n\t\t\tkmap = {\"id\": 1},\r\n\t\t\t__dict;\r\n\t\t\r\n\t\t__dict = me.__dict || {};\r\n\t\t\r\n\t\t\t\r\n\t\tif (store.length == 0)\r\n\t\t{\r\n\t\t\tstore = measureview.store.data;\r\n\t\t}\r\n\t\t\r\n\t\tfor (i=0; i < pwords.length; i++)\r\n\t\t{\r\n\t\t\tpwordsmap[pwords[i]] = 1;\r\n\t\t}\r\n\t\t\r\n\t\tvar cfunc = function(ctype, mname) {\r\n\t\t\tvar cname = \"\",\r\n\t\t\t\ti,\r\n\t\t\t\tc,\r\n\t\t\t\tp,\r\n\t\t\t\tl = mname.length,\r\n\t\t\t\tj, w, cc;\r\n\t\t\t\r\n\t\t\tif (__dict[mname])\r\n\t\t\t{\r\n\t\t\t\tmname = __dict[mname];\r\n\t\t\t\tl = mname.length;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tfor (i=0; i < l; i++)\r\n\t\t\t{\r\n\t\t\t\tp = i > 0 ? mname.charAt(i-1) : null;\r\n\t\t\t\tc = mname.charAt(i);\r\n\t\t\t\t\r\n\t\t\t\tif (remove_underline && c == '_')\r\n\t\t\t\t{\r\n\t\t\t\t\tc = ' ';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tswitch (ctype)\r\n\t\t\t\t{\r\n\t\t\t\tcase \"lowercase\":\r\n\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"uppercase\":\r\n\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_letter_uppercase\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_of_each_word_uppercase\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (p == ' ' || p == '_')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"first_of_each_word_uppercase_english\":\r\n\t\t\t\t\tif (i == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (p == ' ' || p == '_')\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tw = \"\";\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor (j=i; j < l; j++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tcc = mname.charAt(j);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif (cc == ' ' || cc == '_')\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tw += cc;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (!pwordsmap[w.toLowerCase()])\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tif (kmap[w.toLowerCase()])\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tc = w;\r\n\t\t\t\t\t\t\t\ti += w.length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tc = c.toUpperCase();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tc = c.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcname += c;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn cname;\r\n\t\t};\r\n\t\t\r\n\t\tfor (i=0; i < store.length; i++)\r\n\t\t{\r\n\t\t\trec = store.items[i];\r\n\t\t\tmname = rec.get(\"name\");\r\n\t\t\tpname = rec.get(\"physical_name\");\r\n\t\t\t\r\n\t\t\tcname = cfunc(renamemask, pname || mname);\r\n\t\t\t\r\n\t\t\trec.set(\"cname\", cname);\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tthis.title = IRm$.r1(\"T_M_MEASURE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype:\"fieldset\",\r\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_MULTI_RENAME\"), // \"Multi Rename\",\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tpadding: 5,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"container\",\r\n\t\t\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"form\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: 'mform',\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"anchor\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"hiddenfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"_mts_\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: IG$._g$a\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"orig_filename\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_ORIG_NAME\") // Original name\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: 'fileuploadfield',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: 'photo',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATA\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// labelWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmsgTarget: 'side',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tallowBlank: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tanchor: '100%',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// width: 320,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuttonText: IRm$.r1(\"L_SELECT_FILE\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbuttonConfig: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin: \"0 2 0\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tname: \"remove_underline\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_REMOVE_UNDERLINE\"), // Remove underline\",\r\n\t\t\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLED\")\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\t\t\t\t\tlayout: \"hbox\",\r\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_RENAME_MASK\"), // Rename Mask\",\r\n\t\t\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"combobox\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname: \"renamemask\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalueField: \"value\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisplayField: \"name\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tqueryMode: \"local\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\teditable: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"name\", \"value\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"Unchanged\", value: \"\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"All lowercase\", value: \"lowercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"All UPPERCASE\", value: \"uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First letter uppercase\", value: \"first_letter_uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First of each word uppercase\", value: \"first_of_each_word_uppercase\"},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{name: \"First of each word uppercase (English in title)\", value: \"first_of_each_word_uppercase_english\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_APPLY\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tme.apply_template();\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\t\t\tname: \"measureview\",\r\n\t\t\t\t\t\t\tcollapsible: false,\r\n\t\t\t\t\t\t\tstateful: true,\r\n\t\t\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\t\t\tselType: \"checkboxmodel\",\r\n\t\t\t\t\t\t\tselModel: {\r\n\t\t\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tstore: {\r\n\t\t\t\t\t\t\t\tfields: []\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\t\t\tlayout: \"fit\",\r\n\t\t\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\t\t\tclicksToEdit: 1\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_PHYSICAL_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"physical_name\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_NEW_NAME\"),\r\n\t\t\t\t\t\t\t\t\tdataIndex: \"cname\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\tviewConfig: {\r\n\t\t\t\t\t\t\t\tstripeRows: true\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"toolbar\",\r\n\t\t\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_REMOVE_SELECTED\"),\r\n\t\t\t\t\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore = measureview.store,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsel = measureview.getSelectionModel().selected,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t\tfor (i=sel.length-1; i >=0; i--)\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstore.remove(sel.items[i]);\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function() {\r\n\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\tmeasureview = me.down(\"[name=measureview]\"),\r\n\t\t\t\t\t\tmform = me.down('[name=mform]');\r\n\t\t\t\t\t\r\n\t\t\t\t\tmeasureview.store.loadData(me.metaitems);\r\n\t\t\t\t\tmform.getForm().errorReader = new IG$.m2ER();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiRename.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.d$QryTool = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\tregion:'center',\r\n\t\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 700,\r\n\tautoHeight: true,\r\n\tautoScroll: true,\r\n\t\r\n\tupdateChanges: function() {\r\n\t\tvar me = this,\r\n\t\t\tctrl = me.down(\"[name=ctrlpool]\"),\r\n\t\t\ti,\r\n\t\t\tcolumngrid = me.down(\"[name=columngrid]\"),\r\n\t\t\trec, p;\r\n\t\t\t\r\n\t\tme.sheetoption.sqloption.dbpool = ctrl.getValue();\r\n\t\tctrl = me.down(\"[name=sqlquery]\");\r\n\t\tme.sheetoption.sqloption.sql = ctrl.getValue();\r\n\t\tme.sheetoption.sqloption.sqlquery = me.sheetoption.sqloption.sql;\r\n\t\t\r\n\t\tme.sheetoption.sqloption.columns = [];\r\n\t\t\r\n\t\tfor (i=0; i < columngrid.store.data.items.length; i++)\r\n\t\t{\r\n\t\t\trec = columngrid.store.data.items[i];\r\n\t\t\tp = rec.data;\r\n\t\t\tp.dataoption = {};\r\n\t\t\tp.dataoption.data = rec.get(\"dataoption_data\");\r\n\t\t\tp.dataoption.datadelimiter = rec.get(\"dataoption_datadelimiter\");\r\n\t\t\tp.dataoption.coldelimiter = rec.get(\"dataoption_coldelimiter\");\r\n\t\t\tp.dataoption.valuetype = rec.get(\"dataoption_valuetype\");\r\n\t\t\t\r\n\t\t\tme.sheetoption.sqloption.columns.push(p);\r\n\t\t}\r\n\t},\r\n\t\r\n\tconfirmDialig: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.updateChanges();\r\n\t\t\r\n\t\tme.callback && me.callback.execute();\r\n\t\t\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tloadPool: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tpromptmap, cinfo,\r\n\t\t\tcolumnmap,\r\n\t\t\ti;\r\n\t\t\t\r\n\t\tif (!me.sheetoption.sqloption)\r\n\t\t{\r\n\t\t\tme.sheetoption.sqloption = {};\r\n\t\t}\r\n\t\t\r\n\t\tme.down(\"[name=sqlquery]\").setValue(me.sheetoption.sqloption.sql || me.sheetoption.sqloption.sqlquery || \"\");\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"tablecontent\",\r\n\t\t\t\tpayload: {address: \"\"},\r\n\t\t\t\tmbody: {}\r\n\t\t\t}, me, me.rs_loadPool, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_loadPool: function(xdoc) {\r\n\t\tvar i,\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\ttnodes = IG$.XGetChildNodes(tnode),\r\n\t\t\tctrlpool = this.down(\"[name=ctrlpool]\"),\r\n\t\t\tctrlquerytype = this.down(\"[name=ctrlquerytype]\"),\r\n\t\t\titems = [], item;\r\n\t\t\r\n\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t{\r\n\t\t\titem = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\titem.select = (this.sheetoption.sqloption.dbpool == item.name) ? true : false;\r\n\t\t\tif (item.name != \"MECBASE\") \r\n\t\t\t\titems.push(item);\r\n\t\t}\r\n\t\t\r\n\t\tctrlpool.store.loadData(items);\r\n\t\tctrlpool.setValue(this.sheetoption.sqloption.dbpool);\r\n\t\tctrlquerytype.setValue(\"stmt\");\r\n\t},\r\n\t\r\n\tgetMetaInfo: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tpgrid = me.down(\"[name=promptgrid]\"),\r\n\t\t\tcontent, i;\r\n\t\t\t\r\n\t\tme.updateChanges();\r\n\t\t\r\n\t\tcontent = {\r\n\t\t\tdbpool: me.down(\"[name=ctrlpool]\").getValue(),\r\n\t\t\tmethod: me.down(\"[name=ctrlquerytype]\").getValue(),\r\n\t\t\tsql: me.down(\"[name=sqlquery]\").getValue()\r\n\t\t};\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {uid: me.uid, option: \"sqlcubedata\"},\r\n\t\t\t\tmbody: content\r\n\t\t\t}, me, me.rs_getMetaInfo, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\trs_getMetaInfo: function(xdoc) {\r\n\t\tvar me = this,\r\n\t\t\ti,\r\n\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/columns\"),\r\n\t\t\ttnodes = tnode ? IG$.XGetChildNodes(tnode) : null,\r\n\t\t\trnode = IG$.XGetNode(xdoc, \"/smsg/result\"),\r\n\t\t\tcols=[], col,\r\n\t\t\tgcols = [],\r\n\t\t\tfields = [],\r\n\t\t\tdata = [], row,\r\n\t\t\tresults,\r\n\t\t\tcolumngrid = this.down(\"[name=columngrid]\"),\r\n\t\t\tcname, delim, n;\r\n\t\t\t\r\n\t\tif (tnodes)\r\n\t\t{\r\n\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t{\r\n\t\t\t\tcol = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\t\tcols.push(col);\r\n\t\t\t\t\r\n\t\t\t\tfields.push(\"c\" + i);\r\n\t\t\t\t\r\n\t\t\t\tgcols.push({\r\n\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\ttext: col.fieldname,\r\n\t\t\t\t\tminWidth: 120,\r\n\t\t\t\t\tdataIndex: \"c\" + i\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (rnode)\r\n\t\t\t{\r\n\t\t\t\tdelim = IG$.XGetAttr(rnode, \"delimiter\");\r\n\t\t\t\tresults = IG$.XGetTextVal(rnode);\r\n\t\t\t\tresults = results.split(delim);\r\n\t\t\t\t\r\n\t\t\t\trow = {};\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < results.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tn = i % cols.length;\r\n\t\t\t\t\tif (i > 0 && n == 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata.push(row);\r\n\t\t\t\t\t\trow = {};\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (data.length > 100)\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\trow[\"c\" + n] = results[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tvar storecolumn = Ext.create(\"Ext.data.ArrayStore\", {\r\n\t\t\tfields: fields\r\n\t\t})\r\n\t\t\t\r\n\t\tcolumngrid.reconfigure(storecolumn, gcols);\r\n\t\tcolumngrid.store.loadData(data);\r\n\t},\r\n\t\r\n\ttoolbarHandler: function(cmd) {\r\n\t\tswitch (cmd)\r\n\t\t{\r\n\t\tcase \"cmd_getmeta\":\r\n\t\t\tthis.getMetaInfo();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel=this,\r\n\t\t\tdoc = $(document);\r\n\t\t\r\n\t\tpanel.maxHeight = doc.height() - 20;\r\n\t\tpanel.title = IRm$.r1('I_SQLCUBE');\r\n\t\t\r\n\t\tpanel.title = IRm$.r1('I_QRY_TOOL');\r\n\t\t\r\n\t\tvar lpanel = {\r\n\t\t\txtype: \"panel\",\r\n\t\t\tlayout: {\r\n\t\t\t\ttype: \"vbox\",\r\n\t\t\t\talign: \"stretch\"\r\n\t\t\t},\r\n\t\t\tpadding: 5,\r\n\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: 'combobox',\r\n\t\t\t\t\tname: \"ctrlpool\",\r\n\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_DATASOURCE\"), // \"Database Source\",\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"disp\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: 'combobox',\r\n\t\t\t\t\tname: \"ctrlquerytype\",\r\n\t\t\t\t\tqueryMode: 'local',\r\n\t\t\t\t\tdisplayField: 'disp',\r\n\t\t\t\t\tvalueField: 'name',\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_QUERY_TYPE\"), // Query Type\",\r\n\t\t\t\t\teditable: false,\r\n\t\t\t\t\tautoSelect: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"disp\"\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t\tdata: [\r\n\t\t\t\t\t\t\t{disp: \"Statement\", name: \"stmt\", selected: 1},\r\n\t\t\t\t\t\t\t{disp: \"PreparedStatement\", name: \"pstmt\"}\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\tname: \"sqlquery\",\r\n\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SQL_QUERY\"), // SQL Query\",\r\n\t\t\t\t\theight: 160\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"hbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"button\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1('L_RUN_REPORT'),\r\n\t\t\t\t\t\t\twidth: 120,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tthis.toolbarHandler('cmd_getmeta'); \r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"fieldcontainer\",\r\n\t\t\t\t\t\t\twidth: 10\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"displayfield\",\r\n\t\t\t\t\t\t\tvalue: \" Click button to get result\",\r\n\t\t\t\t\t\t\tflex: 1\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"grid\",\r\n\t\t\t\t\ttitle: IRm$.r1(\"L_DATA_RESULTS\"), // \"Data Results\",\r\n\t\t\t\t\tname: \"columngrid\",\r\n\t\t\t\t\theight: 250,\r\n\t\t\t\t\tstateful: true,\r\n\t\t\t\t\tcolumnLines: true,\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\tfields: [\r\n\t\t\t\t\t\t\t\"name\", \"fieldname\", \"type\", \"datatype\", \"tablename\", \"dataoption_data\", \"dataoption_valuetype\", \"dataoption_datadelimiter\", \"dataoption_coldelimiter\", \"uid\", \"mapto\"\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t},\r\n\t\t\t\t\tinitialized: false,\r\n\t\t\t\t\tlayout: 'fit',\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t\t\r\n\t\tExt.apply(this, {\r\n\t\t\tdefaults:{bodyStyle:'padding:0px'},\r\n\t\t\tautoScroll: true,\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tlpanel\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.confirmDialig();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.loadPool();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.d$QryTool.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.sqlcube_wizard = $s.extend($s.window, {\r\n\tmodal: true,\r\n\tregion: \"center\",\r\n\t\r\n\tlayout: \"fit\",\r\n\t\r\n\tclosable: false,\r\n\tresizable:true,\r\n\t\r\n\twidth: 650,\r\n\theight: 500,\r\n\tautoScroll: false,\r\n\t\r\n\tbodyPadding: 0,\r\n\t\r\n\t_confirm: function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tif (me.getAllValues(me.sheetoption))\r\n\t\t\treturn;\r\n\t\t\r\n\t\tme.callback && me.callback.execute(me);\r\n\t\tme.close();\r\n\t},\r\n\t\r\n\tinit: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$();\r\n\t\t\r\n\t\tme.setAllValues(me.sheetoption);\r\n\t},\r\n\t\t\r\n\tvalidateQuery: function() {\r\n\t\tvar me = this,\r\n\t\t\treq = new IG$._rpc$(),\r\n\t\t\tcontent;\r\n\t\t\t\r\n\t\tcontent = {\r\n\t\t\tdbpool: me.sheetoption.dbpool\r\n\t\t};\r\n\t\t\r\n\t\tif (me.getAllValues(content))\r\n\t\t\treturn;\r\n\t\t\r\n\t\treq.init(me, \r\n\t\t\t{\r\n\t\t\t\tack: \"olapservice\",\r\n\t\t\t\tpayload: {uid: me.sheetoption.uid, option: \"sqlcubemeta\"},\r\n\t\t\t\tmbody: content,\r\n\t\t\t\tmeta_type: \"inlineview\"\r\n\t\t\t}, me, function(jdoc) {\r\n\t\t\t\tif (jdoc && jdoc.length == 1)\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1(\"M_VALIDATED\") + \"(\" + (jdoc[0].columns ? jdoc[0].columns.length : \"0\") + \" columns)\", null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t}, null);\r\n\t\treq.send();\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me=this;\r\n\t\t\r\n\t\tme.title = IRm$.r1(\"I_SQLCUBE\");\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\tname: \"mainpanel\",\r\n\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\tautoScroll: false,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"panel\",\r\n\t\t\t\t\t\t\tborder: 0,\r\n\t\t\t\t\t\t\tlayout: {\r\n\t\t\t\t\t\t\t\ttype: \"vbox\",\r\n\t\t\t\t\t\t\t\talign: \"stretch\"\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_VIEW_NAME\"), // \"View name\",\r\n\t\t\t\t\t\t\t\t\tname: \"name\",\r\n\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\r\n\t\t\t\t\t\t\t\t\tname: \"sql\",\r\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_SQL_QUERY\"), // \"SQL Query\",\r\n\t\t\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\t\t\trequired: true\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons: [\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_VALIDATE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.validateQuery();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t\"->\",\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis._confirm();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CLOSE\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.init();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\t\t\r\n\t\tIG$.sqlcube_wizard.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});\r\n","IG$.multimetric = $s.extend(IG$.v$pnl, {\r\n\r\n\tlayout: \"fit\",\r\n\t\r\n\tuid: null,\r\n\t\r\n\tparentnodepath: null,\r\n\titemtype: null,\r\n\tparentuid: null,\r\n\t\r\n\tcallback: null,\r\n\tobjinfo: null,\r\n\tseq: 0,\r\n\tbodyPadding: 10,\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\t\t\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\txtype: \"gridpanel\",\r\n\t\t\t\t\tname: \"elemtree\",\r\n\t\t\t\t\tstore: {\r\n\t\t\t\t\t\txtype: \"store\",\r\n\t\t\t\t\t\tfields: [\"name\", \"ukey\"]\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tselModel: Ext.create(Ext.selection.CheckboxModel, {\r\n\t\t\t\t\t\tcheckSelector: \".x-grid-cell\"\r\n\t\t\t\t\t}),\r\n\t\t\t\t\t\r\n\t\t\t\t\ttbar: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-save',\r\n\t\t\t\t\t\t\ttooltip: 'Save Content',\r\n\t\t\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\t\t\tthis.storeContent.call(this, null);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t'-', \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-add',\r\n\t\t\t\t\t\t\ttooltip: 'Add Node',\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\tme.appendSelection.call(me);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}, \r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\ticonCls: 'icon-toolbar-remove',\r\n\t\t\t\t\t\t\ttooltip: 'Delete Node',\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\t\t\tvar me = this;\r\n\t\t\t\t\t\t\t\tme.removeSelection.call(me);\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tplugins: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tptype: \"cellediting\",\r\n\t\t\t\t\t\t\tclicksToEdit: false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tcolumns: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_NAME\"),\r\n\t\t\t\t\t\t\tdataIndex: \"name\",\r\n\t\t\t\t\t\t\tflex: 1,\r\n\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"gridcolumn\",\r\n\t\t\t\t\t\t\ttext: IRm$.r1(\"L_UNIQUE_VALUE\"),\r\n\t\t\t\t\t\t\tdataIndex: \"ukey\",\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\teditor: {\r\n\t\t\t\t\t\t\t\tallowBlank: false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\txtype: \"actioncolumn\",\r\n\t\t\t\t\t\t\thidden: true,\r\n\t\t\t\t\t\t\twidth: 80,\r\n\t\t\t\t\t\t\titems: [\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_CONFIG_ITEM\"),\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\r\n\t\t\t\t\t\t\t\t\t\tpanel.updateValues(rowIndex, record, \"edit\");\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: panel\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-delete\",\r\n\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_DELETE_ITEM\"),\r\n\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\r\n\t\t\t\t\t\t\t\t\t\tpanel.updateValues(rowIndex, record, \"delete\");\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\tscope: panel\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t],\r\n\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\tcheckchange: function(node, checked) {\r\n\t\t\t\t\t\t\tnode.set(\"chekced\", checked);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\r\n\t\t\tstoreContent: function(bclose) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\txdoc = \"<item uid='\" + this.uid + \"'>\",\r\n\t\t\t\t\telemtree = panel.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\troot = store.getRootNode(),\r\n\t\t\t\t\tmdata;\r\n\t\t\t\t\r\n\t\t\t\tmdata = panel.getElementContent(root, null);\r\n\t\t\t\t\r\n\t\t\t\txdoc += \"<objinfo\" + IG$.XUpdateInfo(panel.objinfo, \"cubeuid\", \"s\") + \"/>\";\r\n\t\t\t\txdoc += \"<Elements lseq='\" + panel.seq + \"'><![CDATA[\" + mdata + \"]]></Elements>\";\r\n\t\t\t\txdoc += \"</item>\";\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: xdoc\r\n\t\t\t\t\t}, panel, panel.rs_storeContent, null, bclose);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_storeContent: function(xdoc, bclose) {\r\n\t\t\t\tthis.buildCube(bclose);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tbuildCube: function(bclose) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\treq = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: 17,\r\n\t\t\t\t\t\tpayload: {\r\n\t\t\t\t\t\t\tuid: panel.uid,\r\n\t\t\t\t\t\t\tcubeuid: panel.objinfo.cubeuid,\r\n\t\t\t\t\t\t\taction: 'UpdateMetric'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, panel, panel.rs_buildCube, null, bclose);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_buildCube: function(xdoc, bclose) {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tif (bclose)\r\n\t\t\t\t{\r\n\t\t\t\t\tbclose.close();\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetElementContent: function(pnode, ppnode) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tdatanode = \"\",\r\n\t\t\t\t\tenode,\r\n\t\t\t\t\tseq;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < pnode.childNodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tenode = pnode.childNodes[i];\r\n\t\t\t\t\t\r\n\t\t\t\t\tseq = enode.get(\"seq\");\r\n\t\t\t\t\t\r\n\t\t\t\t\tdatanode += \"\" + seq + \",\" + (ppnode ? ppnode.get(\"seq\") : \"\") + \",\" + enode.get(\"name\") + \"|\";\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (enode.childNodes && enode.childNodes.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdatanode += this.getElementContent(enode, enode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn datanode; \r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trefreshContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: {option: 'diagnostics'}\r\n\t\t\t\t\t}, panel, panel.rs_refreshContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_refreshContent: function(xdoc) {\r\n\t\t\t\tvar panel = this,\r\n\t\t\t\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\t\t\tonode = IG$.XGetNode(xdoc, \"/smsg/item/objinfo\"),\r\n\t\t\t\t\tlseq,\r\n\t\t\t\t\tmitems = [], mitem,\r\n\t\t\t\t\ti, s;\r\n\t\t\t\t\r\n\t\t\t\tif (onode)\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.objinfo = IG$.XGetAttrProp(onode);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif (panel.objinfo && panel.objinfo.sequence)\r\n\t\t\t\t{\r\n\t\t\t\t\tpanel.updateTreeNode(mitems);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tappendElementTree: function(childs, unode) {\r\n\t\t\t\tfor (var i=0; i < childs.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar nodeid = IG$.XGetAttr(childs[i], \"id\");\r\n\t\t\t\t\tvar nodetext = IG$.XGetAttr(childs[i], \"text\");\r\n\t\t\t\t\tvar snode = this.mtree.appendNodeElement.call(this.mtree, unode, nodeid, nodetext);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar subchilds = IG$.XGetChildNodes(childs[i]);\r\n\t\t\t\t\tif (subchilds && subchilds.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.appendElementTree(subchilds, snode);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tupdateValues: function(rowindex, record, cmd) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store;\r\n\t\t\t\t\t\r\n\t\t\t\tif (cmd == \"delete\")\r\n\t\t\t\t{\r\n\t\t\t\t\tif (record.get(\"root\") !== true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trecord.remove();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tupdateTreeNode: function(data) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\tpanel = me,\r\n\t\t\t\t\titem = this.clItem,\r\n\t\t\t\t\titems, objinfo = me.objinfo;\r\n\t\t\t\t\r\n\t\t\t\tpanel.setLoading(true);\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: 17,\r\n\t\t\t\t\t\tpayload: {uid: panel.uid, sequence: objinfo.sequence, action: \"55\"},\r\n\t\t\t\t\t\tmbody: {option: \"standard\"}\r\n\t\t\t\t\t}, panel, panel.rs_updateTreeNode, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_updateTreeNode: function(xdoc) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ttnode = IG$.XGetNode(xdoc, \"/smsg/item\"),\r\n\t\t\t\t\ttnodes = (tnode ? IG$.XGetChildNodes(tnode) : null),\r\n\t\t\t\t\titems = [], item,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\ti;\r\n\t\t\t\t\r\n\t\t\t\tme.setLoading(false);\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < tnodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\titem = IG$.XGetAttrProp(tnodes[i]);\r\n\t\t\t\t\titem.name = IG$.XGetTextVal(tnodes[i]);\r\n\t\t\t\t\titems.push(item);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\telemtree.store.loadData(items);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trebuildTree: function(data) {\r\n\t\t\t\tvar r = [],\r\n\t\t\t\t\tks = {},\r\n\t\t\t\t\tp;\r\n\t\t\t\t\t\r\n\t\t\t\tfor (i=0; i < data.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tks[data[i].seq] = data[i];\r\n\t\t\t\t\tif (data[i].pnode != null && ks[data[i].pnode])\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tp = ks[data[i].pnode];\r\n\t\t\t\t\t\tp.leaf = false;\r\n\t\t\t\t\t\tdelete p.checked;\r\n\t\t\t\t\t\tdata[i].leaf = true;\r\n\t\t\t\t\t\tdata[i].checked = false;\r\n\t\t\t\t\t\tp.children = p.children || [];\r\n\t\t\t\t\t\tp.children.push(data[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata[i].leaf = true;\r\n\t\t\t\t\t\tdata[i].checked = false;\r\n\t\t\t\t\t\tr.push(data[i]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn r;\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tappendSelection: function() {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\tselmodel = elemtree.getSelectionModel(),\r\n\t\t\t\t\tpvaluedesc, pvalues,\r\n\t\t\t\t\tsel, ncell, i, nname, nmax = 0, cname;\r\n\t\t\t\t\r\n\t\t\t\tif (selmodel.selected.items.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tsel = selmodel.selected.items[0];\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tsel = elemtree.getRootNode();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tpvaluedesc = sel.get(\"valuedesc\");\r\n\t\t\t\tpvalues = sel.get(\"values\");\r\n\t\t\t\t\r\n\t\t\t\tsel.set(\"valuedesc\", \"\");\r\n\t\t\t\tsel.set(\"values\", \"\");\r\n\t\t\t\tsel.set(\"leaf\", false);\r\n\t\t\t\t\r\n\t\t\t\tnname = \"new item \";\r\n\t\t\t\t\r\n\t\t\t\tfor (i=0; i < sel.childNodes.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tcname = sel.childNodes[i].get(\"name\");\r\n\t\t\t\t\tif (cname.substring(0, nname.length) == nname)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcname = cname.substring(nname.length);\r\n\t\t\t\t\t\tcname = Number(cname);\r\n\t\t\t\t\t\tif (isNaN(cname) == false)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tnmax = Math.max(nmax, Number(cname) + 1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tnmax = Math.max(nmax, me.seq+1);\r\n\t\t\t\tme.seq = nmax;\r\n\t\t\t\tnname += nmax;\r\n\t\t\t\t\r\n\t\t\t\tncell = {\r\n\t\t\t\t\tseq: nmax,\r\n\t\t\t\t\tname: nname,\r\n\t\t\t\t\tvalues: pvalues || \"\",\r\n\t\t\t\t\tvaluedesc: pvaluedesc || \"\",\r\n\t\t\t\t\tleaf: true,\r\n\t\t\t\t\tchecked: false\r\n\t\t\t\t};\r\n\t\t\t\tsel.appendChild(ncell);\r\n\t\t\t\tsel.expand();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tremoveSelection: function() {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\telemtree = me.down(\"[name=elemtree]\"),\r\n\t\t\t\t\tstore = elemtree.store,\r\n\t\t\t\t\troot = store.getRootNode(),\r\n\t\t\t\t\ti;\r\n\t\t\t\t\t\r\n\t\t\t\tme.removeSelectedRow(root);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tremoveSelectedRow: function(root) {\r\n\t\t\t\tvar me = this,\r\n\t\t\t\t\ti,\r\n\t\t\t\t\tnode;\r\n\t\t\t\t\r\n\t\t\t\tfor (i=root.childNodes.length-1; i>=0; i--)\r\n\t\t\t\t{\r\n\t\t\t\t\tnode = root.childNodes[i];\r\n\t\t\t\t\tif (node.get(\"checked\") == true)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\troot.removeChild(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (node.childNodes && node.childNodes.length > 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tme.removeSelectedRow(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlisteners: {\r\n\t\t\t\tafterrender: function(ui) {\r\n\t\t\t\t\tthis.refreshContent();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multimetric.superclass.initComponent.apply(this);\r\n\t}\r\n});\r\n\r\nIG$.multiMeasureEditor = $s.extend($s.window, {\r\n\t\r\n\tmodal: true,\r\n\t\r\n\tlayout: 'fit',\r\n\t\r\n\tclosable: false,\r\n\tresizable:false,\r\n\t\r\n\twidth: 500,\r\n\theight: 400,\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar me = this;\r\n\t\t\r\n\t\tme.title = IRm$.r1('L_MC_ELEM_EDT');\r\n\t\tme.edt = new IG$.multimetric({\r\n\t\t\tuid: me.uid\r\n\t\t});\r\n\t\t$s.apply(this, {\r\n\t\t\tdefaults:{\r\n\t\t\t\tbodyStyle:'padding:0px'\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tlayout: 'fit',\r\n\t\t\t\r\n\t\t\titems: [\r\n\t\t\t\tthis.edt\r\n\t\t\t],\r\n\t\t\t\r\n\t\t\tbuttons:[\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tvar me = this,\r\n\t\t\t\t\t\t\tedt = this.edt;\r\n\t\t\t\t\t\tedt.storeContent.call(edt, this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\ttext: IRm$.r1('B_CLOSE'),\r\n\t\t\t\t\thandler: function() {\r\n\t\t\t\t\t\tthis.close();\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multiMeasureEditor.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$.multimeasure = function (config) {\r\n\t$s.apply(this, config);\r\n\t\r\n\tIG$.multimeasure.superclass.constructor.call(this, {\r\n\t\tautoScroll:true,\r\n\t\tcollapseFirst:false,\r\n\t\tclosable: true,\r\n\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\thtml: \"<div class='elementeditor'></div>\"\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t});\r\n};\r\n\r\nfunction CMolapMeasure(node) {\r\n\tthis.measuretype = 'COUNT';\r\n\tthis.uid = null;\r\n\tthis.name = null;\r\n\tthis.nodepath = null;\r\n\tthis.baseItem = null;\r\n\t\r\n\tthis.parseMeasure = function(xdoc) {\r\n\t\tvar snode = IG$.XGetNode(xdoc, \"/smsg/item\");\r\n\t\tthis.name = IG$.XGetAttr(snode, \"name\");\r\n\t\tthis.nodepath = IG$.XGetAttr(snode, \"nodepath\");\r\n\t\tthis.uid = IG$.XGetAttr(snode, \"uid\");\r\n\t\tthis.isDisinct = true;\r\n\t\t\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/objinfo\");\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tthis.measuretype = IG$.XGetAttr(snode, 'measuretype');\r\n\t\t}\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/BaseItem\");\r\n\t\tif (snode)\r\n\t\t{\r\n\t\t\tthis.baseItem = {};\r\n\t\t\tthis.baseItem.name = IG$.XGetAttr(snode, 'name');\r\n\t\t\tthis.baseItem.uid = IG$.XGetAttr(snode, 'uid');\r\n\t\t\tthis.baseItem.nodepath = IG$.XGetAttr(snode, 'nodepath');\r\n\t\t\tthis.baseItem.itemtype = IG$.XGetAttr(snode, 'type');\r\n\t\t}\r\n\t\tsnode = IG$.XGetNode(xdoc, \"/smsg/item/Options\");\r\n\t\tif (snode && snode.hasChildNodes() == true)\r\n\t\t{\r\n\t\t\tvar child = IG$.XGetChildNodes(snode);\r\n\t\t\t\r\n\t\t\tfor (i=0; i < child.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar tnode = child[i];\r\n\t\t\t\tvar nodevalue = IG$.XGetTextVal(child[i]);\r\n\t\t\t\tswitch (IG$.XGetAttr(tnode, 'name'))\r\n\t\t\t\t{\r\n\t\t\t\tcase 'isDistinct':\r\n\t\t\t\t\tthis.isDisinct = (nodevalue == 'F') ? false : true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tthis.getMeasureXML = function() {\r\n\t\tvar me = this,\r\n\t\t\tr = {\r\n\t\t\t\tuid: me.uid,\r\n\t\t\t\tname: me.name,\r\n\t\t\t\tnodepath: me.nodepath,\r\n\t\t\t\tmeasuretype: me.measuretype\r\n\t\t\t},\r\n\t\t\tbaseitem = me.baseItem;\r\n\t\t\r\n\t\tswitch (me.measuretype)\r\n\t\t{\r\n\t\tcase 'COUNT':\r\n\t\t\tr.rel_items = [];\r\n\t\t\tr.rel_items.push({\r\n\t\t\t\tuid: baseitem.uid,\r\n\t\t\t\tnodepath: baseitem.nodepath,\r\n\t\t\t\tname: baseitem.name,\r\n\t\t\t\ttype: baseitem.itemtype\r\n\t\t\t});\r\n\t\t\tr.options = [];\r\n\t\t\tr.options.push({\r\n\t\t\t\tname: \"isDisinct\",\r\n\t\t\t\tvalue: me.isDisinct ? \"T\" : \"F\"\r\n\t\t\t});\r\n\t\t\tbreak;\r\n\t\tcase 'SUM':\r\n\t\t\tbreak;\r\n\t\tcase 'MAX':\r\n\t\t\tbreak;\r\n\t\tcase 'DATE':\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\treturn r;\r\n\t}\r\n\t\r\n\tif (node)\r\n\t{\r\n\t\tthis.parseMeasure(node);\r\n\t}\r\n}\r\n\r\nIG$.multimeasure = $s.extend(IG$.v$pnl, {\r\n\t// title: 'Make item',\r\n\tmodal: true,\r\n\tregion:'center',\r\n\tlayout: 'vbox',\r\n\tlayoutConfig: {\r\n\t\talign: 'stretch'\r\n\t},\r\n\tclosable: true,\r\n\tresizable:false,\r\n\twidth: 400,\r\n\theight: 500,\r\n\tuid: null,\r\n\tcubeuid: null,\r\n\t\r\n\tparentnodepath: null,\r\n\titemtype: null,\r\n\tparentuid: null,\r\n\t\r\n\tmeasureObj: null,\r\n\tselectCombo: null,\r\n\t\r\n\tdefaults:{autoHeight:true, bodyStyle:'padding:10px'},\r\n\t\r\n\tpivotSelectionChangedHandler: function(selvalue) {\r\n\t\tthis.measureObj.measuretype = selvalue;\r\n\t\tthis.resetMeasureUI();\r\n\t},\r\n\t\r\n\tmetricSelectedHandler: function(item) {\r\n\t\tthis.measureObj.baseItem = item;\r\n\t\tthis.baseItemField1.setValue(this.measureObj.baseItem.nodepath);\r\n\t},\r\n\t\r\n\tinitComponent : function() {\r\n\t\tvar panel = this;\r\n\r\n\t\tpanel.title = IRm$.r1(\"L_MULTI_MEASURE\");\r\n\t\t\r\n\t\tthis.baseItemField1 = new Ext.form.TextField({\r\n\t\t\tname: 'fmetric',\r\n\t\t\tallowBlank: false\r\n\t\t});\r\n\t\t\r\n\t\tthis.stabcontainer = new Ext.Container({\r\n\t\t\t\tflex: 3,\r\n\t\t\t\tlayout: 'card',\r\n\t\t\t\titems: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlayout: 'fit',\r\n\t\t\t\t\t\tlayoutConfig: {\r\n\t\t\t\t\t\t\talign: 'stretch'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\titems: [{\r\n\t\t\t\t\t\t\txtype: 'fieldcontainer',\r\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_METRIC\"),\r\n\t\t\t\t\t\t\titems: [this.baseItemField1, {\r\n\t\t\t\t\t\t\t\txtype: 'button',\r\n\t\t\t\t\t\t\t\ttext: \"..\",\r\n\t\t\t\t\t\t\t\thandler:function() {\r\n\t\t\t\t\t\t\t\t\tvar dlgitemsel = new IG$.metaSelectDlg({\r\n\t\t\t\t\t\t\t\t\t\ttree_options: {\r\n\t\t\t\t\t\t\t\t\t\t\tcubebrowse: true,\r\n\t\t\t\t\t\t\t\t\t\t\trootuid: panel.cubeuid\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tdlgitemsel.callback = new IG$.callBackObj(panel, panel.metricSelectedHandler);\r\n\t\t\t\t\t\t\t\t\tIG$.checkLogin(this, dlgitemsel);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tscope: this\r\n\t\t\t\t\t\t\t}]\r\n\t\t\t\t\t\t}],\r\n\t\t\t\t\t\thidden: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Sum of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Max of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\thtml: 'Date of measure type',\r\n\t\t\t\t\t\thidden: true\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t});\r\n\r\n\t\t$s.apply(this, {\r\n\t\t\titems: [\r\n\t\t\t\t{\r\n\t\t\t\t\tflex: 1,\r\n\t\t\t\t\theight: 40,\r\n\t\t\t\t\titems: [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\thtml: '<div class=\"pivotSelect\">Measure type:</div>',\r\n\t\t\t\t\t\t\tborder: false,\r\n\t\t\t\t\t\t\tlisteners: {\r\n\t\t\t\t\t\t\t\tafterlayout: function(ui) {\r\n\t\t\t\t\t\t\t\t\tui.addPivotSelectHandler.call(ui);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tselectBoxAdded: false,\r\n\t\t\t\t\t\t\taddPivotSelectHandler: function() {\r\n\t\t\t\t\t\t\t\tif (this.selectBoxAdded == false)\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tvar container = $(\".pivotSelect\", panel.body.dom),\r\n\t\t\t\t\t\t\t\t\t\tselect = $('<select name=\"pivotSelect\">'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"COUNT\">Count Metric</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"SUM\">Sum data</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"MAX\">Max data</option>'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t+ '<option value=\"DATE\">Date Measure</option></select>');\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tselect.change(function() {\r\n\t\t\t\t\t\t\t\t\t\tpanel.pivotSelectionChangedHandler.call(panel, this.value);\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tselect.appendTo(container);\r\n\t\t\t\t\t\t\t\t\tthis.selectBoxAdded = true;\r\n\t\t\t\t\t\t\t\t\tpanel.selectCombo = select;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}, this.stabcontainer\r\n\t\t\t],\r\n\t\t\ttbar: [\r\n\t\t\t\t{\r\n\t\t\t\t\ticonCls: 'icon-expand-all',\r\n\t\t\t\t\ttooltip: 'Save Content',\r\n\t\t\t\t\thandler: function(){\r\n\t\t\t\t\t\tthis.storeContent.call(this);\r\n\t\t\t\t\t},\r\n\t\t\t\t\tscope: this\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\r\n\t\t\tstoreContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\tvar xdoc = panel.measureObj.getMeasureXML();\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"writecontent\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: xdoc\r\n\t\t\t\t\t}, panel, panel.rs_storeContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_storeContent: function (xdoc) {\r\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trefreshContent: function() {\r\n\t\t\t\tvar panel = this;\r\n\t\t\t\t\r\n\t\t\t\tvar req = new IG$._rpc$();\r\n\t\t\t\treq.init(panel, \r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tack: \"content\",\r\n\t\t\t\t\t\tpayload: {uid: panel.uid},\r\n\t\t\t\t\t\tmbody: {}\r\n\t\t\t\t\t}, panel, panel.rs_refreshContent, null);\r\n\t\t\t\treq.send();\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trs_refreshContent: function (xdoc) {\r\n\t\t\t\tpanel.measureObj = new CMolapMeasure(xdoc);\r\n\t\t\t\tpanel.resetMeasureUI.call(panel);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tresetMeasureUI: function() {\r\n\t\t\t\tthis.selectCombo[0].value = this.measureObj.measuretype;\r\n\t\t\t\tvar selvalue = this.measureObj.measuretype;\r\n\t\t\t\tvar tindex = 0;\r\n\t\t\t\tswitch (selvalue)\r\n\t\t\t\t{\r\n\t\t\t\tcase 'COUNT':\r\n\t\t\t\t\ttindex = 0;\r\n\t\t\t\t\tif (this.measureObj.baseItem)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.baseItemField1.setValue(this.measureObj.baseItem.nodepath);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'SUM':\r\n\t\t\t\t\ttindex = 1;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'MAX':\r\n\t\t\t\t\ttindex = 2;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 'DATE':\r\n\t\t\t\t\ttindex = 3;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tvar stab = this.stabcontainer;\r\n\t\t\t\tfor (i=0; i < stab.items.items.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tstab.items.items[i].setVisible((i == tindex ? true : false));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tIG$.multimeasure.superclass.initComponent.apply(this, arguments);\r\n\t}\r\n});","IG$._udgeditor = $s.extend($s.window, {\n\t\n\tmodal: false,\n\tisWindow: true,\n\tregion:'center',\n\t\"layout\": {\n\t\ttype: 'fit',\n\t\talign: 'stretch'\n\t},\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 500,\n\theight: 460,\n\t\n\tcallback: null,\n\t\n\t_init: function() {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\t\n\t\tif (me.uid)\n\t\t{\n\t\t\treq.init(me, \n\t\t\t\t{\n\t\t\t\t\tack: \"content\",\n\t\t\t\t\tpayload: {uid: this.uid},\n\t\t\t\t\tmbody: {option: \"diagnostics\"}\n\t\t\t\t}, me, me.rs_loadCnt, null);\n\t\t\treq.send();\n\t\t}\n\t\telse if (me.parentuid)\n\t\t{\n\t\t\tme.clItem = {};\n\t\t\tme.rs_loadCnt();\n\t\t}\n\t},\n\t\n\trs_loadCnt: function(jdoc) {\n\t\tvar me = this,\n\t\t\tcitem;\n\t\t\n\t\tif (jdoc)\n\t\t{\n\t\t\tme.clItem = jdoc.content;\n\t\t}\n\t\t\n\t\tcitem = me.clItem;\n\t\t\n\t\tcitem.rel_items = citem.rel_items || [];\n\t\tcitem.groupdata = citem.groupdata || [];\n\t\t\n\t\tme.down(\"[name=itemname]\").setValue(citem.name || \"\");\n\t\tme.down(\"[name=description]\").setValue(citem.description || \"\");\n\t\t\n\t\tvar targetitem = me.down(\"[name=targetitem]\"),\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tusesum = me.down(\"[name=usesum]\"),\n\t\t\texpandall = me.down(\"[name=expandall]\"),\n\t\t\tothervalues = me.down(\"[name=othervalues]\");\n\t\t\t\n\t\ttargetitem.setValue(citem.rel_items.length ? citem.rel_items[0].name : \"\");\n\t\tusesum.setValue(citem.usesum);\n\t\texpandall.setValue(citem.expandall);\n\t\tothervalues.setValue(citem.othervalues);\n\t\tme._updateTreeNode(citem.groupdata);\n\t\tme._getBO();\n\t},\n\t\n\t_getBO: function() {\n\t\tvar me = this;\n\t\t\t\n\t\tIG$.getParentCube.call(me, me.uid, me.parentuid, new IG$.callBackObj(me, function(jdoc) {\n\t\t\tme.rs_getBO(jdoc);\n\t\t}));\n\t},\n\t\n\trs_getBO: function(jdoc) {\n\t\tvar tnode = jdoc && jdoc.length ? jdoc[0] : null,\n\t\t\tcnode;\n\t\t\n\t\tif (tnode)\n\t\t{\n\t\t\tthis.cubeuid = tnode.uid;\n\t\t}\n\t},\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tclItem = me.clItem,\n\t\t\txdoc, i,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tusesum = me.down(\"[name=usesum]\"),\n\t\t\texpandall = me.down(\"[name=expandall]\"),\n\t\t\tstore = udgtree.store,\n\t\t\troot = store.getRootNode(),\n\t\t\titem;\n\t\t\n\t\tif (!IG$.checkFields(me, [\"itemname\"]))\n\t\t\treturn;\n\t\t\n\t\tclItem.meta_type = \"udg_dimension\";\n\t\tclItem.name = me.down(\"[name=itemname]\").getValue();\n\t\tclItem.description = me.down(\"[name=description]\").getValue();\n\t\t\n\t\tclItem.groupdata = [];\n\t\tclItem.usesum = usesum.getValue();\n\t\tclItem.expandall = expandall.getValue();\n\t\tclItem.othervalues = me.down(\"[name=othervalues]\").getValue();\n\t\tme._updateStoreTree(root, clItem.groupdata);\n\t\tme._save(me.uid, clItem);\n\t},\n\t\n\t_save: function(uid, doc) {\n\t\tvar me = this,\n\t\t\treq = new IG$._rpc$();\n\t\treq.init(me, \n\t\t\t{\n\t\t\t\tack: \"writecontent\",\n\t\t\t\tpayload: {uid: me.uid, pid: me.parentuid, name: doc.name, description: doc.description, type: me.itemtype, nodepath: (me.parentnodepath ? me.parentnodepath + \"/\" + doc.name : null)},\n\t\t\t\tmbody: doc,\n\t\t\t\tmeta_type: \"udg_dimension\"\n\t\t\t}, me, function(jdoc) {\n\t\t\t\tIG$.alertmsg(ig$.appname, IRm$.r1('M_SAVED'), null, null, 0, \"success\");\n\t\t\t\tme.callback && me.callback.execute(me.clItem);\n\t\t\t\tme.close();\n\t\t\t}, null);\n\t\treq.send();\n\t},\n\t\n\t_appendSel: function() {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store,\n\t\t\tselmodel = udgtree.getSelectionModel(),\n\t\t\tpvaluedesc, pvalues,\n\t\t\tsel, ncell, i, nname, nmax = 0, cname;\n\t\t\n\t\tif (selmodel.selected.items.length > 0)\n\t\t{\n\t\t\tsel = selmodel.selected.items[0];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tsel = udgtree.getRootNode();\n\t\t}\n\t\t\n\t\tpvaluedesc = sel.get(\"valuedesc\");\n\t\tpvalues = sel.get(\"values\");\n\t\t\n\t\tsel.set(\"valuedesc\", \"\");\n\t\tsel.set(\"values\", null);\n\t\tsel.set(\"leaf\", false);\n\t\t\n\t\tnname = \"new item \";\n\t\t\n\t\tfor (i=0; i < sel.childNodes.length; i++)\n\t\t{\n\t\t\tcname = sel.childNodes[i].get(\"name\");\n\t\t\tif (cname.substring(0, nname.length) == nname)\n\t\t\t{\n\t\t\t\tcname = cname.substring(nname.length);\n\t\t\t\tcname = Number(cname);\n\t\t\t\tif (isNaN(cname) == false)\n\t\t\t\t{\n\t\t\t\t\tnmax = Math.max(nmax, Number(cname) + 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tnname += nmax;\n\t\t\n\t\tncell = {\n\t\t\tname: nname,\n\t\t\tvalues: pvalues || null,\n\t\t\tvaluedesc: pvaluedesc || \"\",\n\t\t\tleaf: true,\n\t\t\tchecked: false\n\t\t};\n\t\tsel.appendChild(ncell);\n\t\tsel.expand();\n\t},\n\t\n\t_removeSel: function() {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store,\n\t\t\troot = store.getRootNode(),\n\t\t\ti;\n\t\t\t\n\t\tme._removeSelRow(root);\n\t},\n\t\n\t_updateTreeNode: function(data) {\n\t\tvar me = this,\n\t\t\titem = this.clItem,\n\t\t\tudgtree = this.down(\"[name=udgtree]\"),\n\t\t\ttreedata = {\n\t\t\t\tname: \"User defined group\",\n\t\t\t\texpanded: true,\n\t\t\t\tleaf: false,\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t\n\t\tme._buildNode(treedata.children, data || []);\n\t\tudgtree.store.setRootNode(treedata);\n\t\tudgtree.store.getRootNode().expand();\n\t},\n\t\n\t_buildNode: function(tarray, data) {\n\t\tvar me = this,\n\t\t\ti, j, udgtype,\n\t\t\tdt,\n\t\t\tdfilter,\n\t\t\trec, dval,\n\t\t\tvaluedesc;\n\t\t\n\t\tfor (i=0; i < data.length; i++)\n\t\t{\n\t\t\tdfilter = data[i];\n\t\t\trec = {\n\t\t\t\tftype: dfilter.ftype,\n\t\t\t\tudgtype: dfilter.udgtype,\n\t\t\t\tname: dfilter.name,\n\t\t\t\tvalues: dfilter.values\n\t\t\t};\n\t\t\t\n\t\t\tvaluedesc = \"\";\n\t\t\t\n\t\t\tif (!dfilter.children || (dfilter.children && dfilter.children.length == 0))\n\t\t\t{\n\t\t\t\tif (dfilter.values && dfilter.values.length)\n\t\t\t\t{\n\t\t\t\t\tfor (j=0; j < dfilter.values.length; j++)\n\t\t\t\t\t{\n\t\t\t\t\t\tudgtype = dfilter.values[j].udgtype;\n\t\t\t\t\t\t\n\t\t\t\t\t\tif (udgtype == \"formula\")\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvaluedesc = dfilter.values[j].code;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tdval = dfilter.values[j].value || dfilter.values[j].code || \"\";\n\t\t\t\t\t\t\tvaluedesc += (valuedesc ? \",\" : \"\") + dval;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\trec.valuedesc = valuedesc;\n\t\t\t\n\t\t\tif (dfilter.children && dfilter.children.length)\n\t\t\t{\n\t\t\t\trec.children = [];\n\t\t\t\tme._buildNode(rec.children, dfilter.children);\n\t\t\t}\n\t\t\t\n\t\t\ttarray.push(rec);\n\t\t}\n\t},\n\t\n\t_updateStoreTree: function(unode, arr) {\n\t\tvar me = this,\n\t\t\ti,\n\t\t\tnode,\n\t\t\tcell,\n\t\t\tmvalue;\n\t\t\n\t\tfor (i=0; i < unode.childNodes.length; i++)\n\t\t{\n\t\t\tnode = unode.childNodes[i];\n\t\t\tcell = {\n\t\t\t\tname: node.get(\"name\"),\n\t\t\t\tftype: (node.childNodes && node.childNodes.length) ? \"group\" : \"condition\",\n\t\t\t\toperator: \"IN\",\n\t\t\t\tvaluetype: node.get(\"valuetype\"),\n\t\t\t\tvalues: node.get(\"values\")\n\t\t\t};\n\t\t\tarr.push(cell);\n\t\t\tif (node.childNodes && node.childNodes.length > 0)\n\t\t\t{\n\t\t\t\tcell.children = [];\n\t\t\t\tme._updateStoreTree(node, cell.children);\n\t\t\t}\n\t\t}\n\t},\n\t\n\t_removeSelRow: function(root) {\n\t\tvar me = this,\n\t\t\ti,\n\t\t\tnode, pnode, gname, m;\n\t\t\n\t\tfor (i=root.childNodes.length-1; i>=0; i--)\n\t\t{\n\t\t\tnode = root.childNodes[i];\n\t\t\tif (node.get(\"checked\") == true)\n\t\t\t{\n\t\t\t\troot.removeChild(node);\n\t\t\t}\n\t\t\telse if (node.childNodes && node.childNodes.length > 0)\n\t\t\t{\n\t\t\t\tme._removeSelRow(node);\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (root.isRoot() == false && root.hasChildNodes() == false)\n\t\t{\n\t\t\tpnode = root.parentNode;\n\t\t\tgname = root.get(\"name\");\n\t\t\tm = 0;\n\t\t\tfor (i=0; i < pnode.childNodes.length; i++)\n\t\t\t{\n\t\t\t\tif (pnode.childNodes[i] == root)\n\t\t\t\t{\n\t\t\t\t\tm = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tpnode.insertChild(m, {\n\t\t\t\tname: gname,\n\t\t\t\tvalues: null,\n\t\t\t\tvaluedesc: \"\",\n\t\t\t\tleaf: true,\n\t\t\t\tchecked: false\n\t\t\t});\n\t\t\tpnode.removeChild(root, false, false, false);\n\t\t}\n\t},\n\t\n\t_selItem: function(fieldname) {\n\t\tvar me = this,\n\t\t\tdlgitemsel = new IG$.metaSelectDlg({\n\t\t\t\tmultiselect: fieldname == \"customfield\" ? 1 : 0,\n\t\t\t\tvisibleItems: fieldname == \"codemap\" ? \"folder;codemap\" : \"userdb;dataset;table;inlineview;metric;custommetric\",\n\t\t\t\ttree_options: {\n\t\t\t\t\tcubebrowse: true,\n\t\t\t\t\trootuid: me.cubeuid\n\t\t\t\t},\n\t\t\t\tcallback: new IG$.callBackObj(me, function(item) {\n\t\t\t\t\tvar me = this;\n\t\t\t\t\tme.clItem.rel_items = [item];\n\t\t\t\t\tme.down(\"[name=\" + fieldname + \"]\").setValue(item.name);\n\t\t\t\t}, fieldname)\n\t\t\t});\n\t\tIG$.checkLogin(me, dlgitemsel);\n\t},\n\t\n\t_updateValues: function(rowindex, record) {\n\t\tvar me = this,\n\t\t\tudgtree = me.down(\"[name=udgtree]\"),\n\t\t\tstore = udgtree.store;\n\t\t\t\n\t\tif (me.clItem && me.clItem.rel_items.length)\n\t\t{\n\t\t\tif (record.isRoot() == false) //  && record.childNodes.length == 0)\n\t\t\t{\n\t\t\t\tvar field = me.clItem.rel_items[0];\n\t\t\t\tvar vs = new IG$.udgValSel({\n\t\t\t\t\tfield: field,\n\t\t\t\t\trec: record,\n\t\t\t\t\tcallback: new IG$.callBackObj(me, me.rs_editFilter, [record])\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tvs.show();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_TGT\"), me); // \"Select target item before change data items.\", this);\n\t\t}\n\t},\n\t\n\t_loadExternal: function() {\n\t\tvar me = this;\n\t\tif (me.clItem && me.clItem.fields)\n\t\t{\n\t\t}\n\t\telse\n\t\t{\n\t\t\tIG$.ShowError(IRm$.r1(\"E_SEL_TGT\"), me); // \"Select target item before loading external data files.\", this);\n\t\t}\n\t},\n\t\n\trs_editFilter: function(val, param) {\n\t\tvar record = param[0],\n\t\t\tvalue = \"\",\n\t\t\tvaluedesc = \"\",\n\t\t\tv,\n\t\t\tselvalues = val.selection,\n\t\t\tselmode = val.selmode,\n\t\t\tsyntax = val.syntax,\n\t\t\ti,\n\t\t\tvalues = [];\n\t\t\n\t\tif (selmode == 2)\n\t\t{\n\t\t\trecord.set(\"udgtype\", \"formula\");\n\t\t\tvalues.push({\n\t\t\t\tcode: syntax\n\t\t\t});\n\t\t\t\n\t\t\tvaluedesc = syntax;\n\t\t}\n\t\telse\n\t\t{\n\t\t\trecord.set(\"udgtype\", \"normal\");\n\t\t\t\n\t\t\tfor (i=0; i < selvalues.length; i++)\n\t\t\t{\n\t\t\t\tv = selvalues[i].code || selvalues[i].text;\n\t\t\t\tvalues.push({\n\t\t\t\t\tcode: selvalues[i].code,\n\t\t\t\t\tvalue: selvalues[i].text\n\t\t\t\t});  \n\t\t\t\tvaluedesc += (i==0) ? v : \",\" + v;\n\t\t\t}\n\t\t}\n\t\t\n\t\trecord.set(\"values\", values);\n\t\trecord.set(\"valuedesc\", valuedesc);\n\t},\n\t\n\tinitComponent : function() {\n\t\tthis.title = IRm$.r1('T_UDG');\n\t\t\t\t \n\t\t$s.apply(this, {\n\t\t\tdefaults:{bodyStyle:'padding:10px'},\n\t\t\t\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: 'panel',\n\t\t\t\t\t\"layout\": {\n\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t},\n\t\t\t\t\t\n\t\t\t\t\tautoScroll: true,\n\t\t\t\t\tpadding: 10,\n\t\t\t\t\t\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"B_GENERAL\"),\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tname: \"itemname\",\n\t\t\t\t\t\t\t\t\t_fasl: 1,\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_NAME\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tname: \"description\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_DESC\"),\n\t\t\t\t\t\t\t\t\theight: 50\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"fieldset\",\n\t\t\t\t\t\t\ttitle: IRm$.r1(\"L_TARGET_OPTIONS\"), // \"Target options\",\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"fieldcontainer\",\n\t\t\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\t\t\ttype: \"hbox\",\n\t\t\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\t\t\tname: \"targetitem\",\n\t\t\t\t\t\t\t\t\t\t\temptyText: IRm$.r1(\"M_SEL_ITEM\"),\n\t\t\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_TARGET_ITEM\"), // Target Metric Item\"\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\t\t\t// text: \"..\",\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-toolbar-search\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_SEARCH\"),\n\t\t\t\t\t\t\t\t\t\t\thandler:function() {\n\t\t\t\t\t\t\t\t\t\t\t\tthis._selItem('targetitem');\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_IMP_FROM_EXCEL\"),\n\t\t\t\t\t\t\t\t\thidden: true,\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tthis._loadExternal();\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_USE_SUM_ON_FOLDER\"),\n\t\t\t\t\t\t\t\t\tname: \"usesum\",\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"checkbox\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_EXPAND_ALL\"),\n\t\t\t\t\t\t\t\t\tname: \"expandall\",\n\t\t\t\t\t\t\t\t\tboxLabel: IRm$.r1(\"B_ENABLE\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_OTHER_VALUES\"),\n\t\t\t\t\t\t\t\t\tname: \"othervalues\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"treepanel\",\n\t\t\t\t\t\t\tname: \"udgtree\",\n\t\t\t\t\t\t\tstore: {\n\t\t\t\t\t\t\t\txtype: \"treestore\",\n\t\t\t\t\t\t\t\tfields: [\n\t\t\t\t\t\t\t\t\t\"gname\", \"values\", \"valuedesc\", \"ctype\", \"syntax\"\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tfolderSort: false\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\thideHeaders: true,\n\t\t\t\t\t\t\trootVisible: true,\n\t\t\t\t\t\t\tuseArrows: true,\n\t\t\t\t\t\t\tmultiSelect: true,\n\t\t\t\t\t\t\tsingleExpand: false,\n\t\t\t\t\t\t\theight: 400,\n\t\t\t\t\t\t\tselModel: \"SINGLE\",\n\t\t\t\t\t\t\ttbar: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\", \n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_ADD\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\tme._appendSel.call(me);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"button\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"B_REMOVE\"),\n\t\t\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\tme._removeSel.call(me);\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tplugins: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tptype: \"cellediting\",\n\t\t\t\t\t\t\t\t\tclicksToEdit: false\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tcolumns: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"treecolumn\",\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_GROUP_NAME\"),\n\t\t\t\t\t\t\t\t\tdataIndex: \"name\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\teditor: {\n\t\t\t\t\t\t\t\t\t\tallowBlank: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttext: IRm$.r1(\"L_VALUES\"),\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tdataIndex: \"valuedesc\"\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"actioncolumn\",\n\t\t\t\t\t\t\t\t\twidth: 50,\n\t\t\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\ticonCls: \"icon-grid-config\",\n\t\t\t\t\t\t\t\t\t\t\ttooltip: IRm$.r1(\"B_CONFIG_ITEM\"),\n\t\t\t\t\t\t\t\t\t\t\thandler: function (grid, rowIndex, colIndex, item, e, record) {\n\t\t\t\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\t\t\t\tme._updateValues(rowIndex, record);\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\tlisteners: {\n\t\t\t\t\t\t\t\tcheckchange: function(node, checked) {\n\t\t\t\t\t\t\t\t\tnode.set(\"chekced\", checked);\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tcelldblclick: function(tobj, td, cellIndex, record, tr, rowIndex, e, eOpts) {\n\t\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\t\tif (record.isRoot() == false && record.hasChildNodes() == true)\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tvar dlg = new IG$.udgGroupName({\n\t\t\t\t\t\t\t\t\t\t\tgname: record.get(\"name\"),\n\t\t\t\t\t\t\t\t\t\t\tcallback: new IG$.callBackObj(this, function(name) {\n\t\t\t\t\t\t\t\t\t\t\t\trecord.set(\"name\", name);\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tdlg.show(this);\n\t\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, {\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(tobj) {\n\t\t\t\t\tvar me = this;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tme._init.call(me);\n\t\t\t\t\t}, 100);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$._udgeditor.superclass.initComponent.apply(this, arguments);\n\t}\n});\n\n\nIG$.udgGroupName = $s.extend($s.window, {\n\t\n\tisWindow: true,\n\tregion:'center',\n\t\"layout\": {\n\t\ttype: 'fit',\n\t\talign: 'stretch'\n\t},\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 230,\n\tautoHeight: true,\n\tmodal: true,\n\t\n\tcallback: null,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tgname = me.down(\"[name=gname]\").getValue();\n\t\t\n\t\tif (!gname)\n\t\t\treturn;\n\t\t\n\t\tme.callback && me.callback.execute(gname);\n\t\t\t\t\t\n\t\tme.close();\n\t},\n\t\n\tinitComponent : function() {\n\t\tthis.title = IRm$.r1('T_UDG');\n\t\t\n\t\t$s.apply(this, {\n\t\t\tdefaults:{bodyStyle:'padding:10px'},\n\t\t\t\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"form\",\n\t\t\t\t\tlayout: \"anchor\",\n\t\t\t\t\tdefaults: {\n\t\t\t\t\t\tanchor: \"100%\"\n\t\t\t\t\t},\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"textfield\",\n\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"L_GROUP_NAME\"), // Group name\",\n\t\t\t\t\t\t\tallowBlank: false,\n\t\t\t\t\t\t\tname: \"gname\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\tvalue: \"Set group name for this subject\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CONFIRM'),\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1('B_CANCEL'),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t],\n\t\t\tlisteners: {\n\t\t\t\tafterrender: function(ui) {\n\t\t\t\t\tthis.down(\"[name=gname]\").setValue(this.gname || \"\");\n\t\t\t\t},\n\t\t\t\tscope: this\n\t\t\t}\n\t\t});\n\t\t\n\t\tIG$.udgGroupName.superclass.initComponent.apply(this, arguments);\n\t}\n});\n\nIG$.udgValSel = $s.extend($s.window, {\n\tmodal: true,\n\tregion:'center',\n\t\"layout\": 'card',\n\t\n\tclosable: false,\n\tresizable:false,\n\twidth: 500,\n\theight: 400,\n\t\n\tfield: null,\n\t\n\tcallback: null,\n\tselmode: 0,\n\t\n\t_confirm: function() {\n\t\tvar me = this,\n\t\t\tseldatas = [],\n\t\t\ti;\n\t\t\n\t\tif (me.selmode == 0)\n\t\t{\n\t\t\tvar sgrid = this.down(\"[name=_2]\"),\n\t\t\t\tselected = sgrid.store.data.items\n\t\t\t\n\t\t\tif (selected && selected.length > 0)\n\t\t\t{\n\t\t\t\tfor (i=0; i < selected.length; i++)\n\t\t\t\t{\n\t\t\t\t\tseldatas.push(selected[i].data);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (me.selmode == 1)\n\t\t{\n\t\t\tvar sinp = me.down(\"[name=txtselvalues]\"),\n\t\t\t\tsel = sinp.getValue(),\n\t\t\t\tselected;\n\t\t\t\t\n\t\t\tif (sel)\n\t\t\t{\n\t\t\t\tselected = sel.split(\";\");\n\t\t\t\tfor (i=0; i < selected.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (selected[i])\n\t\t\t\t\t{\n\t\t\t\t\t\tseldatas.push({\n\t\t\t\t\t\t\tcode: selected[i],\n\t\t\t\t\t\t\ttext: selected[i]\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (me.selmode == 2)\n\t\t{\n\t\t}\n\t\t\n\t\tthis.callback && this.callback.execute({\n\t\t\tselmode: me.selmode,\n\t\t\tsyntax: me.down(\"[name=_s1]\").getValue(),\n\t\t\tselection: seldatas\n\t\t});\n\t\t\n\t\tme.close();\n\t},\n\t\n\t_init: function() {\n\t\tvar me = this,\n\t\t\trec = me.rec,\n\t\t\tsmode = 0,\n\t\t\t_s1 = me.down(\"[name=_s1]\");\n\t\t\t\n\t\tif (rec)\n\t\t{\n\t\t\tif (rec.get(\"udgtype\") == \"formula\")\n\t\t\t{\n\t\t\t\tsmode = 2;\n\t\t\t\t_s1.setValue(rec.get(\"syntax\"));\n\t\t\t}\n\t\t}\n\t\t\n\t\tme._viewmode(smode);\n\t},\n\t\n\t_viewmode: function(smode) {\n\t\tvar me = this,\n\t\t\t_mpanel = me.down(\"[name=_mpanel]\"),\n\t\t\tp = _mpanel.getLayout(),\n\t\t\tstext;\n\t\t\n\t\tme.selmode = smode;\n\t\tp.setActiveItem(me.selmode);\n\t},\n\t\n\tinitComponent : function() {\n\t\tvar _$valsel = new IG$.d$ValSel({\n\t\t\tsheetoption: this.sheetoption,\n\t\t\tprompt: this.prompt,\n\t\t\tfield: this.field\n\t\t});\n\t\t\n\t\tthis.title = IRm$.r1(\"T_VALUE_SELECT\");\n\t\t\t\t \n\t\t$s.apply(this, {\n\t\t\tdefaults:{bodyStyle:'padding:10px'},\n\t\t\t\n\t\t\titems: [\n\t\t\t\t{\n\t\t\t\t\txtype: \"panel\",\n\t\t\t\t\tlayout: \"card\",\n\t\t\t\t\tname: \"_mpanel\",\n\t\t\t\t\ttbar: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_COMBO_VAL\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(0);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_CUST_VAL\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(1);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttext: IRm$.r1(\"B_FORMULA\"),\n\t\t\t\t\t\t\thandler: function() {\n\t\t\t\t\t\t\t\tvar me = this;\n\t\t\t\t\t\t\t\tme._viewmode(2);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscope: this\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\titems: [\n\t\t\t\t\t\t_$valsel,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"form\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"displayfield\",\n\t\t\t\t\t\t\t\t\tvalue: IRm$.r1(\"L_CVAL_DESC\")\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tfieldLabel: IRm$.r1(\"B_VALUES\"),\n\t\t\t\t\t\t\t\t\tname: \"txtselvalues\",\n\t\t\t\t\t\t\t\t\tflex: 1\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\txtype: \"panel\",\n\t\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\t\ttype: \"vbox\",\n\t\t\t\t\t\t\t\talign: \"stretch\"\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\titems: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\txtype: \"textarea\",\n\t\t\t\t\t\t\t\t\tflex: 1,\n\t\t\t\t\t\t\t\t\tname: \"_s1\"\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t],\n\t\t\tbuttons:[\n\t\t\t\t'->',\n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CONFIRM\"),\n\t\t\t\t\thandler: function() {\n\t\t\t\t\t\tthis._confirm();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}, \n\t\t\t\t{\n\t\t\t\t\ttext: IRm$.r1(\"B_CANCEL\"),\n\t\t\t\t\thandler:function() {\n\t\t\t\t\t\tthis.close();\n\t\t\t\t\t},\n\t\t\t\t\tscope: this\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\t\t\n\t\tIG$.udgValSel.superclass.initComponent.apply(this, arguments);\n\t},\n\tlisteners: {\n\t\tafterrender: function(tobj) {\n\t\t\ttobj._init.call(tobj);\n\t\t}\n\t}\n});"]}