var hist,lastHist;IG$.historyManager=function(){this.addHistory=function(e){unFocus.History.addHistory(e)},this.hasMenu=function(){var e=unFocus.History.getCurrent();if(e&&""!=e){var n,i,a,t,o,s,l,r=e.split("&");for(a=0;a<r.length;a++)if((s=(l=r[a]).indexOf("="))>0)switch(t=l.substring(0,s),o=l.substring(s+1),t){case"lang":break;case"p1":n=o;break;case"p2":i=o}if(n&&i)return!0}return!1},this.historyListener=function(){var e=unFocus.History.getCurrent();return null!=e&&""!=e&&IG$.dlgLogin.logininfo&&IG$.navigateMenu(e),e},unFocus.History.addEventListener("historyChange",this.historyListener)},IG$.navigateMenu=function(e){if(e&&e.length>0&&lastHist!=e){if(IG$.checkUID(e))i=e;else{var n,i,a,t,o,s,l,r=e.split("&");for(a=0;a<r.length;a++)if((s=(l=r[a]).indexOf("="))>0)switch(t=l.substring(0,s),o=l.substring(s+1),t){case"lang":break;case"p1":n=o;break;case"p2":i=o}}i&&IG$.navigateMenuByUID(i,n)}},IG$.navigateMenuByUID=function(e,n,i,a){var t=new IG$._rpc$;t.init(null,{ack:"helpcontent",payload:{uid:e},mbody:{option:"translate"}},null,(function(e){var t=e[0],o=t.uid,s=t.type.toLowerCase(),l=t.locale_name||t.name,r=t.nodepath,c=t.manage||t.writable,d=!1;if("dashboard"==s&&"dashboardedit"==n?s=n:"export"==s&&(d=!0,s="report"),1==d){var p=$(document),m=$("#main"),u={renderTo:m[0],minHeight:p.height(),address:r,closable:!1,_ts_:!1,hiddenstatusbar:!0,hiddentoolbar:!0,header:!1,title:IG$.getTabTitle(l)};pitem=IG$.createAppPanel(o,s,l,r,c,u),pitem.on({_lc0:function(){},_lc1:function(){var e=pitem.calcSize.call(pitem);pitem.setSize(e.width,e.height)},resize:function(e,n,i,a,t,o){var s=$(document.body);IG$.j$ext._w(m,n),IG$.j$ext._h(m,i),IG$.j$ext._w(s,n),IG$.j$ext._h(s,i)}}),pitem.updateLayout(),pitem.setSize(p.width(),p.height()),m.css({minHeight:p.height()+"px"})}else IG$.mainPanel.navigateApp.call(IG$.mainPanel,o,s,l,r,void 0===a||a,c,null,i)}),null),t.send()},IG$.$ap={_init_home:function(e){},_init_report_lists:function(e){var n=e,i=$("#report_lists",e._page);(function(){i.empty();var e=new IG$._rpc$;e.init(n,{ack:"helpcontent",payload:{uid:null},mbody:{option:"search",typelist:"Report",pid:"2eaa0e1f-3ee446c4"}},n,(function(e){var n=e.children;n&&$.each(n,(function(e,n){var a=['<div class="faq-item">','        <div class="row">','            <div class="col-md-7">','                <a data-toggle="collapse" href="" class="faq-question">'+n.name+"</a>","                <small>Added by <strong>"+n.modifier+'</strong> <i class="fa fa-clock-o"></i> '+n.updatedatefm+"</small>","            </div>",'            <div class="col-md-3">','                <span class="small font-bold">'+n.owner+"</span>",'                <div class="tag-list">','                    <span class="tag-item">General</span>','                    <span class="tag-item">License</span>',"                </div>","            </div>",'            <div class="col-md-2 text-right">','                <span class="small font-bold">Voting </span><br/>',"                42","            </div>","        </div>",'        <div class="row">','            <div class="col-lg-12">','                <div id="faq1" class="panel-collapse collapse ">','                    <div class="faq-answer">',"                        <p>","                            "+n.description,"                        </p>","                    </div>","                </div>","            </div>","        </div>","    </div>"].join("\n"),t=$(a).appendTo(i);$("a",t).bind("click",(function(e){e.stopPropagation(),e.preventDefault(),IG$.changeApp(6,n)}))}))}),!1),e.send()})()},_load_report:function(e,n){var i,a,t=e,o=$("#reports_tab",e._page);t._reports=t._reports||{},t._reports[n.uid]&&(i=t._reports[n.uid]),i||(a=$("<div></div>").appendTo(o),n.target_div=a,i=new IG$.report(n),t._reports[n.uid]=i),$.each(t._reports,(function(e,i){e==n.uid?i.show():i.hide()}))},_init_board:function(e,n,i){var a=e,t=$("#t_bbs",e._page),o=new IG$._rpc$;t.empty(),n&&($("#btn_write",e._page).bind("click",(function(e){e.preventDefault(),e.stopPropagation(),IG$.changeApp(7)})),$("#btn_refresh",e._page).bind("click",(function(n){n.preventDefault(),n.stopPropagation(),IG$.$ap._init_board(e,!1)}))),o.init(a,{ack:"bbs",payload:{option:"list"},mbody:{}},a,(function(e){})),o.send()},_init_board_write:function(e,n){n&&($("#frm_bbs_write",e._page).submit((function(e){return e.preventDefault(),!1})),$("#btn_cancel",e._page).bind("click",(function(e){e.preventDefault(),e.stopPropagation(),IG$.changeApp(3)})),$(".summernote",e._page).summernote({placeholder:"write here...",disableResizeEditor:!0,height:400}))}},IG$.changeApp=function(e,n,i){var a=ig$.mainmenu.mainmenu,t=$("#tab_wrapper");$.each(a,(function(a,o){if(a==e){if(!o._page){var s=new IG$.callBackObj(this,(function(i){o._page=$(i).appendTo(t),IG$._cmn_ctrl(o._page),IG$.changeApp(e,n,!0)}));return void IG$._load_html(o.template+"?lang="+window.useLocale,s)}switch(o._page.show(),console.log("process id ",a),a){case 0:IG$.$ap._init_home(o);break;case 1:case 2:break;case 3:IG$.$ap._init_board(o,i);break;case 4:IG$.$ap._init_report_lists(o);break;case 6:IG$.$ap._load_report(o,n);break;case 7:IG$.$ap._init_board_write(o,i)}}else o._page&&o._page.hide()}))},IG$.$loadApp=function(e){IG$.viewport;var n,i,a,t=ig$.mainmenu.mainmenu;parseInt($.cookie("lmopt_w"));if(ig$.$l_=ig$.$l_||0,IG$.__1m||1==IG$.__ep)setTimeout((function(){$("#loading").fadeOut({complete:function(){$(this).remove()}}),$("#loading-mask").fadeOut({complete:function(){$(this).remove()}})}),IG$.__ep?0:100);else{if((e=e||{}).mainview=n=e.mainview||{},n.appmenu=i=n.appmenu||{},n.navitab=n.navitab||{},n.navitree=n.navitree||{},ig$.app_tmpl=e,ig$.theme_id&&(ig$.echarts_theme=ig$.theme_id),IG$.__ep=n.appmenu.printmode,IG$.__ep_m=n.appmenu.runmode?n.appmenu.runmode:0,!i.m_explorer&&t)for(a=0;a<t.length;a++)if("ig_mnav"==t[a].acls){t.splice(a,1);break}setTimeout((function(){$("#loading").fadeOut({complete:function(){$(this).remove()}}),$("#loading-mask").fadeOut({complete:function(){$(this).remove()}}),IG$.__ep_l&&IG$.navigateMenuByUID(IG$.__ep_l,void 0,void 0,!1)}),IG$.__ep?0:50)}},IG$._init_dw_app=function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var n=$("nav.navbar-default").height(),i=$("#page-wrapper").height();n>i&&$("#page-wrapper").css("min-height",n+"px"),n<i&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(n>i?$("#page-wrapper").css("min-height",n+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(document).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$(".close-canvas-menu").on("click",(function(){$("body").toggleClass("mini-navbar")})),$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9}),$(".right-sidebar-toggle").on("click",(function(){$("#right-sidebar").toggleClass("sidebar-open")})),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").on("click",(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")})),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").on("click",(function(){var e=$(this).find("i"),n=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),n.toggleClass("todo-completed"),!1})),$(".navbar-minimalize").on("click",(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()})),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),e(),$(window).bind("load",(function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})})),$(window).scroll((function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")})),$(window).bind("load resize scroll",(function(){$("body").hasClass("body-small")||e()})),$("[data-toggle=popover]").popover(),IG$._cmn_ctrl($(document))},IG$._cmn_ctrl=function(e){$(".collapse-link",e).on("click",(function(){var e=$(this).closest("div.ibox"),n=$(this).find("i");e.find("div.ibox-content").slideToggle(200),n.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout((function(){e.resize(),e.find("[id^=map-]").resize()}),50)})),$(".close-link",e).on("click",(function(){$(this).closest("div.ibox").remove()})),$(".fullscreen-link",e).on("click",(function(){var e=$(this).closest("div.ibox"),n=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),n.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout((function(){$(window).trigger("resize")}),100)})),$(".full-height-scroll",e).slimscroll({height:"100%"})},$s.ready((function(){$("#lpt","#loading").css("width","80%"),ig$.$l_m=1,webix.ui.fullScreen(),webix.env.touch||webix.CustomScroll.init(),IRm$.r2({func:function(){$("#lpt","#loading").css("width","100%"),setTimeout((function(){var e;IG$.loadExtend.rcsloaded=!0,IG$.mainPanel=new IG$.MainPanel({name:"_I7d"}),IG$.mainPanel.on("tabchange",(function(e,n){})),e={closeText:IRm$.r1("L_C_CLOSE"),prevText:IRm$.r1("L_C_PREV"),nextText:IRm$.r1("L_C_NEXT"),currentText:IRm$.r1("L_C_CUR"),monthNames:IRm$.r1("L_C_M_NAMES").split("#"),monthNamesShort:IRm$.r1("L_C_M_NAMES_S").split("#"),dayNames:IRm$.r1("L_C_D_NAMES").split("#"),dayNamesShort:IRm$.r1("L_C_D_NAMES_S").split("#"),dayNamesMin:IRm$.r1("L_C_D_NAMES_M").split("#"),weekHeader:IRm$.r1("L_C_W_H"),firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:IRm$.r1("L_C_YR_SFX"),c1disp:"yyyy-mm-dd",c1format:"yy-mm-dd",c2disp:"yyyy-mm",c2format:"yy-mm"},$.datepicker.setDefaults(e),IG$.calendar_locale=e,IG$.m_explorer=null,$.each(IG$.loadExtend.items,(function(e,n){IG$.extend(n.name,n.base,n.option)})),$.each(IG$.filteropcodes,(function(e,n){var i=n.lcode;n.locale=IRm$.r1(i)}));var n=$.cookie("lui")||"";IG$.createLoginPanel(n,"",!0),IG$.loadMapData(),IG$._init_dw_app();var i=new IG$._rpc$;i.init(null,{ack:"helpcontent",payload:{},mbody:{option:"ls",mts:window.m$mts||"ROOT",lang:window.useLocale||""}},null,(function(e){var n=!1;if(e.uuid){if(n=!0,IG$.dlgLogin.callback=new IG$.callBackObj(this,IG$.showLoginProc),IG$.dlgLogin.uuid=e.uuid,IG$.dlgLogin.mts={sid:e.mts,name:e.mts_name},IG$._g$a=IG$.dlgLogin.mts.sid,window.m$mts&&IG$.dlgLogin.mts.name!=window.m$mts&&IG$.dlgLogin.mts.sid!=window.m$mts)return void IG$.showLogout(new IG$.callBackObj(this,IG$.showLoginProc));IG$.dlgLogin.lastLogin=e,IG$.mainPanel&&IG$.mainPanel.updateLoginInfo.call(IG$.mainPanel),IG$.dlgLogin.getUserDetail.call(IG$.dlgLogin,!1),(hist=new IG$.historyManager).historyListener(),"function"==typeof window.callPhantom&&window.callPhantom({_proc:"C"})}0==n&&IG$.showLogin(new IG$.callBackObj(this,IG$.showLoginProc),0)}),(function(e){return IG$.showLogin(new IG$.callBackObj(this,IG$.showLoginProc),0),!0})),i.send()}),IG$.__ep?10:30)}})})),IG$._n5=function(){var e=ig$.session,n=60*ig$.session_expire,i=!1,a=-1;e&&($(document).bind("mousemove",(function(){e.count=0,0==i&&(a>-1&&(clearTimeout(a),a=-1),a=setTimeout((function(){i=!0;var n=new IG$._rpc$;n.init(null,{ack:"helpcontent",payload:{mode:"write"},mbody:{option:"wake"}},null,(function(n){i=!1,e.count=0}),null),n.send()}),2e3))})),e.timer=setInterval((function(){var i,a=n-e.count,t="",o=0;i=a>60?a-60*(o=Math.floor(a/60)):a,t=o>0?o+" min "+i+" sec":i+" sec",a<300?e.text.addClass("warn-sess-timer"):e.text.removeClass("warn-sess-timer"),e.text.html(t),a<0&&(clearInterval(e.timer),IG$.showLogout(new IG$.callBackObj(this,IG$.showLoginProc))),e.count+=1}),1e3))},IG$.refreshMessages=function(){var e=new IG$._rpc$;e.init(null,{ack:"helpcontent",payload:{mode:"read"},mbody:{option:"rsn",readmode:0}},null,IG$.rs_refreshMessages,(function(e){return!0})),e.showerror=!1,e.send()},IG$.rs_refreshMessages=function(e){var n,i,a,t,o=$("#chatsublist"),s=IG$.XGetNode(e,"/smsg"),l=IG$.XGetChildNodes(s);if(!(l&&l.length>0&&IG$.L_SPPL&&(a=IG$.XGetAttrProp(l[0])).msgid==IG$.L_SPPL)&&(o.empty(),o.append($("<li class='view'><span><a href='javascript:f$7(\"CMD_RSN\")'>Write Message</a></span></li>")),l&&l.length>0))for(t=Math.min(5,l.length),IG$.L_SPPL&&$("#alertstext").text("Messages (New)"),n=0;n<t;n++)a=IG$.XGetAttrProp(l[n]),0==n&&(IG$.L_SPPL=a.msgid),i="<li><a href='#' class='delete'>X</a><p><span style='color:#0000ff;'>"+(a.username||"")+": </span><br>"+IG$.XGetTextVal(l[n])+" <br><span style='color:#4d4d4d; font-size: 9px; float: right'>("+(IG$.getFormattedDate(a.updatedate,!0)||"")+")</span></p></li>",o.append($(i))},IG$.setWeb3TopMenu=function(){var e,n=$("#side-menu"),i=$("#mainFooter",n),a=n,t=$("#innerLogo",n),o=ig$.mainmenu,s=ig$.features;$(".ig-c-button",t);if(ig$.$l_=ig$.$l_||0,console.log("top menu"),o){if(o.footmenu){for(e=0;e<o.footmenu.length;e++)o.footmenu[e].html&&(o.footmenu[e].html.remove(),o.footmenu[e].html=null);$.each(o.footmenu,(function(e,n){if("ig_sw_app"!=n.acls&&"ig_pref"!=n.acls||!(ig$.$l_>5)){var a=$("<li"+(n.acls?" class='"+n.acls+"'":"")+"><span>"+(n.rcs?IRm$.r1(n.rcs):n.text)+"</span></li>");i.prepend(a),a.bind("click",(function(){n.handler?n.handler.call(this):"logout"==n.cmd?IG$.showLogout(new IG$.callBackObj(this,IG$.showLoginProc)):n.cmd&&IG$.procMenuCommand(n.cmd)})),n.html=a}}))}if(o.mainmenu&&s){for(e=0;e<o.mainmenu.length;e++)o.mainmenu[e].html&&(o.mainmenu[e].html.remove(),o.mainmenu[e].html=null);$.each(o.mainmenu,(function(e,n){if((!n.acls||!1===s[n.acls])&&"column"==n.type){var i=$("<li class='"+(n.cls||"")+"'></li>").appendTo(a),t=$("<a href=''><i class='"+(n.icon||"")+"'></i><span class='nav-label'>"+(n.rcs?IRm$.r1(n.rcs):n.text)+"</span></a>").appendTo(i);if(n.info&&(i.info_html=$("<span class='label label-info pull-right'>62</span>").appendTo(t)),n.cmd?IG$.procMenuCommand(cmd):n.handler,t.bind("click",(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})),t.bind("mousedown",(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})),t.bind("mouseup",(function(e){var a,t,s=$(".flyout",i),l=1;return e.preventDefault(),e.stopImmediatePropagation(),s&&s.length>0&&4!=lindex&&(a=n.sv,$(".flyout").hide(),$.each(o.mainmenu,(function(e,i){i!=n&&(i.sv=0)})),a?(n.sv=0,l=1):(n.sv=1,s.show(),$(document).bind("mouseup",void 0),l=0)),1==l&&(t=n,$.each(o.mainmenu,(function(e,n){n==t?n.html&&n.html.addClass("active"):n.html&&n.html.removeClass("active")})),t.handler&&t.handler()),!1})),n.html=i,n.menus&&n.menus.length&&"column"==n.type){var l=$("<span class='fa arrow'></span>").appendTo(t),r=$("<ul class='nav nav-second-level collapse'>").appendTo(i);n.handler&&ig$.$l_<5&&$(".rightRaquoBlue",l).bind("click",(function(){n.handler()})),$.each(n.menus,(function(e,n){var i=$("<div class='column"+(n.acls?" "+n.acls:"")+"'><h6>"+(n.rcs?IRm$.r1(n.rcs):n.text)+"</h6></div>").appendTo(r);if("list"==n.type){var a=$("<ul class='"+(n.acls||"")+"'></ul>").appendTo(i);$.each(n.items,(function(e,n){$("<li class='chevronLink"+(n.acls?" "+n.acls:"")+"'><span class='icon'></span><span class='title'>"+(n.rcs?IRm$.r1(n.rcs):n.text)+"</span></li>").appendTo(a).bind("click",(function(){n.cmd&&IG$.procMenuCommand(n.cmd)}))}))}else if("image"==n.type){var t,o;t=n.src&&$("<img src='"+n.src+"'></img>").appendTo(i),o=n.desc&&$("<h3>"+n.desc+"</h3>").appendTo(i),n.cmd&&(t.bind("click",(function(){IG$.procMenuCommand(n.cmd)})),o.bind("click",(function(){IG$.procMenuCommand(n.cmd)})))}}))}}}))}o.afterrender&&o.afterrender.call(this,o)}},IG$.showLoginProc=function(){var e=$("#loginWindow"),n=$("#userid");e.hide(),IG$.m_explorer&&IG$.m_explorer.initData.call(IG$.m_explorer),lastHist=null,hist||(hist=new IG$.historyManager),hist.historyListener(),n&&n.length>0&&(n[0].value=IG$.dlgLogin.logininfo.userid),IG$.__ep||(IG$.setWeb3TopMenu(),IG$.mainPanel.initRecentVisit.call(IG$.mainPanel))};
IG$.MainPanel=$s.extend($s.panel,{margin:"0 0 0 0",resizeTabs:!0,minTabWidth:100,enableTabScroll:!0,activeTab:0,layout:{type:"card",deferredRender:!1},deferredRender:!1,hidemode:"offset",tabPosition:"top",removePanelHeader:!0,plain:!1,minTabWidth:void 0,maxTabWidth:void 0,___tabseq:0,customAddTab:function(e,t){var i=this.getComponent(e);i?(IG$.changeApp(2),this.setActiveTab(i)):(IG$.changeApp(2),t.id=e,i=this.add(t),this.setActiveTab(i))},navigateApp:function(e,t,i,n,a,o,s,l){var d,c=t+"_"+(e||this.___tabseq++),p=this.getComponent(c);if(p){if(IG$.changeApp(2),this.setActiveTab(p),l&&p.applyOption)p.applyOption.call(p,l);else if("dashboard"==t){this.getComponent("dashboardedit_"+e)&&p.uid&&p.uid.length>0&&p.procRunDashboard.call(p)}}else{var r=new IG$.callBackObj(this,(function(){this.navigateApp(e,t,i,n,a,o,s,l)})),m=IG$.createAppPanel(e,t,i,n,o,s||null,r);if(m){if(m.address=n,m.title=IG$.getTabTitle(i),s)for(d in s)m[d]=s[d];if(l)for(d in l)m[d]=l[d];if(1==m.isWindow)a=!1,m.title=IG$.getTabTitle(i)+" ("+IRm$.r1("D_"+t.toUpperCase())+")",IG$.ps[m.address]||(IG$.ps[m.address]=m,m.on("close",(function(){delete IG$.ps[m.address]})),m.show());else{IG$.changeApp(2),m.id=c,this.selectedIndex=this.selectedIndex<0?0:this.selectedIndex;var $=this.add(m);this.setActiveTab($)}}else a=!1}1==a&&e&&t&&(lastHist="&p1="+t+"&p2="+e,setTimeout((function(){hist.addHistory(lastHist)}),10))},initRecentVisit:function(){var e,t,i=this,n=$("#mbutton1"),a=($("#idv_recitems"),$("#welcome"));i.mviewer={mode:"recent",mrecenttext:n.text()},n.unbind("click"),n.bind("click",(function(){i.loadRecentVisit.call(i)}));e=[{title:"Step by Step",cls:"getting_started",handler:function(){IG$.procMenuCommand("CMD_APP_WIZARD")}},{title:"Navigator",cls:"navigator",handler:function(){var e;((e=i.down("[name=mexplorer]"))&&!e.isVisible()||IG$.m_explorer&&ig$.app_tmpl&&ig$.app_tmpl.mainview&&ig$.app_tmpl.mainview.navitree&&!1!==ig$.app_tmpl.mainview.navitree.hidden)&&IG$.changeApp(1)}},{title:"About",cls:"about_app",handler:function(){IG$.procMenuCommand("CMD_ABOUT")}}],(t=$("#pg_links",a)).empty(),$.each(e,(function(e,i){if(!i.hidden){var n=$("<div class='intro-pg-column'><div class='intro-figure'><div class='image' title='"+i.title+"'><span class='"+i.cls+"'></span></div><div class='intro-figure-caption'><span class='intro-links'>"+i.title+"</span></div></div></div>");n.appendTo(t),n.length>0&&i.handler&&($(".image",n).bind("click",(function(){i.handler()})),$(".intro-links",n).bind("click",(function(){i.handler()}))),i.el=n}})),i.__pg_linksitems=e,i.updateLoginInfo(),i.loadRecentVisit()},initAdminMenu:function(){var e,t=IG$.dmgrmenu.body.dom,i=$(".ig-mgr-body",t),n=$(".ig-mgr-panel-close",t),a=ig$.mainmenu.mainmenu;i.empty(),n.bind("click",(function(){IG$.procMenuCommand("CMD_HOME")})),a&&$.each(a,(function(t,n){e=$("<ul class='ig-mgr-group'></ul>").appendTo(i),n.tul=e,n.tul.hide(),n.menus&&$.each(n.menus,(function(t,i){var n=$("<li class='ig-mgr-group-item "+(i.acls||"")+" animate-box fadeInLeft animated'><div class='ig-mgr-title'><span class='icon'></span><h3>"+(IRm$.r1(i.rcs)||i.text)+"</h3></div><ul class='ig-mgr-menu'></ul></li>").appendTo(e),a=$(".ig-mgr-menu",n);$.each(i.items,(function(e,t){$("<li class='ig-mgr-menu-item "+(t.acls||"")+"'>"+(IRm$.r1(t.rcs)||t.text)+"</li>").appendTo(a).bind("click",(function(){t.handler?t.handler.call(this):"logout"==t.cmd?IG$.showLogout(new IG$.callBackObj(this,IG$.showLoginProc)):t.cmd&&IG$.procMenuCommand(t.cmd)}))}))}))}))},updateLoginInfo:function(){var e,t,i,n,a,o,s,l=$("#last_login"),d=(IG$.viewport,IG$.dlgLogin?IG$.dlgLogin.logininfo:null);$("#home_app_title").html(ig$.home_app_title||IRm$.r1("L_HOME_APP_TITLE")),$("#home_app_desc").html(ig$.home_app_desc||IRm$.r1("L_HOME_APP_DESC")),$("#mbutton1").html(IRm$.r1("L_T_RECENT_VISIT")),l&&l.length>0&&d&&IG$.dlgLogin.lastLogin&&(o=$(".last_login_time",l),s=$(".last_login_host",l),a=$(".cur_login_host",l),i=$(".cur_login_user_id",l),n=$(".cur_login_user_nm",l),e=IG$.dlgLogin.lastLogin.lastaccesstime,i.text(d.userid),n.text(d.username),e&&(t=IG$.formatDate(e),o.text(t),s.text(IG$.dlgLogin.lastLogin.lastaccessaddr),a.text(IG$.dlgLogin.lastLogin.accessaddr)))},loadRecentVisit:function(){$("#idv_recitems");var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{},mbody:{option:"bookmarks"}},this,this.rs_loadContent,null,null),e.send()},rs_loadContent:function(e){var t,i,n,a=$("#idv_recitems"),o=[],s=[],l={};if(a.empty(),a){for(t=0;t<3;t++)(n=$("<div class='recent-columns'></div>").appendTo(a)).css({width:100/3+"%",float:"left"}),s.push({div:n,di:!1});for(t=0;t<e.length;t++)l[(i=e[t]).uid]?l[i.uid].fatype="F"==i.fatype?i.fatype:l[i.uid].fatype:(l[i.uid]=i,o.push(i));o.sort((function(e,t){var i=0;return e.type!=t.type&&(i=e.type>t.type?1:-1),i})),this.shortcuts={};var d,c=0;$.each(o,(function(e,t){var i,n,a,o=t.type.toUpperCase();0==e?(n=(i=s[0]).div,$("<div class='recent-itemtype'><span>"+IRm$.r1("D_"+o)+"</span></div>").appendTo(n)):d&&d!=t.type?(c=(c+1)%s.length,n=(i=s[c]).div,a=$("<div class='recent-itemtype'><span>"+IRm$.r1("D_"+o)+"</span></div>").appendTo(n),i.di&&a.css({marginTop:"20px"})):n=(i=s[c]).div,i.di=!0;var l=$("<div class='recent-row' title='"+t.nodepath+"'></div>"),p=$("<span>"+t.name+("F"==t.fatype?"<span class='ig-fa-mark'></span>":"")+"</span>");p.bind("click",(function(){IG$.navigateMenu(t.uid)})),"REPORT"!=o&&"DASHBOARD"!=o||p.hover((function(e){var i=o.toLowerCase()+":"+t.uid;IG$._scrshot(p,i,!0)}),(function(e){IG$._scrshot(p,null,!1)})),l.append(p),n.append(l),d=t.type}))}},deferredRender:!0,onAdd:function(e,t){$s.tabpanel.prototype.onAdd.call(this,e,t)},initComponent:function(){var e=this,t=([].concat(e.dockedItems||[]),e.activeTab||(e.activeTab=0));e.tabPosition;e.layout={owner:e,type:"card",deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:t},IG$.mainPanelTabBar=new $s.tabbar({xtype:"tabbar",ui:e.ui,dock:"top",id:"ig-tabbar",cls:"ig-main-tabbar",flex:1,orientation:"horizontal",plain:!0,cardLayout:e.layout,tabPanel:e,padding:0,margin:0,bodyPadding:0,listeners:{tabclick:function(e,t,i){IG$.changeApp(2)}}}),e.tabBar=IG$.mainPanelTabBar,IG$.MainPanel.superclass.initComponent.call(this),e.setActiveTab=function(t){IG$.changeApp(2),$s.tabpanel.prototype.setActiveTab.call(e,t)},e.getActiveTab=$s.tabpanel.prototype.getActiveTab,e.getTabBar=$s.tabpanel.prototype.getTabBar,e.onItemEnable=$s.tabpanel.prototype.onItemEnable,e.onItemDisable=$s.tabpanel.prototype.onItemDisable,e.onRemove=function(t,i){if($s.tabpanel.prototype.onRemove.call(e,t,i),0==e.items.length){IG$.m_explorer;IG$.changeApp(IG$.__atab)}},t&&e.tabBar.setActiveTab(t.tab,!0)},listeners:{beforeadd:function(e,t,i,n){var a,o=this.getTabBar(),s=ig$.maxtapcount||0;s>0&&this.items.length>=s&&(a=this.items.items[0],this.remove(a),o&&o.$ex&&a.tab&&void 0!==a.tab.tabid&&o.$ex.removeOption(a.tab.tabid))}}});
ig$.mainmenu={mainmenu:[{rcs:"L_HOME",type:"column",icon:"fa fa-th-large",template:"html/dw_intro.jsp",handler:function(){IG$.procMenuCommand("CMD_HOME")}},{rcs:"L_COMPETITION",type:"column",icon:"fa fa-diamond",template:"html/dw_competition.jsp",handler:function(){IG$.procMenuCommand("CMD_COMPETITION")}},{rcs:"L_DATASETS",type:"column",icon:"fa fa-bar-chart-o",template:"html/dw_dataset.jsp",handler:function(){IG$.procMenuCommand("CMD_DATASET")}},{rcs:"L_DISCUSSIONS",type:"column",icon:"fa fa-magic",template:"html/dw_discussion.jsp",info:!0,handler:function(){IG$.procMenuCommand("CMD_DISCUSSION")}},{rcs:"L_WORKS",type:"column",icon:"fa fa-star",template:"html/dw_works.jsp",handler:function(){IG$.procMenuCommand("CMD_WORKS")}},{rcs:"L_CREATE",type:"column",cls:"special_link",icon:"fa fa-database",handler:function(){IG$.procMenuCommand("CMD_BROWSER")}},{type:"app",region:"report",template:"html/dw_report.jsp"},{type:"app",region:"bbs",template:"html/dw_discusssion_write.jsp"}]};
IG$.procMenuCommand=function(e,a){var _,r,I,c,n,s,i=e.toLowerCase(),M={},D="igcm",l=IG$.mainPanel||null;switch(e){case"CMD_PASSWORD_CHANGE":_=new IG$.passwordMgr,IG$.checkLogin(null,_);break;case"CMD_PREF":_=new IG$.userpref,IG$.checkLogin(null,_);break;case"CMD_MAKE_WORKSPACE":_=new IG$.makeItem({itemtype:"Folder",parentnodepath:"/",parentuid:"/"}),IG$.checkLogin(null,_);break;case"CMD_SW_APP":_=new IG$.workspace_switcher({}),IG$.checkLogin(null,_);break;case"CMD_SERVER_CONFIG":break;case"CMD_HELP_MGR":n="helpManage",c=i,I=IRm$.r1("I_HELP_MGR");break;case"CMD_LOCALE":n="resourcemgr",c=i,I=IRm$.r1("I_LOC_MGR");break;case"CMD_DLOCALE":n="resourcemgr",c=i,M.dicmode=1,I=IRm$.r1("I_DLOC_MGR");break;case"CMD_META_IMP":n="metaImport",c=i,I=IRm$.r1("I_META_IMP");break;case"CMD_META_EDIT":n="MetaEditorPanel",c=i,I=IRm$.r1("I_META_EDIT"),M.uid=a.uid;break;case"CMD_META_MIG":n="mgr_deploy",c=i,I=IRm$.r1("I_META_MIG");break;case"CMD_RELATION_VIEW":c=i,n="relationMgr",I=IRm$.r1("L_RELATION_VIEW");break;case"CMD_TABLE_REGISTER":c=i,n="tableManager",I=IRm$.r1("L_MGR_DATABASE"),D="igcn";break;case"CMD_LOOKUP":c=i,n="systemlookup",I=IRm$.r1("L_S_LK");break;case"CMD_CONNECT_DB":c=i,n="mgrdb_config",I=IRm$.r1("L_REG_DATABASE");break;case"CMD_DATASET":c=i,n="p$DataMgr",I=IRm$.r1("L_REG_DATASET");break;case"CMD_ABOUT":_=new IG$.aboutApp,IG$.checkLogin(null,_);break;case"CMD_USER_MANAGER":c=i,n="mgrUser",I=IRm$.r1("L_MGR_USER");break;case"CMD_SYS_CONFIG":c=i,n="mgrSysCfg",I=IRm$.r1("L_SYS_CONFIG");break;case"CMD_ASSIST_ROBO":c=i,n="mgrColab",I=IRm$.r1("L_ASSIST_ROBO");break;case"CMD_VAR":case"CMD_BD_CONFIG":c=i,n="hadoop_config",D="igc9",I=IRm$.r1("I_BD_CONFIG");break;case"CMD_DBD_MGR":c=i,n="mgr_dashboard",I=IRm$.r1("I_MGR_DBD");break;case"CMD_FEATURES":c=i,n="mgrFeatures";break;case"CMD_REPORT_STYLE":c=i,M.title=IRm$.r1("T_GLOBAL_REPORT_STYLE"),M.styletype="g",n="styleWizard";break;case"CMD_RSN":_=new IG$.rsn_editor({}),IG$.checkLogin(null,_);break;case"CMD_SYSMON":n="sysmon",c=i,M.title=IRm$.r1("L_SYS_LOG");break;case"CMD_SYSRES":n="sys_resource",c=i;break;case"CMD_SCHEDULE":c=i,n="scheduler",I=IRm$.r1("I_SCHEDULE");break;case"CMD_SCH_PROG":c=i,n="sch_prog",I=IRm$.r1("I_SCHEDULE_MOD"),M.mod_type=a,"single_sign_on"==a&&(I="SingleSignOn");break;case"CMD_CHART_DSGN":c=i,n="chart_dsgn",I="Chart Coder";break;case"CMD_HOME":IG$.changeApp(0);break;case"CMD_DATASET":IG$.changeApp(2);break;case"CMD_COMPETITION":IG$.changeApp(1);break;case"CMD_DISCUSSION":IG$.changeApp(3);break;case"CMD_WORKS":IG$.changeApp(4);break;case"CMD_BROWSER":var t=IG$.viewport.down("[name=mexplorer]");t&&!t.isVisible()&&IG$.changeApp(1);break;case"CMD_TABPANEL":IG$.changeApp(2);break;case"CMD_WIZARD":case"CMD_APP_WIZARD":var o,C=$(document),m=C.width(),R=C.height();if(ig$.$l_>5)return b=(b=window.useLocale).substring(0,b.indexOf("_")),void window.open("../manual/"+b,"_blank");!IG$.app_wizard&&IG$.ltW&&(IG$.app_wizard=new IG$.dlgSmartWizard({})),(o=IG$.app_wizard)&&(o.setSize(.8*m,.8*R),IG$.showDlg(null,o));break;case"CMD_SYNC_USER":c=i,M.uid=a,n="sync_user",I=IRm$.r1("T_SYNC_USER");break;case"CMD_MN_MENUS":IG$.changeApp(4,a);break;case"CMD_HD_BFLOW":case"CMD_MONG_DATA":s="CMD_HD_BFLOW"==e?"BigData":"MongoData",l&&l.navigateApp.call(l,null,s.toLowerCase(),s,null,null,!0);break;case"CMD_MONG_MAPR":case"CMD_HD_MAPR":c=i,n="relationMgr",M._cmode=2,I=IRm$.r1("L_HD_BFLOW");break;case"CMD_ML_BAYES":var G=IG$._app_module_.bayesnet;if(n=G.name,D=G.modetype,I=I||G.opt.itemtype,G.opt)for(k in G.opt)M[k]=G.opt[k];break;case"CMD_D_MENU":c=i,n="dashboardmenu",I=i;break;case"CMD_REVISION":c=i,M.uid=a,n="mgrRevision",I=IRm$.r1("T_REVISION");break;case"CMD_TRASHBIN":c=i,M.uid=a,n="mgr_trashbin",I=IRm$.r1("L_TRASHBIN");break;case"CMD_MG_DISCO":c=i,M.uid=a,n="mg_disco",D="mg_disco",I=IRm$.r1("T_MIG_DISCO");break;case"CMD_MG_UPGRADE":itemuid=i,M.uid=a,n="mg_meta",D="mg_meta",I=IRm$.r1("T_MIG_META_UPGRADE");break;case"CMD_NEW_REPORT":c=i,n="ReportView",I="Report",(M=M||{}).writable=!0,M.opt_editmode=!0;break;case"CMD_NEW_SQL_REPORT":c=i,n="SQLReportView",I="SQLReport",(M=M||{}).writable=!0,M.opt_editmode=!0;break;case"CMD_NEW_DASHBOARD":c=i,n="DashboardEdit",D="igc7",I="Dashboard";break;case"CMD_MANUAL_AUTH":c=i,n="MgrManual",D="mg_meta",I=IRm$.r1("T_MGR_MANUAL");break;case"CMD_NEW_BOBJECT":return void IG$.create_meta();case"CMD_APP_HELP":var b="en";return"ko_KR"==window.useLocale&&(b="ko"),void window.open("../manual/"+b+"/","_blank")}if(n&&IG$.mainPanel){var E=IG$.mainPanel.getComponent.call(IG$.mainPanel,c);if(E)IG$.mainPanel.setActiveTab.call(IG$.mainPanel,E),"cmd_revision"==i&&E.loadUID.call(E,a);else if(IG$[n]?(r=new IG$[n](M),I||(I=r.title)):(scripts=ig$.bootconfig.scmap[D],IG$.getScriptCache(scripts,new IG$.callBackObj(this,(function(){if(IG$[n])if(r=new IG$[n](M),I||(I=r.title),r.id=c,r.address=c,r.title=IG$.getTabTitle(I),1==r.isWindow)IG$.checkLogin(null,r);else{var e=IG$.mainPanel.add.call(IG$.mainPanel,r);IG$.mainPanel.setActiveTab.call(IG$.mainPanel,e)}else IG$.ShowError(IRm$.r1("L_ERR_L_MOD"))})))),r)if(r.id=c,r.address=c,r.title=IG$.getTabTitle(I),1==r.isWindow)IG$.checkLogin(null,r);else{var A=IG$.mainPanel.add.call(IG$.mainPanel,r);IG$.mainPanel.setActiveTab.call(IG$.mainPanel,A)}}};