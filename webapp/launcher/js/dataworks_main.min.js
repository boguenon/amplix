var hist,lastHist;IG$.historyManager=function(e){this.addHistory=function(e){unFocus.History.addHistory(e)},this.hasMenu=function(){var e=unFocus.History.getCurrent();if(e&&""!=e){var n,i,a,t,o,s,l,c=e.split("&");for(a=0;a<c.length;a++)if((s=(l=c[a]).indexOf("="))>0)switch(t=l.substring(0,s),o=l.substring(s+1),t){case"lang":break;case"p1":n=o;break;case"p2":i=o}if(n&&i)return!0}return!1},this.historyListener=function(){var n=unFocus.History.getCurrent();return null!=n&&""!=n&&e.dlgLogin.logininfo&&IG$.navigateMenu(e,n),n},unFocus.History.addEventListener("historyChange",this.historyListener)},IG$.navigateMenu=function(e,n){if(n&&n.length>0&&lastHist!=n){if(IG$.checkUID(n))a=n;else{var i,a,t,o,s,l,c,r=n.split("&");for(t=0;t<r.length;t++)if((l=(c=r[t]).indexOf("="))>0)switch(o=c.substring(0,l),s=c.substring(l+1),o){case"lang":break;case"p1":i=s;break;case"p2":a=s}}a&&IG$.navigateMenuByUID(e,a,i)}},IG$.navigateMenuByUID=function(e,n,i,a,t){var o=new IG$._rpc$;o.init(null,{ack:"helpcontent",payload:{uid:n},mbody:{option:"translate"}},null,(function(n){var o=n[0],s=o.uid,l=o.type.toLowerCase(),c=o.locale_name||o.name,r=o.nodepath,d=o.manage||o.writable,p=!1;if("dashboard"==l&&"dashboardedit"==i?l=i:"export"==l&&(p=!0,l="report"),1==p){var m=$(document),u=$("#main"),g={renderTo:u[0],minHeight:m.height(),address:r,closable:!1,_ts_:!1,hiddenstatusbar:!0,hiddentoolbar:!0,header:!1,title:IG$.getTabTitle(c)};pitem=IG$.createAppPanel(e,s,l,c,r,d,g),pitem.on({_lc0:function(){},_lc1:function(){var e=pitem.calcSize.call(pitem);pitem.setSize(e.width,e.height)},resize:function(e,n,i,a,t,o){var s=$(document.body);IG$.j$ext._w(u,n),IG$.j$ext._h(u,i),IG$.j$ext._w(s,n),IG$.j$ext._h(s,i)}}),pitem.updateLayout(),pitem.setSize(m.width(),m.height()),u.css({minHeight:m.height()+"px"})}else e.mainPanel.navigateApp.call(e.mainPanel,s,l,c,r,void 0===t||t,d,null,a)}),null),o.send(e)},IG$.$ap={_init_home:function(e){},_init_report_lists:function(e){var n=e,i=$("#report_lists",e._page);(function(){i.empty();var e=new IG$._rpc$;e.init(n,{ack:"helpcontent",payload:{uid:null},mbody:{option:"search",typelist:"Report",pid:"2eaa0e1f-3ee446c4"}},n,(function(e){var n=e.children;n&&$.each(n,(function(e,n){var a=['<div class="faq-item">','        <div class="row">','            <div class="col-md-7">','                <a data-toggle="collapse" href="" class="faq-question">'+n.name+"</a>","                <small>Added by <strong>"+n.modifier+'</strong> <i class="fa fa-clock-o"></i> '+n.updatedatefm+"</small>","            </div>",'            <div class="col-md-3">','                <span class="small font-bold">'+n.owner+"</span>",'                <div class="tag-list">','                    <span class="tag-item">General</span>','                    <span class="tag-item">License</span>',"                </div>","            </div>",'            <div class="col-md-2 text-right">','                <span class="small font-bold">Voting </span><br/>',"                42","            </div>","        </div>",'        <div class="row">','            <div class="col-lg-12">','                <div id="faq1" class="panel-collapse collapse ">','                    <div class="faq-answer">',"                        <p>","                            "+n.description,"                        </p>","                    </div>","                </div>","            </div>","        </div>","    </div>"].join("\n"),t=$(a).appendTo(i);$("a",t).bind("click",(function(e){e.stopPropagation(),e.preventDefault(),IG$.changeApp(6,n)}))}))}),!1),e.send()})()},_load_report:function(e,n){var i,a,t=e,o=$("#reports_tab",e._page);t._reports=t._reports||{},t._reports[n.uid]&&(i=t._reports[n.uid]),i||(a=$("<div></div>").appendTo(o),n.target_div=a,i=new IG$.report(n),t._reports[n.uid]=i),$.each(t._reports,(function(e,i){e==n.uid?i.show():i.hide()}))},_init_board:function(e,n,i){var a=e,t=$("#t_bbs",e._page),o=new IG$._rpc$;t.empty(),n&&($("#btn_write",e._page).bind("click",(function(e){e.preventDefault(),e.stopPropagation(),IG$.changeApp(7)})),$("#btn_refresh",e._page).bind("click",(function(n){n.preventDefault(),n.stopPropagation(),IG$.$ap._init_board(e,!1)}))),o.init(a,{ack:"bbs",payload:{option:"list"},mbody:{}},a,(function(e){})),o.send()},_init_board_write:function(e,n){n&&($("#frm_bbs_write",e._page).submit((function(e){return e.preventDefault(),!1})),$("#btn_cancel",e._page).bind("click",(function(e){e.preventDefault(),e.stopPropagation(),IG$.changeApp(3)})),$(".summernote",e._page).summernote({placeholder:"write here...",disableResizeEditor:!0,height:400}))}},IG$.changeApp=function(e,n,i){var a=ig$.mainmenu.mainmenu,t=$("#tab_wrapper");$.each(a,(function(a,o){if(a==e){if(!o._page){var s=new IG$.callBackObj(this,(function(i){o._page=$(i).appendTo(t),IG$._cmn_ctrl(o._page),IG$.changeApp(e,n,!0)}));return void IG$._load_html(o.template+"?lang="+window.useLocale,s)}switch(o._page.show(),a){case 0:IG$.$ap._init_home(o);break;case 1:case 2:break;case 3:IG$.$ap._init_board(o,i);break;case 4:IG$.$ap._init_report_lists(o);break;case 6:IG$.$ap._load_report(o,n);break;case 7:IG$.$ap._init_board_write(o,i)}}else o._page&&o._page.hide()}))},IG$.$loadApp=function(e){instance.viewport;var n,i,a,t=ig$.mainmenu.mainmenu;parseInt($.cookie("lmopt_w"));if(ig$.$l_=ig$.$l_||0,IG$.__1m||1==IG$.__ep)setTimeout((function(){$("#loading").fadeOut({complete:function(){$(this).remove()}}),$("#loading-mask").fadeOut({complete:function(){$(this).remove()}})}),IG$.__ep?0:100);else{if((e=e||{}).mainview=n=e.mainview||{},n.appmenu=i=n.appmenu||{},n.navitab=n.navitab||{},n.navitree=n.navitree||{},ig$.app_tmpl=e,ig$.theme_id&&(ig$.echarts_theme=ig$.theme_id),IG$.__ep=n.appmenu.printmode,IG$.__ep_m=n.appmenu.runmode?n.appmenu.runmode:0,!i.m_explorer&&t)for(a=0;a<t.length;a++)if("ig_mnav"==t[a].acls){t.splice(a,1);break}setTimeout((function(){$("#loading").fadeOut({complete:function(){$(this).remove()}}),$("#loading-mask").fadeOut({complete:function(){$(this).remove()}}),IG$.__ep_l&&IG$.navigateMenuByUID(instance,IG$.__ep_l,void 0,void 0,!1)}),IG$.__ep?0:50)}},IG$._init_dw_app=function(){function e(){var e=$("body > #wrapper").height()-61;$(".sidebard-panel").css("min-height",e+"px");var n=$("nav.navbar-default").height(),i=$("#page-wrapper").height();n>i&&$("#page-wrapper").css("min-height",n+"px"),n<i&&$("#page-wrapper").css("min-height",$(window).height()+"px"),$("body").hasClass("fixed-nav")&&(n>i?$("#page-wrapper").css("min-height",n+"px"):$("#page-wrapper").css("min-height",$(window).height()-60+"px"))}$(document).width()<769?$("body").addClass("body-small"):$("body").removeClass("body-small"),$(".close-canvas-menu").on("click",(function(){$("body").toggleClass("mini-navbar")})),$("body.canvas-menu .sidebar-collapse").slimScroll({height:"100%",railOpacity:.9}),$(".right-sidebar-toggle").on("click",(function(){$("#right-sidebar").toggleClass("sidebar-open")})),$(".sidebar-container").slimScroll({height:"100%",railOpacity:.4,wheelStep:10}),$(".open-small-chat").on("click",(function(){$(this).children().toggleClass("fa-comments").toggleClass("fa-remove"),$(".small-chat-box").toggleClass("active")})),$(".small-chat-box .content").slimScroll({height:"234px",railOpacity:.4}),$(".check-link").on("click",(function(){var e=$(this).find("i"),n=$(this).next("span");return e.toggleClass("fa-check-square").toggleClass("fa-square-o"),n.toggleClass("todo-completed"),!1})),$(".navbar-minimalize").on("click",(function(){$("body").toggleClass("mini-navbar"),SmoothlyMenu()})),$(".tooltip-demo").tooltip({selector:"[data-toggle=tooltip]",container:"body"}),e(),$(window).bind("load",(function(){$("body").hasClass("fixed-sidebar")&&$(".sidebar-collapse").slimScroll({height:"100%",railOpacity:.9})})),$(window).scroll((function(){$(window).scrollTop()>0&&!$("body").hasClass("fixed-nav")?$("#right-sidebar").addClass("sidebar-top"):$("#right-sidebar").removeClass("sidebar-top")})),$(window).bind("load resize scroll",(function(){$("body").hasClass("body-small")||e()})),$("[data-toggle=popover]").popover(),IG$._cmn_ctrl($(document))},IG$._cmn_ctrl=function(e){$(".collapse-link",e).on("click",(function(){var e=$(this).closest("div.ibox"),n=$(this).find("i");e.find("div.ibox-content").slideToggle(200),n.toggleClass("fa-chevron-up").toggleClass("fa-chevron-down"),e.toggleClass("").toggleClass("border-bottom"),setTimeout((function(){e.resize(),e.find("[id^=map-]").resize()}),50)})),$(".close-link",e).on("click",(function(){$(this).closest("div.ibox").remove()})),$(".fullscreen-link",e).on("click",(function(){var e=$(this).closest("div.ibox"),n=$(this).find("i");$("body").toggleClass("fullscreen-ibox-mode"),n.toggleClass("fa-expand").toggleClass("fa-compress"),e.toggleClass("fullscreen"),setTimeout((function(){$(window).trigger("resize")}),100)})),$(".full-height-scroll",e).slimscroll({height:"100%"})},$s.ready((function(){$("#lpt","#loading").css("width","80%"),ig$.$l_m=1,webix.ui.fullScreen(),webix.env.touch||webix.CustomScroll.init(),IRm$.r2({func:function(){$("#lpt","#loading").css("width","100%"),setTimeout((function(){var e;IG$.loadExtend.rcsloaded=!0,instance.mainPanel=new IG$.MainPanel({name:"_I7d"}),instance.mainPanel.on("tabchange",(function(e,n){})),e={closeText:IRm$.r1("L_C_CLOSE"),prevText:IRm$.r1("L_C_PREV"),nextText:IRm$.r1("L_C_NEXT"),currentText:IRm$.r1("L_C_CUR"),monthNames:IRm$.r1("L_C_M_NAMES").split("#"),monthNamesShort:IRm$.r1("L_C_M_NAMES_S").split("#"),dayNames:IRm$.r1("L_C_D_NAMES").split("#"),dayNamesShort:IRm$.r1("L_C_D_NAMES_S").split("#"),dayNamesMin:IRm$.r1("L_C_D_NAMES_M").split("#"),weekHeader:IRm$.r1("L_C_W_H"),firstDay:0,isRTL:!1,showMonthAfterYear:!0,yearSuffix:IRm$.r1("L_C_YR_SFX"),c1disp:"yyyy-mm-dd",c1format:"yy-mm-dd",c2disp:"yyyy-mm",c2format:"yy-mm"},$.datepicker.setDefaults(e),IG$.calendar_locale=e,instance.m_explorer=null,$.each(IG$.loadExtend.items,(function(e,n){IG$.extend(n.name,n.base,n.option)})),$.each(IG$.filteropcodes,(function(e,n){var i=n.lcode;n.locale=IRm$.r1(i)}));var n=$.cookie("lui")||"";IG$.createLoginPanel(instance,n,"",!0),IG$.loadMapData(),IG$._init_dw_app();var i=new IG$._rpc$;i.init(null,{ack:"helpcontent",payload:{},mbody:{option:"ls",mts:window.m$mts||"ROOT",lang:window.useLocale||""}},null,(function(e){var n=!1;if(e.uuid){if(n=!0,instance.dlgLogin.callback=new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)})),instance.dlgLogin.uuid=e.uuid,instance.dlgLogin.mts={sid:e.mts,name:e.mts_name},IG$._g$a=instance.dlgLogin.mts.sid,window.m$mts&&instance.dlgLogin.mts.name!=window.m$mts&&instance.dlgLogin.mts.sid!=window.m$mts)return void IG$.showLogout(new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)})));instance.dlgLogin.lastLogin=e,instance.mainPanel&&instance.mainPanel.updateLoginInfo.call(instance.mainPanel),instance.dlgLogin.getUserDetail.call(instance.dlgLogin,!1),(hist=new IG$.historyManager).historyListener(),"function"==typeof window.callPhantom&&window.callPhantom({_proc:"C"})}0==n&&IG$.showLogin(instance,new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)})),0)}),(function(e){return IG$.showLogin(instance,new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)})),0),!0})),i.send()}),IG$.__ep?10:30)}})})),IG$._n5=function(){var e=ig$.session,n=60*ig$.session_expire,i=!1,a=-1;e&&($(document).bind("mousemove",(function(){e.count=0,0==i&&(a>-1&&(clearTimeout(a),a=-1),a=setTimeout((function(){i=!0;var n=new IG$._rpc$;n.init(null,{ack:"helpcontent",payload:{mode:"write"},mbody:{option:"wake"}},null,(function(n){i=!1,e.count=0}),null),n.send()}),2e3))})),e.timer=setInterval((function(){var i,a=n-e.count,t="",o=0;i=a>60?a-60*(o=Math.floor(a/60)):a,t=o>0?o+" min "+i+" sec":i+" sec",a<300?e.text.addClass("warn-sess-timer"):e.text.removeClass("warn-sess-timer"),e.text.html(t),a<0&&(clearInterval(e.timer),IG$.showLogout(instance,new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)})))),e.count+=1}),1e3))},IG$.refreshMessages=function(){var e=new IG$._rpc$;e.init(null,{ack:"helpcontent",payload:{mode:"read"},mbody:{option:"rsn",readmode:0}},null,IG$.rs_refreshMessages,(function(e){return!0})),e.showerror=!1,e.send()},IG$.rs_refreshMessages=function(e){var n,i,a,t,o=$("#chatsublist"),s=IG$.XGetNode(e,"/smsg"),l=IG$.XGetChildNodes(s);if(!(l&&l.length>0&&IG$.L_SPPL&&(a=IG$.XGetAttrProp(l[0])).msgid==IG$.L_SPPL)&&(o.empty(),o.append($("<li class='view'><span><a href='javascript:f$7(\"CMD_RSN\")'>Write Message</a></span></li>")),l&&l.length>0))for(t=Math.min(5,l.length),IG$.L_SPPL&&$("#alertstext").text("Messages (New)"),n=0;n<t;n++)a=IG$.XGetAttrProp(l[n]),0==n&&(IG$.L_SPPL=a.msgid),i="<li><a href='#' class='delete'>X</a><p><span style='color:#0000ff;'>"+(a.username||"")+": </span><br>"+IG$.XGetTextVal(l[n])+" <br><span style='color:#4d4d4d; font-size: 9px; float: right'>("+(IG$.getFormattedDate(a.updatedate,!0)||"")+")</span></p></li>",o.append($(i))},IG$.setWeb3TopMenu=function(e){var n,i=$("#side-menu"),a=$("#mainFooter",i),t=i,o=$("#innerLogo",i),s=ig$.mainmenu,l=ig$.features;$(".ig-c-button",o);if(ig$.$l_=ig$.$l_||0,s){if(s.footmenu){for(n=0;n<s.footmenu.length;n++)s.footmenu[n].html&&(s.footmenu[n].html.remove(),s.footmenu[n].html=null);$.each(s.footmenu,(function(n,i){if("ig_sw_app"!=i.acls&&"ig_pref"!=i.acls||!(ig$.$l_>5)){var t=$("<li"+(i.acls?" class='"+i.acls+"'":"")+"><span>"+(i.rcs?IRm$.r1(i.rcs):i.text)+"</span></li>");a.prepend(t),t.bind("click",(function(){i.handler?i.handler.call(this):"logout"==i.cmd?IG$.showLogout(e,new IG$.callBackObj(this,(function(){IG$.showLoginProc(e)}))):i.cmd&&IG$.procMenuCommand(e,i.cmd)})),i.html=t}}))}if(s.mainmenu&&l){for(n=0;n<s.mainmenu.length;n++)s.mainmenu[n].html&&(s.mainmenu[n].html.remove(),s.mainmenu[n].html=null);$.each(s.mainmenu,(function(n,i){if((!i.acls||!1===l[i.acls])&&"column"==i.type){var a=$("<li class='"+(i.cls||"")+"'></li>").appendTo(t),o=$("<a href=''><i class='"+(i.icon||"")+"'></i><span class='nav-label'>"+(i.rcs?IRm$.r1(i.rcs):i.text)+"</span></a>").appendTo(a);if(i.info&&(a.info_html=$("<span class='label label-info pull-right'>62</span>").appendTo(o)),i.cmd?IG$.procMenuCommand(e,cmd):i.handler,o.bind("click",(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})),o.bind("mousedown",(function(e){return e.preventDefault(),e.stopImmediatePropagation(),!1})),o.bind("mouseup",(function(e){var n,t,o=$(".flyout",a),l=1;return e.preventDefault(),e.stopImmediatePropagation(),o&&o.length>0&&4!=lindex&&(n=i.sv,$(".flyout").hide(),$.each(s.mainmenu,(function(e,n){n!=i&&(n.sv=0)})),n?(i.sv=0,l=1):(i.sv=1,o.show(),$(document).bind("mouseup",void 0),l=0)),1==l&&(t=i,$.each(s.mainmenu,(function(e,n){n==t?n.html&&n.html.addClass("active"):n.html&&n.html.removeClass("active")})),t.handler&&t.handler()),!1})),i.html=a,i.menus&&i.menus.length&&"column"==i.type){var c=$("<span class='fa arrow'></span>").appendTo(o),r=$("<ul class='nav nav-second-level collapse'>").appendTo(a);i.handler&&ig$.$l_<5&&$(".rightRaquoBlue",c).bind("click",(function(){i.handler()})),$.each(i.menus,(function(n,i){var a=$("<div class='column"+(i.acls?" "+i.acls:"")+"'><h6>"+(i.rcs?IRm$.r1(i.rcs):i.text)+"</h6></div>").appendTo(r);if("list"==i.type){var t=$("<ul class='"+(i.acls||"")+"'></ul>").appendTo(a);$.each(i.items,(function(n,i){$("<li class='chevronLink"+(i.acls?" "+i.acls:"")+"'><span class='icon'></span><span class='title'>"+(i.rcs?IRm$.r1(i.rcs):i.text)+"</span></li>").appendTo(t).bind("click",(function(){i.cmd&&IG$.procMenuCommand(e,i.cmd)}))}))}else if("image"==i.type){var o,s;o=i.src&&$("<img src='"+i.src+"'></img>").appendTo(a),s=i.desc&&$("<h3>"+i.desc+"</h3>").appendTo(a),i.cmd&&(o.bind("click",(function(){IG$.procMenuCommand(e,i.cmd)})),s.bind("click",(function(){IG$.procMenuCommand(e,i.cmd)})))}}))}}}))}s.afterrender&&s.afterrender.call(this,s)}},IG$.showLoginProc=function(e){var n=$("#loginWindow",e.target),i=$("#userid");n.hide(),e.m_explorer&&e.m_explorer.initData.call(e.m_explorer),lastHist=null,hist||(hist=new IG$.historyManager),hist.historyListener(),i&&i.length>0&&(i[0].value=e.dlgLogin.logininfo.userid),IG$.__ep||(IG$.setWeb3TopMenu(e),e.mainPanel.initRecentVisit.call(e.mainPanel))};
IG$.MainPanel=$s.extend($s.panel,{margin:"0 0 0 0",resizeTabs:!0,minTabWidth:100,enableTabScroll:!0,activeTab:0,layout:{type:"card",deferredRender:!1},deferredRender:!1,hidemode:"offset",tabPosition:"top",removePanelHeader:!0,plain:!1,minTabWidth:void 0,maxTabWidth:void 0,___tabseq:0,customAddTab:function(e,t){var i=this.getComponent(e);i?(IG$.changeApp(2),this.setActiveTab(i)):(IG$.changeApp(2),t.id=e,i=this.add(t),this.setActiveTab(i))},navigateApp:function(e,t,i,n,a,s,o,l){var c,d=t+"_"+(e||this.___tabseq++),p=this.getComponent(d);if(p){if(IG$.changeApp(2),this.setActiveTab(p),l&&p.applyOption)p.applyOption.call(p,l);else if("dashboard"==t){this.getComponent("dashboardedit_"+e)&&p.uid&&p.uid.length>0&&p.procRunDashboard.call(p)}}else{var r=new IG$.callBackObj(this,(function(){this.navigateApp(e,t,i,n,a,s,o,l)})),m=IG$.createAppPanel(instance,e,t,i,n,s,o||null,r);if(m){if(m.address=n,m.title=IG$.getTabTitle(i),o)for(c in o)m[c]=o[c];if(l)for(c in l)m[c]=l[c];if(1==m.isWindow)a=!1,m.title=IG$.getTabTitle(i)+" ("+IRm$.r1("D_"+t.toUpperCase())+")",IG$.ps[m.address]||(IG$.ps[m.address]=m,m.on("close",(function(){delete IG$.ps[m.address]})),m.show());else{IG$.changeApp(2),m.id=d,this.selectedIndex=this.selectedIndex<0?0:this.selectedIndex;var u=this.add(m);this.setActiveTab(u)}}else a=!1}1==a&&e&&t&&(lastHist="&p1="+t+"&p2="+e,setTimeout((function(){hist.addHistory(lastHist)}),10))},initRecentVisit:function(){var e,t,i=this,n=$("#mbutton1"),a=($("#idv_recitems"),$("#welcome"));i.mviewer={mode:"recent",mrecenttext:n.text()},n.unbind("click"),n.bind("click",(function(){i.loadRecentVisit.call(i)}));e=[{title:"Step by Step",cls:"getting_started",handler:function(){IG$.procMenuCommand(instance,"CMD_APP_WIZARD")}},{title:"Navigator",cls:"navigator",handler:function(){var e;((e=i.down("[name=mexplorer]"))&&!e.isVisible()||instance.m_explorer&&ig$.app_tmpl&&ig$.app_tmpl.mainview&&ig$.app_tmpl.mainview.navitree&&!1!==ig$.app_tmpl.mainview.navitree.hidden)&&IG$.changeApp(1)}},{title:"About",cls:"about_app",handler:function(){IG$.procMenuCommand(instance,"CMD_ABOUT")}}],(t=$("#pg_links",a)).empty(),$.each(e,(function(e,i){if(!i.hidden){var n=$("<div class='intro-pg-column'><div class='intro-figure'><div class='image' title='"+i.title+"'><span class='"+i.cls+"'></span></div><div class='intro-figure-caption'><span class='intro-links'>"+i.title+"</span></div></div></div>");n.appendTo(t),n.length>0&&i.handler&&($(".image",n).bind("click",(function(){i.handler()})),$(".intro-links",n).bind("click",(function(){i.handler()}))),i.el=n}})),i.__pg_linksitems=e,i.updateLoginInfo(),i.loadRecentVisit()},initAdminMenu:function(){var e,t=IG$.dmgrmenu.body.dom,i=$(".ig-mgr-body",t),n=$(".ig-mgr-panel-close",t),a=ig$.mainmenu.mainmenu;i.empty(),n.bind("click",(function(){IG$.procMenuCommand(instance,"CMD_HOME")})),a&&$.each(a,(function(t,n){e=$("<ul class='ig-mgr-group'></ul>").appendTo(i),n.tul=e,n.tul.hide(),n.menus&&$.each(n.menus,(function(t,i){var n=$("<li class='ig-mgr-group-item "+(i.acls||"")+" animate-box fadeInLeft animated'><div class='ig-mgr-title'><span class='icon'></span><h3>"+(IRm$.r1(i.rcs)||i.text)+"</h3></div><ul class='ig-mgr-menu'></ul></li>").appendTo(e),a=$(".ig-mgr-menu",n);$.each(i.items,(function(e,t){$("<li class='ig-mgr-menu-item "+(t.acls||"")+"'>"+(IRm$.r1(t.rcs)||t.text)+"</li>").appendTo(a).bind("click",(function(){t.handler?t.handler.call(this):"logout"==t.cmd?IG$.showLogout(instance,new IG$.callBackObj(this,(function(){IG$.showLoginProc(instance)}))):t.cmd&&IG$.procMenuCommand(instance,t.cmd)}))}))}))}))},updateLoginInfo:function(){var e,t,i,n,a,s,o,l=this.instance,c=$("#last_login"),d=(l.viewport,l.dlgLogin?l.dlgLogin.logininfo:null);$("#home_app_title").html(ig$.home_app_title||IRm$.r1("L_HOME_APP_TITLE")),$("#home_app_desc").html(ig$.home_app_desc||IRm$.r1("L_HOME_APP_DESC")),$("#mbutton1").html(IRm$.r1("L_T_RECENT_VISIT")),c&&c.length>0&&d&&l.dlgLogin.lastLogin&&(s=$(".last_login_time",c),o=$(".last_login_host",c),a=$(".cur_login_host",c),i=$(".cur_login_user_id",c),n=$(".cur_login_user_nm",c),e=l.dlgLogin.lastLogin.lastaccesstime,i.text(d.userid),n.text(d.username),e&&(t=IG$.formatDate(e),s.text(t),o.text(l.dlgLogin.lastLogin.lastaccessaddr),a.text(l.dlgLogin.lastLogin.accessaddr)))},loadRecentVisit:function(){$("#idv_recitems");var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{},mbody:{option:"bookmarks"}},this,this.rs_loadContent,null,null),e.send()},rs_loadContent:function(e){var t,i,n,a=$("#idv_recitems"),s=[],o=[],l={};if(a.empty(),a){for(t=0;t<3;t++)(n=$("<div class='recent-columns'></div>").appendTo(a)).css({width:100/3+"%",float:"left"}),o.push({div:n,di:!1});for(t=0;t<e.length;t++)l[(i=e[t]).uid]?l[i.uid].fatype="F"==i.fatype?i.fatype:l[i.uid].fatype:(l[i.uid]=i,s.push(i));s.sort((function(e,t){var i=0;return e.type!=t.type&&(i=e.type>t.type?1:-1),i})),this.shortcuts={};var c,d=0;$.each(s,(function(e,t){var i,n,a,s=t.type.toUpperCase();0==e?(n=(i=o[0]).div,$("<div class='recent-itemtype'><span>"+IRm$.r1("D_"+s)+"</span></div>").appendTo(n)):c&&c!=t.type?(d=(d+1)%o.length,n=(i=o[d]).div,a=$("<div class='recent-itemtype'><span>"+IRm$.r1("D_"+s)+"</span></div>").appendTo(n),i.di&&a.css({marginTop:"20px"})):n=(i=o[d]).div,i.di=!0;var l=$("<div class='recent-row' title='"+t.nodepath+"'></div>"),p=$("<span>"+t.name+("F"==t.fatype?"<span class='ig-fa-mark'></span>":"")+"</span>");p.bind("click",(function(){IG$.navigateMenu(instance,t.uid)})),"REPORT"!=s&&"DASHBOARD"!=s||p.hover((function(e){var i=s.toLowerCase()+":"+t.uid;IG$._scrshot(p,i,!0)}),(function(e){IG$._scrshot(p,null,!1)})),l.append(p),n.append(l),c=t.type}))}},deferredRender:!0,onAdd:function(e,t){$s.tabpanel.prototype.onAdd.call(this,e,t)},initComponent:function(){var e=this,t=e.instance,i=([].concat(e.dockedItems||[]),e.activeTab||(e.activeTab=0));e.tabPosition;e.layout={owner:e,type:"card",deferredRender:e.deferredRender,itemCls:e.itemCls,activeItem:i},t.mainPanelTabBar=new $s.tabbar({xtype:"tabbar",ui:e.ui,dock:"top",id:"ig-tabbar",cls:"ig-main-tabbar",flex:1,orientation:"horizontal",plain:!0,cardLayout:e.layout,tabPanel:e,padding:0,margin:0,bodyPadding:0,listeners:{tabclick:function(e,t,i){IG$.changeApp(2)}}}),e.tabBar=t.mainPanelTabBar,IG$.MainPanel.superclass.initComponent.call(this),e.setActiveTab=function(t){IG$.changeApp(2),$s.tabpanel.prototype.setActiveTab.call(e,t)},e.getActiveTab=$s.tabpanel.prototype.getActiveTab,e.getTabBar=$s.tabpanel.prototype.getTabBar,e.onItemEnable=$s.tabpanel.prototype.onItemEnable,e.onItemDisable=$s.tabpanel.prototype.onItemDisable,e.onRemove=function(i,n){if($s.tabpanel.prototype.onRemove.call(e,i,n),0==e.items.length){t.m_explorer;IG$.changeApp(IG$.__atab)}},i&&e.tabBar.setActiveTab(i.tab,!0)},listeners:{beforeadd:function(e,t,i,n){var a,s=this.getTabBar(),o=ig$.maxtapcount||0;o>0&&this.items.length>=o&&(a=this.items.items[0],this.remove(a),s&&s.$ex&&a.tab&&void 0!==a.tab.tabid&&s.$ex.removeOption(a.tab.tabid))}}});
ig$.mainmenu={mainmenu:[{rcs:"L_HOME",type:"column",icon:"fa fa-th-large",template:"html/dw_intro.jsp",handler:function(){IG$.procMenuCommand(instance,"CMD_HOME")}},{rcs:"L_COMPETITION",type:"column",icon:"fa fa-diamond",template:"html/dw_competition.jsp",handler:function(){IG$.procMenuCommand(instance,"CMD_COMPETITION")}},{rcs:"L_DATASETS",type:"column",icon:"fa fa-bar-chart-o",template:"html/dw_dataset.jsp",handler:function(){IG$.procMenuCommand(instance,"CMD_DATASET")}},{rcs:"L_DISCUSSIONS",type:"column",icon:"fa fa-magic",template:"html/dw_discussion.jsp",info:!0,handler:function(){IG$.procMenuCommand(instance,"CMD_DISCUSSION")}},{rcs:"L_WORKS",type:"column",icon:"fa fa-star",template:"html/dw_works.jsp",handler:function(){IG$.procMenuCommand(instance,"CMD_WORKS")}},{rcs:"L_CREATE",type:"column",cls:"special_link",icon:"fa fa-database",handler:function(){IG$.procMenuCommand(instance,"CMD_BROWSER")}},{type:"app",region:"report",template:"html/dw_report.jsp"},{type:"app",region:"bbs",template:"html/dw_discusssion_write.jsp"}]};
IG$.procMenuCommand=function(e,a,_){var r,n,c,s,i,I,t=a.toLowerCase(),M={},D="igcm",l=e.mainPanel||null;switch(a){case"CMD_PASSWORD_CHANGE":r=new IG$.passwordMgr({instance:me.instance}),IG$.checkLogin(null,r);break;case"CMD_PREF":r=new IG$.userpref({instance:me.instance}),IG$.checkLogin(null,r);break;case"CMD_MAKE_WORKSPACE":r=new IG$.makeItem({instance:me.instance,itemtype:"Folder",parentnodepath:"/",parentuid:"/"}),IG$.checkLogin(null,r);break;case"CMD_SW_APP":r=new IG$.workspace_switcher({instance:me.instance}),IG$.checkLogin(null,r);break;case"CMD_SERVER_CONFIG":break;case"CMD_HELP_MGR":i="helpManage",s=t,c=IRm$.r1("I_HELP_MGR");break;case"CMD_LOCALE":i="resourcemgr",s=t,c=IRm$.r1("I_LOC_MGR");break;case"CMD_DLOCALE":i="resourcemgr",s=t,M.dicmode=1,c=IRm$.r1("I_DLOC_MGR");break;case"CMD_META_IMP":i="metaImport",s=t,c=IRm$.r1("I_META_IMP");break;case"CMD_META_EDIT":i="MetaEditorPanel",s=t,c=IRm$.r1("I_META_EDIT"),M.uid=_.uid;break;case"CMD_META_MIG":i="mgr_deploy",s=t,c=IRm$.r1("I_META_MIG");break;case"CMD_RELATION_VIEW":s=t,i="relationMgr",c=IRm$.r1("L_RELATION_VIEW");break;case"CMD_TABLE_REGISTER":s=t,i="tableManager",c=IRm$.r1("L_MGR_DATABASE"),D="igcn";break;case"CMD_LOOKUP":s=t,i="systemlookup",c=IRm$.r1("L_S_LK");break;case"CMD_CONNECT_DB":s=t,i="mgrdb_config",c=IRm$.r1("L_REG_DATABASE");break;case"CMD_DATASET":s=t,i="p$DataMgr",c=IRm$.r1("L_REG_DATASET");break;case"CMD_ABOUT":r=new IG$.aboutApp,IG$.checkLogin(null,r);break;case"CMD_USER_MANAGER":s=t,i="mgrUser",c=IRm$.r1("L_MGR_USER");break;case"CMD_SYS_CONFIG":s=t,i="mgrSysCfg",c=IRm$.r1("L_SYS_CONFIG");break;case"CMD_ASSIST_ROBO":s=t,i="mgrColab",c=IRm$.r1("L_ASSIST_ROBO");break;case"CMD_VAR":case"CMD_BD_CONFIG":s=t,i="hadoop_config",D="igc9",c=IRm$.r1("I_BD_CONFIG");break;case"CMD_DBD_MGR":s=t,i="mgr_dashboard",c=IRm$.r1("I_MGR_DBD");break;case"CMD_FEATURES":s=t,i="mgrFeatures";break;case"CMD_REPORT_STYLE":s=t,M.title=IRm$.r1("T_GLOBAL_REPORT_STYLE"),M.styletype="g",i="styleWizard";break;case"CMD_RSN":r=new IG$.rsn_editor({instance:me.instance}),IG$.checkLogin(null,r);break;case"CMD_SYSMON":i="sysmon",s=t,M.title=IRm$.r1("L_SYS_LOG");break;case"CMD_SYSRES":i="sys_resource",s=t;break;case"CMD_SCHEDULE":s=t,i="scheduler",c=IRm$.r1("I_SCHEDULE");break;case"CMD_SCH_PROG":s=t,i="sch_prog",c=IRm$.r1("I_SCHEDULE_MOD"),M.mod_type=_,"single_sign_on"==_&&(c="SingleSignOn");break;case"CMD_CHART_DSGN":s=t,i="chart_dsgn",c="Chart Coder";break;case"CMD_HOME":IG$.changeApp(0);break;case"CMD_DATASET":IG$.changeApp(2);break;case"CMD_COMPETITION":IG$.changeApp(1);break;case"CMD_DISCUSSION":IG$.changeApp(3);break;case"CMD_WORKS":IG$.changeApp(4);break;case"CMD_BROWSER":var m=e.viewport.down("[name=mexplorer]");m&&!m.isVisible()&&IG$.changeApp(1);break;case"CMD_TABPANEL":IG$.changeApp(2);break;case"CMD_WIZARD":case"CMD_APP_WIZARD":var o,C=$(document),R=C.width(),b=C.height();if(ig$.$l_>5)return A=(A=window.useLocale).substring(0,A.indexOf("_")),void window.open("../manual/"+A,"_blank");!IG$.app_wizard&&IG$.ltW&&(IG$.app_wizard=new IG$.dlgSmartWizard({instance:e})),(o=IG$.app_wizard)&&(o.setSize(.8*R,.8*b),IG$.showDlg(null,o));break;case"CMD_SYNC_USER":s=t,M.uid=_,i="sync_user",c=IRm$.r1("T_SYNC_USER");break;case"CMD_MN_MENUS":IG$.changeApp(4,_);break;case"CMD_HD_BFLOW":case"CMD_MONG_DATA":I="CMD_HD_BFLOW"==a?"BigData":"MongoData",l&&l.navigateApp.call(l,null,I.toLowerCase(),I,null,null,!0);break;case"CMD_MONG_MAPR":case"CMD_HD_MAPR":s=t,i="relationMgr",M._cmode=2,c=IRm$.r1("L_HD_BFLOW");break;case"CMD_ML_BAYES":var E=IG$._app_module_.bayesnet;if(i=E.name,D=E.modetype,c=c||E.opt.itemtype,E.opt)for(k in E.opt)M[k]=E.opt[k];break;case"CMD_D_MENU":s=t,i="dashboardmenu",c=t;break;case"CMD_REVISION":s=t,M.uid=_,i="mgrRevision",c=IRm$.r1("T_REVISION");break;case"CMD_TRASHBIN":s=t,M.uid=_,i="mgr_trashbin",c=IRm$.r1("L_TRASHBIN");break;case"CMD_MG_DISCO":s=t,M.uid=_,i="mg_disco",D="mg_disco",c=IRm$.r1("T_MIG_DISCO");break;case"CMD_MG_UPGRADE":itemuid=t,M.uid=_,i="mg_meta",D="mg_meta",c=IRm$.r1("T_MIG_META_UPGRADE");break;case"CMD_NEW_REPORT":s=t,i="ReportView",c="Report",(M=M||{}).writable=!0,M.opt_editmode=!0;break;case"CMD_NEW_SQL_REPORT":s=t,i="SQLReportView",c="SQLReport",(M=M||{}).writable=!0,M.opt_editmode=!0;break;case"CMD_NEW_DASHBOARD":s=t,i="DashboardEdit",D="igc7",c="Dashboard";break;case"CMD_MANUAL_AUTH":s=t,i="MgrManual",D="mg_meta",c=IRm$.r1("T_MGR_MANUAL");break;case"CMD_NEW_BOBJECT":return void IG$.create_meta(e);case"CMD_APP_HELP":var A="en";return"ko_KR"==window.useLocale&&(A="ko"),void window.open("../manual/"+A+"/","_blank")}if(i&&e.mainPanel){var G=e.mainPanel.getComponent.call(e.mainPanel,s);if(G)e.mainPanel.setActiveTab.call(e.mainPanel,G),"cmd_revision"==t&&G.loadUID.call(G,_);else if(M.instance=e,IG$[i]?(n=new IG$[i](M),c||(c=n.title)):(scripts=ig$.bootconfig.scmap[D],IG$.getScriptCache(scripts,new IG$.callBackObj(this,(function(){if(IG$[i])if(n=new IG$[i](M),c||(c=n.title),n.id=s,n.address=s,n.title=IG$.getTabTitle(c),1==n.isWindow)IG$.checkLogin(null,n);else{var a=e.mainPanel.add.call(e.mainPanel,n);e.mainPanel.setActiveTab.call(e.mainPanel,a)}else IG$.ShowError(IRm$.r1("L_ERR_L_MOD"))})))),n)if(n.id=s,n.address=s,n.title=IG$.getTabTitle(c),1==n.isWindow)IG$.checkLogin(null,n);else{var d=e.mainPanel.add.call(e.mainPanel,n);e.mainPanel.setActiveTab.call(e.mainPanel,d)}}};