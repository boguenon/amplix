IG$.classmodule=$s.extend($s.panel,{closable:!0,layout:"border",bodyPadding:0,_init:function(){this.loadDataSource()},loadDataSource:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"userdb",payload:{address:"/Connections",option:"list"},mbody:{}},e,(function(e){var t,i,a=[],n=e.children,o=this.down("[name=t_ds]");if(a.push({name:"Select Database Instance",uid:""}),n)for(t=0;t<n.length;t++)i=n[t],a.push(i);o.store.loadData(a),o.setValue(""),this.loadItemContent()}),(function(){e.loadItemContent()})),t.send()},loadItemContent:function(){var e;(e=new IG$._rpc$).init(this,{ack:"content",payload:{uid:this.uid},mbody:{option:"standard"}},this,this.rs_loadItemContent,!1),e.send()},rs_loadItemContent:function(e){var t,i,a,n,o,l,s,d=this,r=e.content,m=d.down("[name=t_ds]");d.item=r,r.modules=r.modules||[],m.setValue(r.data_source||""),window.ace?(t=$(d.down("[name=javasrc]").el.dom),(i=$(".idv-jcl-edtr",t)).empty(),n=IG$.j$ext._w(t),o=IG$.j$ext._h(t),a=$("<div class='idv-jcl-view'></div>").appendTo(i),IG$.j$ext._w(a,n),IG$.j$ext._h(a,o),(s=ace.edit(a[0])).getSession().setMode("ace/mode/java"),d.scripteditor=s,d.scriptview=a,d.scriptview=a,d.scripteditor=s,t=$(d.down("[name=javasrc_all]").el.dom),(i=$(".idv-jcl-edtr",t)).empty(),n=IG$.j$ext._w(t),o=IG$.j$ext._h(t),a=$("<div class='idv-jcl-view'></div>").appendTo(i),IG$.j$ext._w(a,n),IG$.j$ext._h(a,o),(s=ace.edit(a[0])).getSession().setMode("ace/mode/java"),d.scriptview_all=a,d.scripteditor_all=s,l=r.modules,d.down("[name=g_m]").store.loadData(l),d.down("[name=m_s]").hide()):IG$.getScriptCache(ig$.bootconfig.scmap.igcg,new IG$.callBackObj(d,(function(){this.rs_loadItemContent(e)})))},saveMetaContent:function(e){var t=this,i=new IG$._rpc$,a=t.item,n="source"==e?"plugin":"writecontent",o=t.down("[name=t_ds]");t.commitModule(),a.data_source=o.getValue(),i.init(t,{ack:n,payload:{uid:t.uid,option:"source"==e?e:null},mbody:a,meta_type:"class_module"},t,t.rs_saveMetaContent,null,e),i.send()},rs_saveMetaContent:function(e,t){"source"==t?this.scripteditor_all.setValue(e.source):"compile"==t?this.doCompile():IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")},doCompile:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"plugin",payload:{uid:e.uid,option:"compile"},mbody:e.item,meta_type:"class_module"},e,e.rs_doCompile,null),t.send()},rs_doCompile:function(e){var t,a=e&&e.length?e[0]:null,n=[];if(a&&"E"==a.status){for((t=a.results).error_details=t.error_details||[],i=0;i<t.error_details.length;i++)n.push("line : "+t.error_details[i].line_number+", "+t.error_details[i].message);this.down("[name=compileres]").setValue(n.join("\r\n")),this.setViewMode(1)}else this.down("[name=compileres]").setValue(""),IG$.alertmsg(ig$.appname,IRm$.r1("M_COMP_SUCCESS"),null,null,0,"success")},toolbarHandler:function(e){var t,i,a,n,o=this,l=o.down("[name=g_m]");switch(e){case"cmd_save":o.saveMetaContent();break;case"cmd_compile":o.saveMetaContent("compile");break;case"cmd_source":o.saveMetaContent("source");break;case"cmd_rename":case"cmd_delete":if((t=l.getSelectionModel().selected)&&t.length>0&&(i=t.items[0]),i&&i.get("name")){for(n=0;n<o.item.modules.length;n++)if(o.item.modules[n].name==i.get("name")){"cmd_delete"==e?o.item.modules.splice(n,1):a=o.item.modules[n];break}if("cmd_delete"==e)l.store.remove(i),o._module=null,o.scripteditor.setValue("");else{var s=new IG$.makeItemEditor({instance:o.instance,itemtype:"Module",itemname:a.name,description:a.description,commit_f:function(){var e=this,t=e.down("[name=fitemname]"),n=e.down("[name=fitemname]").getValue(),o=e.down("[name=fdesc]").getValue();e.down("[name=fhelpuid]").getValue(),e.down("[name=selitemtype]");t.clearInvalid(),n?n.indexOf(" ")>-1?t.markInvalid(["Space not allowed"]):(i.set("name",n),i.set("description",o),a.name=n,a.description=o,e.close()):t.markInvalid([t.blankText])}});IG$.checkLogin(this,s)}}}},commitModule:function(){var e=this;e._module&&(e._module.script=e.scripteditor.getValue(),e._module.iparams=[],e._module.oparams=[],$.each(["iparams","oparams"],(function(t,i){var a,n=e.down("[name=g_"+i+"]"),o=e._module[i];for(t=0;t<n.store.data.items.length;t++)(a=n.store.data.items[t]).get("name")&&o.push({name:a.get("name"),multiplevalues:a.get("multiplevalues")})})))},editModule:function(e){var t,i,a=this,n=e.get("name"),o=a.item;for(a._module&&a.commitModule(),t=0;t<o.modules.length;t++)if(o.modules[t].name==n){i=o.modules[t];break}i&&(a.down("[name=m_s]").show(),a.scripteditor.setValue(i.script||""),a._module=i,$.each(["iparams","oparams"],(function(e,t){var i=a.down("[name=g_"+t+"]"),n=[],o=a._module[t];if(o)for(e=0;e<o.length;e++)n.push({name:o[e].name,multiplevalues:o[e].multiplevalues});i.store.loadData(n)})))},addModule:function(e,t){var i,a=this,n=a.down("[name=g_m]"),o=!0;for(a._module&&a.commitModule(),i=0;i<a.item.modules.length;i++)if(a.item.modules[i].name==e){o=!1;break}return 1==o&&(n.store.add({name:e,description:t}),a.item.modules.push({name:e,description:t,script:null,iparams:[],oparams:[]})),o},setViewMode:function(e){var t=this,i=t.down("[name=mcard]"),a=t.down("[name=t_source]");t.vcard=e>-1?e:0==t.vcard?1:0,0==t.vcard?(i.getLayout().setActiveItem(0),a.setText("View Source")):(i.getLayout().setActiveItem(1),a.setText("Edit Code"),t.toolbarHandler("cmd_source"))},initComponent:function(){var e=this;e.vcard=0,$s.apply(this,{items:[{xtype:"panel",layout:"card",region:"center",flex:1,name:"mcard",items:[{xtype:"panel",layout:"border",items:[{xtype:"panel",title:"Module Functions",region:"west",layout:"fit",split:!0,collapsible:!0,collapseMode:"mini",width:300,tbar:[{text:IRm$.r1("B_NEW_ITEM"),handler:function(){var t=new IG$.makeItem({instance:e.instance,itemtype:"Module",commit_f:function(){var t=this,i=t.down("[name=fitemname]"),a=t.down("[name=fitemname]").getValue(),n=t.down("[name=fdesc]").getValue();t.down("[name=fhelpuid]").getValue(),t.down("[name=selitemtype]");i.clearInvalid(),a?a.indexOf(" ")>-1?i.markInvalid(["Space not allowed"]):1==e.addModule.call(e,a,n)&&t.close():i.markInvalid([i.blankText])}});IG$.checkLogin(this,t)},scope:this},{text:IRm$.r1("B_RENAME"),handler:function(){this.toolbarHandler("cmd_rename")},scope:this},{text:IRm$.r1("B_DELETE"),handler:function(){this.toolbarHandler("cmd_delete")},scope:this}],items:[{xtype:"gridpanel",name:"g_m",store:{xtype:"store",fields:["name","description"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"},{text:IRm$.r1("B_DESC"),flex:1,dataIndex:"description"},{xtype:"actioncolumn",width:30,menuDisabled:!0,items:[{iconCls:"icon-grid-config",tooltip:IRm$.r1("L_EDIT"),handler:function(e,t,i){var a=e.store.getAt(t);this.editModule(a)},scope:this}]}],listeners:{cellclick:function(e,t,i,a,n,o){2!=i&&this.editModule(a)},scope:this}}]},{region:"center",xtype:"panel",flex:1,title:"Module Sources",layout:"fit",items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",border:0,layout:"border",name:"m_s",items:[{name:"javasrc",region:"center",flex:1,html:"<div class='idv-jcl-edtr'></div>",split:!0,listeners:{resize:function(t,i,a,n,o,l){e.scriptview&&e.scripteditor&&(IG$.j$ext._w(e.scriptview,i),IG$.j$ext._h(e.scriptview,a),e.scripteditor.resize(!0))}}},{xtype:"panel",region:"east",width:200,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",name:"g_iparams",title:"Input Parameters",flex:1,store:{xtype:"store",fields:["name"]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},plugins:[{ptype:"cellediting",clicksToEdit:1}],columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name",editor:{xtype:"textfield",allowBlank:!1}}],tbar:[{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){this.down("[name=g_iparams]").store.add({name:"",value:""})},scope:this},{xtype:"button",text:IRm$.r1("B_REMOVE"),handler:function(){var e,t=this.down("[name=g_iparams]"),i=t.store,a=t.getSelectionModel().selected;for(e=a.length-1;e>=0;e--)i.remove(a.items[e])},scope:this}]},{xtype:"gridpanel",title:"Output Parameters",name:"g_oparams",flex:1,store:{xtype:"store",fields:["name"]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},plugins:[{ptype:"cellediting",clicksToEdit:1}],columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name",editor:{xtype:"textfield",allowBlank:!1}},{xtype:"checkcolumn",width:50,text:"Multi",dataIndex:"multiplevalues"}],tbar:[{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){this.down("[name=g_oparams]").store.add({name:"",value:"",multiplevalues:!1})},scope:this},{xtype:"button",text:IRm$.r1("B_REMOVE"),handler:function(){var e,t=this.down("[name=g_oparams]"),i=t.store,a=t.getSelectionModel().selected;for(e=a.length-1;e>=0;e--)i.remove(a.items[e])},scope:this}]}]}]}]}]}]},{xtype:"panel",title:"Source View (ReadOnly)",layout:"border",items:[{name:"javasrc_all",flex:1,region:"center",html:"<div class='idv-jcl-edtr'></div>",split:!0,listeners:{resize:function(t,i,a,n,o,l){e.scriptview_all&&e.scripteditor_all&&(IG$.j$ext._w(e.scriptview_all,i),IG$.j$ext._h(e.scriptview_all,a),e.scripteditor_all.resize(!0))}}},{xtype:"panel",title:"Compile Messages",height:200,region:"south",layout:"fit",items:[{xtype:"textarea",popup_editor:!0,name:"compileres"}]}]}]}],tbar:[{iconCls:"icon-toolbar-save",name:"t_save",tooltip:IRm$.r1("L_SAVE_CONTENT"),handler:function(){this.toolbarHandler("cmd_save")},scope:this},{text:"Compile",name:"t_save_as",tooltip:"Compile",handler:function(){this.toolbarHandler("cmd_compile")},scope:this},{xtype:"combobox",name:"t_ds",tooltip:IRm$.r1("L_DATA_SOURCE"),fieldLabel:IRm$.r1("L_DATA_SOURCE"),labelPosition:"right",queryMode:"local",displayField:"name",valueField:"uid",editable:!1,autoSelect:!0,store:{xtype:"store",fields:[]}},{text:"Package Lists",handler:function(){var e=new IG$.classModuleClsImport({instance:this.instance,litem:this.item});IG$.showDlg(this,e)},scope:this},"->",{name:"t_source",text:"View Source",handler:function(){this.setViewMode(-1)},scope:this}]}),IG$.classmodule.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this._init()}}}),IG$.classModuleClsImport=$s.extend($s.window,{width:400,height:500,modal:!0,layout:"fit",closable:!1,resizable:!1,_init:function(){var e=this.down("[name=ltx]"),t=this.litem;t&&e.setValue(t.cls||"")},_confirm:function(){var e=this,t=e.down("[name=ltx]"),i=e.litem;i&&(i.cls=t.getValue()),e.callback&&e.callback.execute(i),e.close()},items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"ltx",flex:1},{xtype:"displayfield",value:"* Add class lists with Java : import java.util.*;"}]}],initComponent:function(){$s.apply(this,{title:IRm$.r1("L_PKG_LST"),buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.classModuleClsImport.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e._init()}}});
/**!
 * easyPieChart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.5
 **/
!function(e,t){"object"==typeof exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],t):t(e.jQuery)}(this,(function(e){var t=function(e,t){var n,a=document.createElement("canvas");e.appendChild(a),"undefined"!=typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(a);var i=a.getContext("2d");a.width=a.height=t.size;var r=1;window.devicePixelRatio>1&&(r=window.devicePixelRatio,a.style.width=a.style.height=[t.size,"px"].join(""),a.width=a.height=t.size*r,i.scale(r,r)),i.translate(t.size/2,t.size/2),i.rotate((t.rotate/180-.5)*Math.PI);var o=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(o-=t.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(e,t,n){var a=(n=Math.min(Math.max(-1,n||0),1))<=0;i.beginPath(),i.arc(0,0,o,0,2*Math.PI*n,a),i.strokeStyle=e,i.lineWidth=t,i.stroke()},d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},h=function(){t.scaleColor&&function(){var e,n;i.lineWidth=1,i.fillStyle=t.scaleColor,i.save();for(var a=24;a>0;--a)a%6==0?(n=t.scaleLength,e=0):(n=.6*t.scaleLength,e=t.scaleLength-n),i.fillRect(-t.size/2+e,0,n,1),i.rotate(Math.PI/12);i.restore()}(),t.trackColor&&s(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return a},this.getCtx=function(){return i},this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){var a;t.scaleColor||t.trackColor?i.getImageData&&i.putImageData?n?i.putImageData(n,0,0):(h(),n=i.getImageData(0,0,t.size*r,t.size*r)):(this.clear(),h()):this.clear(),i.lineCap=t.lineCap,a="function"==typeof t.barColor?t.barColor(e):t.barColor,s(a,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var a=Date.now();t.onStart(e,n);var i=function(){var r=Math.min(Date.now()-a,t.animate.duration),o=t.easing(this,r,e,n-e,t.animate.duration);this.draw(o),t.onStep(e,n,o),r>=t.animate.duration?t.onStop(e,n):d(i)}.bind(this);d(i)}.bind(this)},n=function(e,n){var a={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,a,i){return(t/=i/2)<1?a/2*t*t+n:-a/2*(--t*(t-2)-1)+n},onStart:function(e,t){},onStep:function(e,t,n){},onStop:function(e,t){}};if(void 0!==t)a.renderer=t;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");a.renderer=SVGRenderer}var i={},r=0,o=function(){for(var t in this.el=e,this.options=i,a)a.hasOwnProperty(t)&&(i[t]=n&&void 0!==n[t]?n[t]:a[t],"function"==typeof i[t]&&(i[t]=i[t].bind(this)));"string"==typeof i.easing&&"undefined"!=typeof jQuery&&jQuery.isFunction(jQuery.easing[i.easing])?i.easing=jQuery.easing[i.easing]:i.easing=a.easing,"number"==typeof i.animate&&(i.animate={duration:i.animate,enabled:!0}),"boolean"!=typeof i.animate||i.animate||(i.animate={duration:1e3,enabled:i.animate}),this.renderer=new i.renderer(e,i),this.renderer.draw(r),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent")))}.bind(this);this.update=function(e){return e=parseFloat(e),i.animate.enabled?this.renderer.animate(r,e):this.renderer.draw(e),r=e,this}.bind(this),this.disableAnimation=function(){return i.animate.enabled=!1,this},this.enableAnimation=function(){return i.animate.enabled=!0,this},o()};e.fn.easyPieChart=function(t){return this.each((function(){var a;e.data(this,"easyPieChart")||(a=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new n(this,a)))}))}}));
!function(){var e=function(){return this}();if(e||"undefined"==typeof window||(e=window),"undefined"==typeof requirejs){var t=function(e,i,n){"string"==typeof e?(2==arguments.length&&(n=i),t.modules[e]||(t.payloads[e]=n,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var i,n,s=function(e,t,i){if("string"==typeof t){var n=a(e,t);if(null!=n)return i&&i(),n}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],r=0,l=t.length;r<l;++r){var h=a(e,t[r]);if(null==h&&o.original)return;s.push(h)}return i&&i.apply(null,s)||!0}},o=function(e,t){var i=s("",e,t);return null==i&&o.original?o.original.apply(this,arguments):i},r=function(e,t){if(-1!==t.indexOf("!")){var i=t.split("!");return r(e,i[0])+"!"+r(e,i[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&n!=t;){var n=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},a=function(e,i){i=r(e,i);var n=t.modules[i];if(!n){if("function"==typeof(n=t.payloads[i])){var o={},a={id:i,uri:"",exports:o,packaged:!0};o=n((function(e,t){return s(i,e,t)}),o,a)||a.exports,t.modules[i]=o,delete t.payloads[i]}n=t.modules[i]=o||n}return n};n=e,(i="")&&(e[i]||(e[i]={}),n=e[i]),n.define&&n.define.packaged||(t.original=n.define,n.define=t,n.define.packaged=!0),n.require&&n.require.packaged||(o.original=n.require,n.require=o,n.require.packaged=!0)}}(),define("ace/lib/regexp",["require","exports","module"],(function(e,t,i){"use strict";var n,s={exec:RegExp.prototype.exec,test:RegExp.prototype.test,match:String.prototype.match,replace:String.prototype.replace,split:String.prototype.split},o=void 0===s.exec.call(/()??/,"")[1],r=(n=/^/g,s.test.call(n,""),!n.lastIndex);function a(e){return(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":"")}function l(e,t,i){if(Array.prototype.indexOf)return e.indexOf(t,i);for(var n=i||0;n<e.length;n++)if(e[n]===t)return n;return-1}r&&o||(RegExp.prototype.exec=function(e){var t,i,n=s.exec.apply(this,arguments);if("string"==typeof e&&n){if(!o&&n.length>1&&l(n,"")>-1&&(i=RegExp(this.source,s.replace.call(a(this),"g","")),s.replace.call(e.slice(n.index),i,(function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(n[e]=void 0)}))),this._xregexp&&this._xregexp.captureNames)for(var h=1;h<n.length;h++)(t=this._xregexp.captureNames[h-1])&&(n[t]=n[h]);!r&&this.global&&!n[0].length&&this.lastIndex>n.index&&this.lastIndex--}return n},r||(RegExp.prototype.test=function(e){var t=s.exec.call(this,e);return t&&this.global&&!t[0].length&&this.lastIndex>t.index&&this.lastIndex--,!!t}))})),define("ace/lib/es5-shim",["require","exports","module"],(function(e,t,i){function n(){}Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError("Function.prototype.bind called on incompatible "+t);var i=d.call(arguments,1),s=function(){if(this instanceof s){var n=t.apply(this,i.concat(d.call(arguments)));return Object(n)===n?n:this}return t.apply(e,i.concat(d.call(arguments)))};return t.prototype&&(n.prototype=t.prototype,s.prototype=new n,n.prototype=null),s});var s,o,r,a,l,h=Function.prototype.call,c=Array.prototype,u=Object.prototype,d=c.slice,g=h.bind(u.toString),f=h.bind(u.hasOwnProperty);if((l=f(u,"__defineGetter__"))&&(s=h.bind(u.__defineGetter__),o=h.bind(u.__defineSetter__),r=h.bind(u.__lookupGetter__),a=h.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function e(e){var t=new Array(e+2);return t[0]=t[1]=0,t}var t,i=[];if(i.splice.apply(i,e(20)),i.splice.apply(i,e(26)),t=i.length,i.splice(5,0,"XXX"),i.length,t+1==i.length)return!0}()){var m=Array.prototype.splice;Array.prototype.splice=function(e,t){return arguments.length?m.apply(this,[void 0===e?0:e,void 0===t?this.length-e:t].concat(d.call(arguments,2))):[]}}else Array.prototype.splice=function(e,t){var i=this.length;e>0?e>i&&(e=i):null==e?e=0:e<0&&(e=Math.max(i+e,0)),e+t<i||(t=i-e);var n=this.slice(e,e+t),s=d.call(arguments,2),o=s.length;if(e===i)o&&this.push.apply(this,s);else{var r=Math.min(t,i-e),a=e+r,l=a+o-r,h=i-a,c=i-r;if(l<a)for(var u=0;u<h;++u)this[l+u]=this[a+u];else if(l>a)for(u=h;u--;)this[l+u]=this[a+u];if(o&&e===c)this.length=c,this.push.apply(this,s);else for(this.length=c+o,u=0;u<o;++u)this[e+u]=s[u]}return n};Array.isArray||(Array.isArray=function(e){return"[object Array]"==g(e)});var p,A,C=Object("a"),F="a"!=C[0]||!(0 in C);if(Array.prototype.forEach||(Array.prototype.forEach=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=arguments[1],s=-1,o=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError;for(;++s<o;)s in i&&e.call(n,i[s],s,t)}),Array.prototype.map||(Array.prototype.map=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=Array(n),o=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var r=0;r<n;r++)r in i&&(s[r]=e.call(o,i[r],r,t));return s}),Array.prototype.filter||(Array.prototype.filter=function(e){var t,i=R(this),n=F&&"[object String]"==g(this)?this.split(""):i,s=n.length>>>0,o=[],r=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var a=0;a<s;a++)a in n&&(t=n[a],e.call(r,t,a,i)&&o.push(t));return o}),Array.prototype.every||(Array.prototype.every=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&!e.call(s,i[o],o,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0,s=arguments[1];if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");for(var o=0;o<n;o++)if(o in i&&e.call(s,i[o],o,t))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var s,o=0;if(arguments.length>=2)s=arguments[1];else for(;;){if(o in i){s=i[o++];break}if(++o>=n)throw new TypeError("reduce of empty array with no initial value")}for(;o<n;o++)o in i&&(s=e.call(void 0,s,i[o],o,t));return s}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(e){var t=R(this),i=F&&"[object String]"==g(this)?this.split(""):t,n=i.length>>>0;if("[object Function]"!=g(e))throw new TypeError(e+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var s,o=n-1;if(arguments.length>=2)s=arguments[1];else for(;;){if(o in i){s=i[o--];break}if(--o<0)throw new TypeError("reduceRight of empty array with no initial value")}do{o in this&&(s=e.call(void 0,s,i[o],o,t))}while(o--);return s}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(e){var t=F&&"[object String]"==g(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var n=0;for(arguments.length>1&&(n=L(arguments[1])),n=n>=0?n:Math.max(0,i+n);n<i;n++)if(n in t&&t[n]===e)return n;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(e){var t=F&&"[object String]"==g(this)?this.split(""):R(this),i=t.length>>>0;if(!i)return-1;var n=i-1;for(arguments.length>1&&(n=Math.min(n,L(arguments[1]))),n=n>=0?n:i-Math.abs(n);n>=0;n--)if(n in t&&e===t[n])return n;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(e){return e.__proto__||(e.constructor?e.constructor.prototype:u)}),!Object.getOwnPropertyDescriptor){Object.getOwnPropertyDescriptor=function(e,t){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.getOwnPropertyDescriptor called on a non-object: "+e);if(f(e,t)){var i;if(i={enumerable:!0,configurable:!0},l){var n=e.__proto__;e.__proto__=u;var s=r(e,t),o=a(e,t);if(e.__proto__=n,s||o)return s&&(i.get=s),o&&(i.set=o),i}return i.value=e[t],i}}}(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(e){return Object.keys(e)}),Object.create)||(p=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var e={};for(var t in e)e[t]=null;return e.constructor=e.hasOwnProperty=e.propertyIsEnumerable=e.isPrototypeOf=e.toLocaleString=e.toString=e.valueOf=e.__proto__=null,e},Object.create=function(e,t){var i;if(null===e)i=p();else{if("object"!=typeof e)throw new TypeError("typeof prototype["+typeof e+"] != 'object'");var n=function(){};n.prototype=e,(i=new n).__proto__=e}return void 0!==t&&Object.defineProperties(i,t),i});function v(e){try{return Object.defineProperty(e,"sentinel",{}),"sentinel"in e}catch(e){}}if(Object.defineProperty){var w=v({}),E="undefined"==typeof document||v(document.createElement("div"));if(!w||!E)var $=Object.defineProperty}if(!Object.defineProperty||$){Object.defineProperty=function(e,t,i){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.defineProperty called on non-object: "+e);if("object"!=typeof i&&"function"!=typeof i||null===i)throw new TypeError("Property description must be an object: "+i);if($)try{return $.call(Object,e,t,i)}catch(e){}if(f(i,"value"))if(l&&(r(e,t)||a(e,t))){var n=e.__proto__;e.__proto__=u,delete e[t],e[t]=i.value,e.__proto__=n}else e[t]=i.value;else{if(!l)throw new TypeError("getters & setters can not be defined on this javascript engine");f(i,"get")&&s(e,t,i.get),f(i,"set")&&o(e,t,i.set)}return e}}Object.defineProperties||(Object.defineProperties=function(e,t){for(var i in t)f(t,i)&&Object.defineProperty(e,i,t[i]);return e}),Object.seal||(Object.seal=function(e){return e}),Object.freeze||(Object.freeze=function(e){return e});try{Object.freeze((function(){}))}catch(e){Object.freeze=(A=Object.freeze,function(e){return"function"==typeof e?e:A(e)})}if(Object.preventExtensions||(Object.preventExtensions=function(e){return e}),Object.isSealed||(Object.isSealed=function(e){return!1}),Object.isFrozen||(Object.isFrozen=function(e){return!1}),Object.isExtensible||(Object.isExtensible=function(e){if(Object(e)===e)throw new TypeError;for(var t="";f(e,t);)t+="?";e[t]=!0;var i=f(e,t);return delete e[t],i}),!Object.keys){var b=!0,y=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],B=y.length;for(var D in{toString:null})b=!1;Object.keys=function(e){if("object"!=typeof e&&"function"!=typeof e||null===e)throw new TypeError("Object.keys called on a non-object");var t=[];for(var i in e)f(e,i)&&t.push(i);if(b)for(var n=0,s=B;n<s;n++){var o=y[n];f(e,o)&&t.push(o)}return t}}Date.now||(Date.now=function(){return(new Date).getTime()});var S="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||S.trim()){S="["+S+"]";var k=new RegExp("^"+S+S+"*"),x=new RegExp(S+S+"*$");String.prototype.trim=function(){return String(this).replace(k,"").replace(x,"")}}function L(e){return(e=+e)!=e?e=0:0!==e&&e!==1/0&&e!==-1/0&&(e=(e>0||-1)*Math.floor(Math.abs(e))),e}var R=function(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}})),define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/regexp","ace/lib/es5-shim"],(function(e,t,i){"use strict";e("./regexp"),e("./es5-shim")})),define("ace/lib/dom",["require","exports","module"],(function(e,t,i){"use strict";var n="http://www.w3.org/1999/xhtml";t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||n,e):document.createElement(e)},t.hasCssClass=function(e,t){return-1!==(e.className||"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,i){t.hasCssClass(e,i)||(e.className+=" "+i)},t.removeCssClass=function(e,t){for(var i=e.className.split(/\s+/g);;){var n=i.indexOf(t);if(-1==n)break;i.splice(n,1)}e.className=i.join(" ")},t.toggleCssClass=function(e,t){for(var i=e.className.split(/\s+/g),n=!0;;){var s=i.indexOf(t);if(-1==s)break;n=!1,i.splice(s,1)}return n&&i.push(t),e.className=i.join(" "),n},t.setCssClass=function(e,i,n){n?t.addCssClass(e,i):t.removeCssClass(e,i)},t.hasCssString=function(e,t){var i,n=0;if((t=t||document).createStyleSheet&&(i=t.styleSheets)){for(;n<i.length;)if(i[n++].owningElement.id===e)return!0}else if(i=t.getElementsByTagName("style"))for(;n<i.length;)if(i[n++].id===e)return!0;return!1},t.importCssString=function(e,i,s){if(s=s||document,i&&t.hasCssString(i,s))return null;var o;s.createStyleSheet?((o=s.createStyleSheet()).cssText=e,i&&(o.owningElement.id=i)):((o=s.createElementNS?s.createElementNS(n,"style"):s.createElement("style")).appendChild(s.createTextNode(e)),i&&(o.id=i),t.getDocumentHead(s).appendChild(o))},t.importCssStylsheet=function(e,i){if(i.createStyleSheet)i.createStyleSheet(e);else{var n=t.createElement("link");n.rel="stylesheet",n.href=e,t.getDocumentHead(i).appendChild(n)}},t.getInnerWidth=function(e){return parseInt(t.computedStyle(e,"paddingLeft"),10)+parseInt(t.computedStyle(e,"paddingRight"),10)+e.clientWidth},t.getInnerHeight=function(e){return parseInt(t.computedStyle(e,"paddingTop"),10)+parseInt(t.computedStyle(e,"paddingBottom"),10)+e.clientHeight},"undefined"!=typeof document&&(void 0!==window.pageYOffset?(t.getPageScrollTop=function(){return window.pageYOffset},t.getPageScrollLeft=function(){return window.pageXOffset}):(t.getPageScrollTop=function(){return document.body.scrollTop},t.getPageScrollLeft=function(){return document.body.scrollLeft}),window.getComputedStyle?t.computedStyle=function(e,t){return t?(window.getComputedStyle(e,"")||{})[t]||"":window.getComputedStyle(e,"")||{}}:t.computedStyle=function(e,t){return t?e.currentStyle[t]:e.currentStyle},t.scrollbarWidth=function(e){var i=t.createElement("ace_inner");i.style.width="100%",i.style.minWidth="0px",i.style.height="200px",i.style.display="block";var n=t.createElement("ace_outer"),s=n.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",n.appendChild(i);var o=e.documentElement;o.appendChild(n);var r=i.offsetWidth;s.overflow="scroll";var a=i.offsetWidth;return r==a&&(a=n.clientWidth),o.removeChild(n),r-a},t.setInnerHtml=function(e,t){var i=e.cloneNode(!1);return i.innerHTML=t,e.parentNode.replaceChild(i,e),i},"textContent"in document.documentElement?(t.setInnerText=function(e,t){e.textContent=t},t.getInnerText=function(e){return e.textContent}):(t.setInnerText=function(e,t){e.innerText=t},t.getInnerText=function(e){return e.innerText}),t.getParentWindow=function(e){return e.defaultView||e.parentWindow})})),define("ace/lib/oop",["require","exports","module"],(function(e,t,i){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var i in t)e[i]=t[i];return e},t.implement=function(e,i){t.mixin(e,i)}})),define("ace/lib/keys",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop"],(function(e,t,i){"use strict";e("./fixoldbrowsers");var n=e("./oop"),s=function(){var e,t,i={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}};for(t in i.FUNCTION_KEYS)e=i.FUNCTION_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);for(t in i.PRINTABLE_KEYS)e=i.PRINTABLE_KEYS[t].toLowerCase(),i[e]=parseInt(t,10);return n.mixin(i,i.MODIFIER_KEYS),n.mixin(i,i.PRINTABLE_KEYS),n.mixin(i,i.FUNCTION_KEYS),i.enter=i.return,i.escape=i.esc,i.del=i.delete,i[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)i.KEY_MODS[t]=e.filter((function(e){return t&i.KEY_MODS[e]})).join("-")+"-"}(),i.KEY_MODS[0]="",i.KEY_MODS[-1]="input-",i}();n.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),define("ace/lib/useragent",["require","exports","module"],(function(e,t,i){"use strict";if(t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS},"object"==typeof navigator){var n=(navigator.platform.match(/mac|win|linux/i)||["other"])[0].toLowerCase(),s=navigator.userAgent;t.isWin="win"==n,t.isMac="mac"==n,t.isLinux="linux"==n,t.isIE="Microsoft Internet Explorer"==navigator.appName||navigator.appName.indexOf("MSAppHost")>=0?parseFloat((s.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((s.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=(window.Controllers||window.controllers)&&"Gecko"===window.navigator.product,t.isOldGecko=t.isGecko&&parseInt((s.match(/rv\:(\d+)/)||[])[1],10)<4,t.isOpera=window.opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(s.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(s.split(" Chrome/")[1])||void 0,t.isAIR=s.indexOf("AdobeAIR")>=0,t.isIPad=s.indexOf("iPad")>=0,t.isTouchPad=s.indexOf("TouchPad")>=0,t.isChromeOS=s.indexOf(" CrOS ")>=0}})),define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("./keys"),s=e("./useragent");t.addListener=function(e,t,i){if(e.addEventListener)return e.addEventListener(t,i,!1);if(e.attachEvent){var n=function(){i.call(e,window.event)};i._wrapper=n,e.attachEvent("on"+t,n)}},t.removeListener=function(e,t,i){if(e.removeEventListener)return e.removeEventListener(t,i,!1);e.detachEvent&&e.detachEvent("on"+t,i._wrapper||i)},t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||s.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.preventDefault?e.button:{1:0,2:2,4:1}[e.button]},t.capture=function(e,i,n){function s(e){i&&i(e),n&&n(e),t.removeListener(document,"mousemove",i,!0),t.removeListener(document,"mouseup",s,!0),t.removeListener(document,"dragstart",s,!0)}return t.addListener(document,"mousemove",i,!0),t.addListener(document,"mouseup",s,!0),t.addListener(document,"dragstart",s,!0),s},t.addMouseWheelListener=function(e,i){"onmousewheel"in e?t.addListener(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),i(e)})):"onwheel"in e?t.addListener(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}i(e)})):t.addListener(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),i(e)}))},t.addMultiMouseDownListener=function(e,i,n,o){var r,a,l,h=0,c={2:"dblclick",3:"tripleclick",4:"quadclick"};t.addListener(e,"mousedown",(function(e){if(0!==t.getButton(e)?h=0:e.detail>1?++h>4&&(h=1):h=1,s.isIE){var u=Math.abs(e.clientX-r)>5||Math.abs(e.clientY-a)>5;l&&!u||(h=1),l&&clearTimeout(l),l=setTimeout((function(){l=null}),i[h-1]||600),1==h&&(r=e.clientX,a=e.clientY)}if(e._clicks=h,n[o]("mousedown",e),h>4)h=0;else if(h>1)return n[o](c[h],e)})),s.isOldIE&&t.addListener(e,"dblclick",(function(e){h=2,l&&clearTimeout(l),l=setTimeout((function(){l=null}),i[h-1]||600),n[o]("mousedown",e),n[o](c[h],e)}))};var o=s.isMac&&s.isOpera&&!("KeyboardEvent"in window)?function(e){return 0|(e.metaKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.ctrlKey?8:0)}:function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function r(e,t,i){var r=o(t);if(!s.isMac&&a){if((a[91]||a[92])&&(r|=8),a.altGr){if(3==(3&r))return;a.altGr=0}if(18===i||17===i){var h="location"in t?t.location:t.keyLocation;if(17===i&&1===h)1==a[i]&&(l=t.timeStamp);else if(18===i&&3===r&&2===h){t.timeStamp-l<50&&(a.altGr=!0)}}}if((i in n.MODIFIER_KEYS&&(i=-1),8&r&&(91===i||93===i)&&(i=-1),!r&&13===i)&&(3===(h="location"in t?t.location:t.keyLocation)&&(e(t,r,-i),t.defaultPrevented)))return;if(s.isChromeOS&&8&r){if(e(t,r,i),t.defaultPrevented)return;r&=-9}return!!(r||i in n.FUNCTION_KEYS||i in n.PRINTABLE_KEYS)&&e(t,r,i)}t.getModifierString=function(e){return n.KEY_MODS[o(e)]};var a=null,l=0;if(t.addCommandKeyListener=function(e,i){var n=t.addListener;if(s.isOldGecko||s.isOpera&&!("KeyboardEvent"in window)){var o=null;n(e,"keydown",(function(e){o=e.keyCode})),n(e,"keypress",(function(e){return r(i,e,o)}))}else{var l=null;n(e,"keydown",(function(e){a[e.keyCode]=(a[e.keyCode]||0)+1;var t=r(i,e,e.keyCode);return l=e.defaultPrevented,t})),n(e,"keypress",(function(e){l&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),l=null)})),n(e,"keyup",(function(e){a[e.keyCode]=null})),a||(a=Object.create(null),n(window,"focus",(function(e){a=Object.create(null)})))}},window.postMessage&&!s.isOldIE){t.nextTick=function(e,i){i=i||window;t.addListener(i,"message",(function n(s){"zero-timeout-message-1"==s.data&&(t.stopPropagation(s),t.removeListener(i,"message",n),e())})),i.postMessage("zero-timeout-message-1","*")}}t.nextFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame,t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),define("ace/lib/lang",["require","exports","module"],(function(e,t,i){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var i="";t>0;)1&t&&(i+=e),(t>>=1)&&(e+=e);return i};var n=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(n,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var i in e)t[i]=e[i];return t},t.copyArray=function(e){for(var t=[],i=0,n=e.length;i<n;i++)e[i]&&"object"==typeof e[i]?t[i]=this.copyObject(e[i]):t[i]=e[i];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var i;if(Array.isArray(t)){i=[];for(var n=0;n<t.length;n++)i[n]=e(t[n]);return i}var s=t.constructor;if(s===RegExp)return t;for(var n in i=s(),t)i[n]=e(t[n]);return i},t.arrayToMap=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var i in e)t[i]=e[i];return t},t.arrayRemove=function(e,t){for(var i=0;i<=e.length;i++)t===e[i]&&e.splice(i,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return e.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var i=[];return e.replace(t,(function(e){i.push({offset:arguments[arguments.length-2],length:e.length})})),i},t.deferredCall=function(e){var t=null,i=function(){t=null,e()},n=function(e){return n.cancel(),t=setTimeout(i,e||0),n};return n.schedule=n,n.call=function(){return this.cancel(),e(),n},n.cancel=function(){return clearTimeout(t),t=null,n},n.isPending=function(){return t},n},t.delayedCall=function(e,t){var i=null,n=function(){i=null,e()},s=function(e){null==i&&(i=setTimeout(n,e||t))};return s.delay=function(e){i&&clearTimeout(i),i=setTimeout(n,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){i&&clearTimeout(i),i=null},s.isPending=function(){return i},s}})),define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=e("../lib/dom"),r=e("../lib/lang"),a=s.isChrome<18,l=s.isIE;t.TextInput=function(e,t){var i=o.createElement("textarea");i.className="ace_text-input",s.isTouchPad&&i.setAttribute("x-palm-disable-auto-cap",!0),i.setAttribute("wrap","off"),i.setAttribute("autocorrect","off"),i.setAttribute("autocapitalize","off"),i.setAttribute("spellcheck",!1),i.style.opacity="0",s.isOldIE&&(i.style.top="-1000px"),e.insertBefore(i,e.firstChild);var h=!1,c=!1,u=!1,d="",g=!0;try{var f=document.activeElement===i}catch(e){}n.addListener(i,"blur",(function(e){t.onBlur(e),f=!1})),n.addListener(i,"focus",(function(e){f=!0,t.onFocus(e),A()})),this.focus=function(){if(d)return i.focus();i.style.position="fixed",i.style.top="-1000px",i.focus(),setTimeout((function(){i.style.position=""}),0)},this.blur=function(){i.blur()},this.isFocused=function(){return f};var m=r.delayedCall((function(){f&&A(g)})),p=r.delayedCall((function(){u||(i.value="",f&&A())}));function A(e){if(!u){if(u=!0,b)t=0,n=e?0:i.value.length-1;else var t=e?2:1,n=2;try{i.setSelectionRange(t,n)}catch(e){}u=!1}}function C(){u||(i.value="",s.isWebKit&&p.schedule())}s.isWebKit||t.addEventListener("changeSelection",(function(){t.selection.isEmpty()!=g&&(g=!g,m.schedule())})),C(),f&&t.onFocus();var F=function(e){return 0===e.selectionStart&&e.selectionEnd===e.value.length};if(!i.setSelectionRange&&i.createTextRange&&(i.setSelectionRange=function(e,t){var i=this.createTextRange();i.collapse(!0),i.moveStart("character",e),i.moveEnd("character",t),i.select()},F=function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&t.text==e.value}),s.isOldIE){var v=!1,w=function(e){if(!v){var t=i.value;if(!u&&t&&""!=t){if(e&&t==""[0])return E.schedule();B(t),v=!0,C(),v=!1}}},E=r.delayedCall(w);n.addListener(i,"propertychange",w);var $={13:1,27:1};n.addListener(i,"keyup",(function(e){if(!u||i.value&&!$[e.keyCode]||setTimeout(_,0),(i.value.charCodeAt(0)||0)<129)return E.call();u?T():M()})),n.addListener(i,"keydown",(function(e){E.schedule(50)}))}var b=null;this.setInputHandler=function(e){b=e},this.getInputHandler=function(){return b};var y=!1,B=function(e){b&&(e=b(e),b=null),c?(A(),e&&t.onPaste(e),c=!1):e=="".charAt(0)?y?t.execCommand("del",{source:"ace"}):t.execCommand("backspace",{source:"ace"}):(""==e.substring(0,2)?e=e.substr(2):e.charAt(0)=="".charAt(0)?e=e.substr(1):e.charAt(e.length-1)=="".charAt(0)&&(e=e.slice(0,-1)),e.charAt(e.length-1)=="".charAt(0)&&(e=e.slice(0,-1)),e&&t.onTextInput(e)),y&&(y=!1)},D=function(e,t){var i=e.clipboardData||window.clipboardData;if(i&&!a){var n=l?"Text":"text/plain";return t?!1!==i.setData(n,t):i.getData(n)}},S=function(e,s){var o=t.getCopyText();if(!o)return n.preventDefault(e);D(e,o)?(s?t.onCut():t.onCopy(),n.preventDefault(e)):(h=!0,i.value=o,i.select(),setTimeout((function(){h=!1,C(),A(),s?t.onCut():t.onCopy()})))},k=function(e){S(e,!0)},x=function(e){S(e,!1)},L=function(e){var o=D(e);"string"==typeof o?(o&&t.onPaste(o),s.isIE&&setTimeout(A),n.preventDefault(e)):(i.value="",c=!0)};n.addCommandKeyListener(i,t.onCommandKey.bind(t)),n.addListener(i,"select",(function(e){h?h=!1:F(i)?(t.selectAll(),A()):b&&A(t.selection.isEmpty())})),n.addListener(i,"input",(function(e){if(!u){var t=i.value;B(t),C()}})),n.addListener(i,"cut",k),n.addListener(i,"copy",x),n.addListener(i,"paste",L),"oncut"in i&&"oncopy"in i&&"onpaste"in i||n.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:x(e);break;case 86:L(e);break;case 88:k(e)}}));var R,M=function(e){u||!t.onCompositionStart||t.$readOnly||(u={},t.onCompositionStart(),setTimeout(T,0),t.on("mousedown",_),t.selection.isEmpty()||(t.insert(""),t.session.markUndoGroup(),t.selection.clearSelection()),t.session.markUndoGroup())},T=function(){if(u&&t.onCompositionUpdate&&!t.$readOnly){var e=i.value.replace(/\x01/g,"");if(u.lastValue!==e&&(t.onCompositionUpdate(e),u.lastValue&&t.undo(),u.lastValue=e,u.lastValue)){var n=t.selection.getRange();t.insert(u.lastValue),t.session.markUndoGroup(),u.range=t.selection.getRange(),t.selection.setRange(n),t.selection.clearSelection()}}},_=function(e){if(t.onCompositionEnd&&!t.$readOnly){var n=u;u=!1;var s=setTimeout((function(){s=null;var e=i.value.replace(/\x01/g,"");u||(e==n.lastValue?C():!n.lastValue&&e&&(C(),B(e)))}));b=function(e){return s&&clearTimeout(s),(e=e.replace(/\x01/g,""))==n.lastValue?"":(n.lastValue&&s&&t.undo(),e)},t.onCompositionEnd(),t.removeListener("mousedown",_),"compositionend"==e.type&&n.range&&t.selection.setRange(n.range)}},O=r.delayedCall(T,50);function W(){clearTimeout(R),R=setTimeout((function(){d&&(i.style.cssText=d,d=""),null==t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=!0,t.renderer.$moveTextAreaToCursor())}),s.isOldIE?200:0)}n.addListener(i,"compositionstart",M),s.isGecko?n.addListener(i,"text",(function(){O.schedule()})):(n.addListener(i,"keyup",(function(){O.schedule()})),n.addListener(i,"keydown",(function(){O.schedule()}))),n.addListener(i,"compositionend",_),this.getElement=function(){return i},this.setReadOnly=function(e){i.readOnly=e},this.onContextMenu=function(e){y=!0,A(t.selection.isEmpty()),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){if(r||!s.isOldIE){d||(d=i.style.cssText),i.style.cssText=(r?"z-index:100000;":"")+"height:"+i.style.height+";"+(s.isIE?"opacity:0.1;":"");var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),h=a.top+(parseInt(l.borderTopWidth)||0),c=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-h-i.clientHeight-2,g=function(e){i.style.left=e.clientX-c-2+"px",i.style.top=Math.min(e.clientY-h-2,u)+"px"};g(e),"mousedown"==e.type&&(t.renderer.$keepTextAreaAtCursor&&(t.renderer.$keepTextAreaAtCursor=null),s.isWin&&!s.isOldIE&&n.capture(t.container,g,W))}},this.onContextMenuClose=W;var I=function(e){t.textInput.onContextMenu(e),W()};n.addListener(t.renderer.scroller,"contextmenu",I),n.addListener(i,"contextmenu",I)}})),define("ace/mouse/default_handlers",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,i){"use strict";e("../lib/dom"),e("../lib/event"),e("../lib/useragent");function n(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e));["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function s(e,t){if(e.start.row==e.end.row)var i=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)i=2*t.row-e.start.row-e.end.row;else var i=t.column-4;return i<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),i=e.getDocumentPosition();this.mousedownEvent=e;var n=this.editor;if(0!==e.getButton()){var s=n.getSelectionRange().isEmpty();return n.$blockScrolling++,s&&n.selection.moveToPosition(i),n.$blockScrolling--,void n.textInput.onContextMenu(e.domEvent)}return this.mousedownEvent.time=Date.now(),!t||n.isFocused()||(n.focus(),!this.$focusTimout||this.$clickSelection||n.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(i,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var i=this.editor;i.$blockScrolling++,this.mousedownEvent.getShiftKey()?i.selection.selectToPosition(e):t||i.selection.moveToPosition(e),t||this.select(),i.renderer.scroller.setCapture&&i.renderer.scroller.setCapture(),i.setStyle("ace_selecting"),this.setState("select"),i.$blockScrolling--},this.select=function(){var e,t=this.editor,i=t.renderer.screenToTextCoordinates(this.x,this.y);if(t.$blockScrolling++,this.$clickSelection){var n=this.$clickSelection.comparePoint(i);if(-1==n)e=this.$clickSelection.end;else if(1==n)e=this.$clickSelection.start;else{var o=s(this.$clickSelection,i);i=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(i),t.$blockScrolling--,t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,i=this.editor,n=i.renderer.screenToTextCoordinates(this.x,this.y),o=i.selection[e](n.row,n.column);if(i.$blockScrolling++,this.$clickSelection){var r=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==r&&a<=0)t=this.$clickSelection.end,o.end.row==n.row&&o.end.column==n.column||(n=o.start);else if(1==a&&r>=0)t=this.$clickSelection.start,o.start.row==n.row&&o.start.column==n.column||(n=o.end);else if(-1==r&&1==a)n=o.end,t=o.start;else{var l=s(this.$clickSelection,n);n=l.cursor,t=l.anchor}i.selection.setSelectionAnchor(t.row,t.column)}i.selection.selectToPosition(n),i.$blockScrolling--,i.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,i,n,s=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,i=this.x,n=this.y,Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))),o=Date.now();(s>0||o-this.mousedownEvent.time>this.$focusTimout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),i=this.editor,n=i.session.getBracketRange(t);n?(n.isEmpty()&&(n.start.column--,n.end.column++),this.setState("select")):(n=i.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=n,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),i=this.editor;this.setState("selectByLines");var n=i.getSelectionRange();n.isMultiLine()&&n.contains(t.row,t.column)?(this.$clickSelection=i.selection.getLineRange(n.start.row),this.$clickSelection.end=i.selection.getLineRange(n.end.row).end):this.$clickSelection=i.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=e.domEvent.timeStamp,i=t-(this.$lastScrollTime||0),n=this.editor;return n.renderer.isScrollableBy(e.wheelX*e.speed,e.wheelY*e.speed)||i<200?(this.$lastScrollTime=t,n.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(n.prototype),t.DefaultHandlers=n})),define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,i){"use strict";e("./lib/oop");var n=e("./lib/dom");function s(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=n.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){n.setInnerText(this.getElement(),e)},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){n.addCssClass(this.getElement(),e)},this.show=function(e,t,i){null!=e&&this.setText(e),null!=t&&null!=i&&this.setPosition(t,i),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth}}).call(s.prototype),t.Tooltip=s})),define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event"),r=e("../tooltip").Tooltip;function a(e){r.call(this,e)}s.inherits(a,r),function(){this.setPosition=function(e,t){var i=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();(e+=15)+s>i&&(e-=e+s-i),(t+=15)+o>n&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,i,s,r=e.editor,l=r.renderer.$gutterLayer,h=new a(r.container);function c(){t&&(t=clearTimeout(t)),s&&(h.hide(),s=null,r.removeEventListener("mousewheel",c))}function u(e){h.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(r.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var i=t.getDocumentPosition().row,n=r.session.selection;if(t.getShiftKey())n.selectTo(i,0);else{if(2==t.domEvent.detail)return r.selectAll(),t.preventDefault();e.$clickSelection=r.selection.getLineRange(i)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(n.hasCssClass(a,"ace_fold-widget"))return c();s&&e.$tooltipFollowsMouse&&u(o),i=o,t||(t=setTimeout((function(){t=null,i&&!e.isMousePressed?function(){var t=i.getDocumentPosition().row,n=l.$annotations[t];if(!n)return c();if(t==r.session.getLength()){var o=r.renderer.pixelToScreenCoordinates(0,i.y).row,a=i.$pos;if(o>r.session.documentToScreenRow(a.row,a.column))return c()}if(s!=n)if(s=n.text.join("<br/>"),h.setHtml(s),h.show(),r.on("mousewheel",c),e.$tooltipFollowsMouse)u(i);else{var d=l.$cells[r.session.documentToScreenRow(t,0)].element.getBoundingClientRect(),g=h.getElement().style;g.left=d.right+"px",g.top=d.bottom+"px"}}():c()}),50))})),o.addListener(r.renderer.$gutter,"mouseout",(function(e){i=null,s&&!t&&(t=setTimeout((function(){t=null,c()}),50))})),r.on("changeSession",c)}})),define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){n.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){n.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return n.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/event"),o=e("../lib/useragent");function r(e){var t=e.editor,i=n.createElement("img");i.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(i.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;");["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.addEventListener("mousedown",this.onMouseDown.bind(e));var r,l,h,c,u,d,g,f,m,p,A,C=t.container,F=0;function v(){var e=d;(function(e,i){var n=Date.now(),s=!i||e.row!=i.row,o=!i||e.column!=i.column;!p||s||o?(t.$blockScrolling+=1,t.moveCursorToPosition(e),t.$blockScrolling-=1,p=n,A={x:l,y:h}):a(A.x,A.y,l,h)>5?p=null:n-p>=200&&(t.renderer.scrollCursorIntoView(),p=null)})(d=t.renderer.screenToTextCoordinates(l,h),e),function(e,i){var n=Date.now(),s=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,r=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-r.left,right:r.right-l},y:{top:h-r.top,bottom:r.bottom-h}},c=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};c/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/s<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var g=e.row!=d.row,f=e.column!=d.column,p=!i||e.row!=i.row;g||f&&!p?m?n-m>=200&&t.renderer.scrollCursorIntoView(d):m=n:m=null}(d,e)}function w(){u=t.selection.toOrientedRange(),r=t.session.addMarker(u,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(c),v(),c=setInterval(v,20),F=0,s.addListener(document,"mousemove",b)}function E(){clearInterval(c),t.session.removeMarker(r),r=null,t.$blockScrolling+=1,t.selection.fromOrientedRange(u),t.$blockScrolling-=1,t.isFocused()&&!f&&t.renderer.$cursorLayer.setBlinking(!t.getReadOnly()),u=null,d=null,F=0,m=null,p=null,s.removeListener(document,"mousemove",b)}this.onDragStart=function(e){if(this.cancelDrag||!C.draggable){var n=this;return setTimeout((function(){n.startSelect(),n.captureMouse(e)}),0),e.preventDefault()}u=t.getSelectionRange();var s=e.dataTransfer;s.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(i),i.scrollTop=0),s.setDragImage&&s.setDragImage(i,0,0),o.isOpera&&t.container.removeChild(i),s.clearData(),s.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(C.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var i=e.dataTransfer.dropEffect;g||"move"!=i||t.session.remove(t.getSelectionRange()),t.renderer.$cursorLayer.setBlinking(!0)}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&y(e.dataTransfer))return l=e.clientX,h=e.clientY,r||w(),F++,e.dataTransfer.dropEffect=g=B(e),s.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&y(e.dataTransfer))return l=e.clientX,h=e.clientY,r||(w(),F++),null!==$&&($=null),e.dataTransfer.dropEffect=g=B(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--F<=0&&r)return E(),g=null,s.preventDefault(e)},this.onDrop=function(e){if(d){var i=e.dataTransfer;if(f)switch(g){case"move":u=u.contains(d.row,d.column)?{start:d,end:d}:t.moveText(u,d);break;case"copy":u=t.moveText(u,d,!0)}else{var n=i.getData("Text");u={start:d,end:t.session.insert(d,n)},t.focus(),g=null}return E(),s.preventDefault(e)}},s.addListener(C,"dragstart",this.onDragStart.bind(e)),s.addListener(C,"dragend",this.onDragEnd.bind(e)),s.addListener(C,"dragenter",this.onDragEnter.bind(e)),s.addListener(C,"dragover",this.onDragOver.bind(e)),s.addListener(C,"dragleave",this.onDragLeave.bind(e)),s.addListener(C,"drop",this.onDrop.bind(e));var $=null;function b(){null==$&&($=setTimeout((function(){null!=$&&r&&E()}),20))}function y(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function B(e){var t=["copy","copymove","all","uninitialized"],i=o.isMac?e.altKey:e.ctrlKey,n="uninitialized";try{n=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return i&&t.indexOf(n)>=0?s="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(n)>=0?s="move":t.indexOf(n)>=0&&(s="copy"),s}}function a(e,t,i,n){return Math.sqrt(Math.pow(i-e,2)+Math.pow(n-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.renderer.$cursorLayer.setBlinking(!this.editor.getReadOnly()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop());"dragWait"===this.state&&(a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition())))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,i=e.inSelection(),n=e.getButton();if(1===(e.domEvent.detail||1)&&0===n&&i){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;if("unselectable"in s&&(s.unselectable="on"),t.getDragDelay()){if(o.isWebKit)this.cancelDrag=!0,t.container.draggable=!0;this.setState("dragWait")}else this.startDrag();this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r})),define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("./dom");t.get=function(e,t){var i=new XMLHttpRequest;i.open("GET",e,!0),i.onreadystatechange=function(){4===i.readyState&&t(i.responseText)},i.send(null)},t.loadScript=function(e,t){var i=n.getDocumentHead(),s=document.createElement("script");s.src=e,i.appendChild(s),s.onload=s.onreadystatechange=function(e,i){!i&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,i||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,i){"use strict";var n={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};n._emit=n._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var i=this._eventRegistry[e]||[],n=this._defaultHandlers[e];if(i.length||n){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=o),i=i.slice();for(var r=0;r<i.length&&(i[r](t,this),!t.propagationStopped);r++);return n&&!t.defaultPrevented?n(t,this):void 0}},n._signal=function(e,t){var i=(this._eventRegistry||{})[e];if(i){i=i.slice();for(var n=0;n<i.length;n++)i[n](t,this)}},n.once=function(e,t){var i=this;t&&this.addEventListener(e,(function n(){i.removeEventListener(e,n),t.apply(null,arguments)}))},n.setDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i||(i=this._defaultHandlers={_disabled_:{}}),i[e]){var n=i[e],s=i._disabled_[e];s||(i._disabled_[e]=s=[]),s.push(n);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}i[e]=t},n.removeDefaultHandler=function(e,t){var i=this._defaultHandlers;if(i){var n=i._disabled_[e];if(i[e]==t){i[e];n&&this.setDefaultHandler(e,n.pop())}else if(n){var s=n.indexOf(t);-1!=s&&n.splice(s,1)}}},n.on=n.addEventListener=function(e,t,i){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];return n||(n=this._eventRegistry[e]=[]),-1==n.indexOf(t)&&n[i?"unshift":"push"](t),t},n.off=n.removeListener=n.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];if(i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}},n.removeAllListeners=function(e){this._eventRegistry&&(this._eventRegistry[e]=[])},t.EventEmitter=n})),define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){var n=e("./oop"),s=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};return e?Array.isArray(e)||(t=e,e=Object.keys(t)):e=Object.keys(this.$options),e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var i=this.$options[e];if(!i)return r('misspelled option "'+e+'"');if(i.forwardTo)return this[i.forwardTo]&&this[i.forwardTo].setOption(e,t);i.handlesSet||(this["$"+e]=t),i&&i.set&&i.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}};function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var i=new Error(e);i.data=t,"object"==typeof console&&console.error&&console.error(i),setTimeout((function(){throw i}))}var l=function(){this.$defaultOptions={}};(function(){n.implement(this,s),this.defineOptions=function(e,t,i){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(i).forEach((function(t){var n=i[t];"string"==typeof n&&(n={forwardTo:n}),n.name||(n.name=t),e.$options[n.name]=n,"initialValue"in n&&(e["$"+n.name]=n.initialValue)})),n.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var i=e.$options[t];"value"in i&&e.setOption(t,i.value)}))},this.setDefaultValue=function(e,t,i){var n=this.$defaultOptions[e]||(this.$defaultOptions[e]={});n[t]&&(n.forwardTo?this.setDefaultValue(n.forwardTo,t,i):n[t].value=i)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(i){this.setDefaultValue(e,i,t[i])}),this)},this.warn=r,this.reportError=a}).call(l.prototype),t.AppConfig=l})),define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,i){var n=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),o=e("./lib/app_config").AppConfig;i.exports=t=new o;var r=function(){return this}(),a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{}};function l(n){if(a.packaged=n||e.packaged||i.packaged||r.define&&define.packaged,!r.document)return"";for(var s,o={},l="",h=document.currentScript||document._currentScript,c=(h&&h.ownerDocument||document).getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u],g=d.src||d.getAttribute("src");if(g){for(var f=d.attributes,m=0,p=f.length;m<p;m++){var A=f[m];0===A.name.indexOf("data-ace-")&&(o[(s=A.name.replace(/^data-ace-/,""),s.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=A.value)}var C=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);C&&(l=C[1])}}for(var F in l&&(o.base=o.base||l,o.packaged=!0),o.basePath=o.base,o.workerPath=o.workerPath||o.base,o.modePath=o.modePath||o.base,o.themePath=o.themePath||o.base,delete o.base,o)void 0!==o[F]&&t.set(F,o[F])}t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);a[e]=t},t.all=function(){return n.copyObject(a)},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var i=e.split("/"),n="snippets"==(t=t||i[i.length-2]||"")?"/":"-",s=i[i.length-1];if("worker"==t&&"-"==n){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&i.length>1&&(s=i[i.length-2]);var r=a[t+"Path"];return null==r?r=a.basePath:"/"==n&&(t=n=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+n+s+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(i,n){var o,r;Array.isArray(i)&&(r=i[0],i=i[1]);try{o=e(i)}catch(e){}if(o&&!t.$loading[i])return n&&n(o);if(t.$loading[i]||(t.$loading[i]=[]),t.$loading[i].push(n),!(t.$loading[i].length>1)){var a=function(){e([i],(function(e){t._emit("load.module",{name:i,module:e});var n=t.$loading[i];t.$loading[i]=null,n.forEach((function(t){t&&t(e)}))}))};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(i,r),a)}},l(!0),t.init=l})),define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/config"],(function(e,t,i){"use strict";var n=e("../lib/event"),s=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,h=e("../config"),c=function(e){var t=this;this.editor=e,new o(this),new r(this),new l(this);var i=function(t){document.hasFocus&&document.hasFocus()||window.focus(),e.focus()},a=e.renderer.getMouseEventTarget();n.addListener(a,"click",this.onMouseEvent.bind(this,"click")),n.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove")),n.addMultiMouseDownListener(a,[400,300,250],this,"onMouseEvent"),e.renderer.scrollBarV&&(n.addMultiMouseDownListener(e.renderer.scrollBarV.inner,[400,300,250],this,"onMouseEvent"),n.addMultiMouseDownListener(e.renderer.scrollBarH.inner,[400,300,250],this,"onMouseEvent"),s.isIE&&(n.addListener(e.renderer.scrollBarV.element,"mousedown",i),n.addListener(e.renderer.scrollBarH.element,"mousedown",i))),n.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"));var h=e.renderer.$gutter;n.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown")),n.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick")),n.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick")),n.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove")),n.addListener(a,"mousedown",i),n.addListener(h,"mousedown",(function(t){return e.focus(),n.preventDefault(t)})),e.on("mousemove",(function(i){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var n=e.renderer.screenToTextCoordinates(i.x,i.y),s=e.session.selection.getRange(),o=e.renderer;!s.isEmpty()&&s.insideStart(n.row,n.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}))};(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var i=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;i&&i.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var i=new a(t,this.editor);i.speed=2*this.$scrollSpeed,i.wheelX=t.wheelX,i.wheelY=t.wheelY,this.editor._emit(e,i)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var i=this.editor.renderer;i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=null);var o=this,r=function(e){if(e){if(s.isWebKit&&!e.which&&o.releaseMouse)return o.releaseMouse();o.x=e.clientX,o.y=e.clientY,t&&t(e),o.mouseEvent=new a(e,o.editor),o.$mouseMoved=!0}},l=function(e){clearInterval(c),h(),o[o.state+"End"]&&o[o.state+"End"](e),o.state="",null==i.$keepTextAreaAtCursor&&(i.$keepTextAreaAtCursor=!0,i.$moveTextAreaToCursor()),o.isMousePressed=!1,o.$onCaptureMouseMove=o.releaseMouse=null,e&&o.onMouseEvent("mouseup",e)},h=function(){o[o.state]&&o[o.state](),o.$mouseMoved=!1};if(s.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){l(e)}));o.$onCaptureMouseMove=r,o.releaseMouse=n.capture(this.editor.container,r,l);var c=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&n.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)}}).call(c.prototype),h.defineOptions(c.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=c})),define("ace/mouse/fold_handler",["require","exports","module"],(function(e,t,i){"use strict";t.FoldHandler=function(e){e.on("click",(function(t){var i=t.getDocumentPosition(),n=e.session,s=n.getFoldAt(i.row,i.column,1);s&&(t.getAccelKey()?n.removeFold(s):n.expandFold(s),t.stop())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session;n.foldWidgets&&n.foldWidgets[i]&&e.session.onFoldWidgetClick(i,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var i=t.getDocumentPosition().row,n=e.session,s=n.getParentFoldRangeData(i,!0),o=s.range||s.firstRange;if(o){i=o.start.row;var r=n.getFoldAt(i,n.getLine(i).length,1);r?n.removeFold(r):(n.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,i){"use strict";var n=e("../lib/keys"),s=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var i=this.$handlers.indexOf(e);-1!=i&&this.$handlers.splice(i,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==i&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(i){return i.getStatusText&&i.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,i,n){for(var o,r=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,i,n))&&o.command&&((r="null"==o.command||a.exec(o.command,this.$editor,o.args,n))&&n&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&s.stopEvent(n),r)););return r},this.onCommandKey=function(e,t,i){var s=n.keyCodeToString(i);this.$callKeyboardHandlers(t,s,i,e)},this.onTextInput=function(e){this.$callKeyboardHandlers(-1,e)||this.$editor.commands.exec("insertstring",this.$editor,e)}}).call(o.prototype),t.KeyBinding=o})),define("ace/range",["require","exports","module"],(function(e,t,i){"use strict";var n=function(e,t,i,n){this.start={row:e,column:t},this.end={row:i,column:n}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,i=e.end,n=e.start;return 1==(t=this.compare(i.row,i.column))?1==(t=this.compare(n.row,n.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(n.row,n.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&(!this.isEnd(e,t)&&!this.isStart(e,t))},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var i={row:t+1,column:0};else if(this.end.row<e)i={row:e,column:0};if(this.start.row>t)var s={row:t+1,column:0};else if(this.start.row<e)s={row:e,column:0};return n.fromPoints(s||this.start,i||this.end)},this.extend=function(e,t){var i=this.compare(e,t);if(0==i)return this;if(-1==i)var s={row:e,column:t};else var o={row:e,column:t};return n.fromPoints(s||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return n.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new n(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new n(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),i=e.documentToScreenPosition(this.end);return new n(t.row,t.column,i.row,i.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(n.prototype),n.fromPoints=function(e,t){return new n(e.row,e.column,t.row,t.column)},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},n.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=n})),define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.lead=this.selectionLead=this.doc.createAnchor(0,0),this.anchor=this.selectionAnchor=this.doc.createAnchor(0,0);var t=this;this.lead.on("change",(function(e){t._emit("changeCursor"),t.$isEmpty||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.selectionAnchor.on("change",(function(){t.$isEmpty||t._emit("changeSelection")}))};(function(){n.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.isEmpty()&&this.getRange().isMultiLine()},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.anchor.setPosition(e,t),this.$isEmpty&&(this.$isEmpty=!1,this._emit("changeSelection"))},this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.shiftSelection=function(e){if(this.$isEmpty)this.moveCursorTo(this.lead.row,this.lead.column+e);else{var t=this.getSelectionAnchor(),i=this.getSelectionLead(),n=this.isBackwards();n&&0===t.column||this.setSelectionAnchor(t.row,t.column+e),(n||0!==i.column)&&this.$moveSelection((function(){this.moveCursorTo(i.row,i.column+e)}))}},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.isEmpty()?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){var e=this.doc.getLength()-1;this.setSelectionAnchor(0,0),this.moveCursorTo(e,this.doc.getLine(e).length)},this.setRange=this.setSelectionRange=function(e,t){t?(this.setSelectionAnchor(e.end.row,e.end.column),this.selectTo(e.start.row,e.start.column)):(this.setSelectionAnchor(e.start.row,e.start.column),this.selectTo(e.end.row,e.end.column)),this.getRange().isEmpty()&&(this.$isEmpty=!0),this.$desiredColumn=null},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var i=e||this.lead;e=i.row,t=i.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var i,n="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(n);return s?(n=s.start.row,i=s.end.row):i=n,!0===t?new r(n,0,i,this.session.getLine(i).length):new r(n,0,i+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var i=this.session.getTabSize();this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column-i,t.column).split(" ").length-1==i?this.moveCursorBy(0,-i):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var i=this.session.getTabSize();t=this.lead;this.session.isTabStop(t)&&this.doc.getLine(t.row).slice(t.column,t.column+i).split(" ").length-1==i?this.moveCursorBy(0,i):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,i=this.session.documentToScreenRow(e,t),n=this.session.screenToDocumentPosition(i,0),s=this.session.getDisplayLine(e,null,n.row,n.column).match(/^\s*/);s[0].length==t||this.session.$useEmacsStyleLineStart||(n.column+=s[0].length),this.moveCursorToPosition(n)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var i=this.session.getLine(t.row);if(t.column==i.length){var n=i.search(/\s+$/);n>0&&(t.column=n)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(n)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,n=i.substring(t)),t>=i.length)return this.moveCursorTo(e,i.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(n)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))this.moveCursorTo(e.start.row,e.start.column);else{var n=this.session.getFoldStringAt(t,i,-1);null==n&&(n=this.doc.getLine(t).substring(0,i));var o=s.stringReverse(n);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(i-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),i<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(i-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,i)}},this.$shortWordEndIndex=function(e){var t,i=0,n=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))i=this.session.tokenRe.lastIndex;else{for(;(t=e[i])&&n.test(t);)i++;if(i<1)for(s.lastIndex=0;(t=e[i])&&!s.test(t);)if(s.lastIndex=0,i++,n.test(t)){if(i>2){i--;break}for(;(t=e[i])&&n.test(t);)i++;if(i>2)break}}return s.lastIndex=0,i},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,i=this.doc.getLine(e),n=i.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==i.length){var o=this.doc.getLength();do{e++,n=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(n));/^\s+/.test(n)||(n=""),t=0}var r=this.$shortWordEndIndex(n);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,i=this.lead.column;if(e=this.session.getFoldAt(t,i,-1))return this.moveCursorTo(e.start.row,e.start.column);var n=this.session.getLine(t).substring(0,i);if(0===i){do{t--,n=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(n));i=n.length,/\s+$/.test(n)||(n="")}var o=s.stringReverse(n),r=this.$shortWordEndIndex(o);return this.moveCursorTo(t,i-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column);var n=this.session.screenToDocumentPosition(i.row+e,i.column);0!==e&&0===t&&n.row===this.lead.row&&n.column===this.lead.column&&this.session.lineWidgets&&this.session.lineWidgets[n.row]&&n.row++,this.moveCursorTo(n.row,n.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,i){var n=this.session.getFoldAt(e,t,1);n&&(e=n.start.row,t=n.start.column),this.$keepDesiredColumnOnChange=!0,this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,i||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,i){var n=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(n.row,n.column,i)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e.call(null,this);var i=this.getCursor();return r.fromPoints(t,i)}catch(e){return r.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList){this.toSingleRange(e[0]);for(var t=e.length;t--;){var i=r.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(i.cursor=i.start),this.addRange(i,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,i){"use strict";var n=e("./config"),s=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var i=this.states[t],n=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<i.length;l++){var h=i[l];if(h.defaultToken&&(o.defaultToken=h.defaultToken),h.caseInsensitive&&(r="gi"),null!=h.regex){h.regex instanceof RegExp&&(h.regex=h.regex.toString().slice(1,-1));var c=h.regex,u=new RegExp("(?:("+c+")|(.))").exec("a").length-2;Array.isArray(h.token)?1==h.token.length||1==u?h.token=h.token[0]:u-1!=h.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:h,groupCount:u-1}),h.token=h.token[0]):(h.tokenArray=h.token,h.token=null,h.onMatch=this.$arrayTokens):"function"!=typeof h.token||h.onMatch||(h.onMatch=u>1?this.$applyToken:h.token),u>1&&(/\\\d/.test(h.regex)?c=h.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+s+1)})):(u=1,c=this.removeCapturingGroups(h.regex)),h.splitRegex||"string"==typeof h.token||a.push(h)),o[s]=l,s+=u,n.push(c),h.onMatch||(h.onMatch=null)}}n.length||(o[0]=0,n.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)}),this),this.regExps[t]=new RegExp("("+n.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),i=this.token.apply(this,t);if("string"==typeof i)return[{type:i,value:e}];for(var n=[],s=0,o=i.length;s<o;s++)t[s]&&(n[n.length]={type:i[s],value:t[s]});return n},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var i=[],n=this.tokenArray,s=0,o=n.length;s<o;s++)t[s+1]&&(i[i.length]={type:n[s],value:t[s+1]});return i},this.removeCapturingGroups=function(e){return e.replace(/\[(?:\\.|[^\]])*?\]|\\.|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var i=0,n=!1,s={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,r,a,l){return n?n="]"!=a:a?n=!0:r?(i==s.stack&&(s.end=l+1,s.stack=-1),i--):o&&(i++,1!=o.length&&(s.stack=i,s.start=l)),e})),null!=s.end&&/^\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var i=t.slice(0);"#tmp"===(t=i[0])&&(i.shift(),t=i.shift())}else i=[];var n=t||"start",o=this.states[n];o||(n="start",o=this.states[n]);var r=this.matchMappings[n],a=this.regExps[n];a.lastIndex=0;for(var l,h=[],c=0,u=0,d={type:null,value:""};l=a.exec(e);){var g=r.defaultToken,f=null,m=l[0],p=a.lastIndex;if(p-m.length>c){var A=e.substring(c,p-m.length);d.type==g?d.value+=A:(d.type&&h.push(d),d={type:g,value:A})}for(var C=0;C<l.length-2;C++)if(void 0!==l[C+1]){g=(f=o[r[C]]).onMatch?f.onMatch(m,n,i):f.token,f.next&&(n="string"==typeof f.next?f.next:f.next(n,i),(o=this.states[n])||(this.reportError("state doesn't exist",n),n="start",o=this.states[n]),r=this.matchMappings[n],c=p,(a=this.regExps[n]).lastIndex=p);break}if(m)if("string"==typeof g)f&&!1===f.merge||d.type!==g?(d.type&&h.push(d),d={type:g,value:m}):d.value+=m;else if(g){d.type&&h.push(d),d={type:null,value:""};for(C=0;C<g.length;C++)h.push(g[C])}if(c==e.length)break;if(c=p,u++>s){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});c<e.length;)d.type&&h.push(d),d={value:e.substring(c,c+=2e3),type:"overflow"};n="start",i=[];break}}return d.type&&h.push(d),i.length>1&&i[0]!==n&&i.unshift("#tmp",n),{tokens:h,state:i.length?i:n}},this.reportError=n.reportError}).call(o.prototype),t.Tokenizer=o})),define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,i){"use strict";var n=e("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var i in e){for(var n=e[i],s=0;s<n.length;s++){var o=n[s];(o.next||o.onMatch)&&("string"!=typeof o.next?o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState):0!==o.next.indexOf(t)&&(o.next=t+o.next))}this.$rules[t+i]=n}else for(var i in e)this.$rules[i]=e[i]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,i,s,o){var r="function"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else for(var l in s=[],r)s.push(t+l);if(this.addRules(r,t),i){var h=Array.prototype[o?"push":"unshift"];for(a=0;a<s.length;a++)h.apply(this.$rules[s[a]],n.deepCopy(i))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var i=0,n=this.$rules;Object.keys(n).forEach((function s(o){var r=n[o];r.processed=!0;for(var a=0;a<r.length;a++){var l=r[a];!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h=l.next||l.push;if(h&&Array.isArray(h)){var c=l.stateName;c||("string"!=typeof(c=l.token)&&(c=c[0]||""),n[c]&&(c+=i++)),n[c]=h,l.next=c,s(c)}else"pop"==h&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var u in l.rules)n[u]?n[u].push&&n[u].push.apply(n[u],l.rules[u]):n[u]=l.rules[u];if(l.include||"string"==typeof l)var d=l.include||l,g=n[d];else Array.isArray(l)&&(g=l);if(g){var f=[a,1].concat(g);l.noEscape&&(f=f.filter((function(e){return!e.next}))),r.splice.apply(r,f),a--,g=null}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,i,n){var s=Object.create(null);return Object.keys(e).forEach((function(t){var o=e[t];i&&(o=o.toLowerCase());for(var r=o.split(n||"|"),a=r.length;a--;)s[r[a]]=t})),Object.getPrototypeOf(s)&&(s.__proto__=null),this.$keywordList=Object.keys(s),e=null,i?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s})),define("ace/mode/behaviour",["require","exports","module"],(function(e,t,i){"use strict";var n=function(){this.$behaviours={}};(function(){this.add=function(e,t,i){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=i},this.addBehaviours=function(e){for(var t in e)for(var i in e[t])this.add(t,i,e[t][i])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var i=(new e).getBehaviours(t);else i=e.getBehaviours(t);this.addBehaviours(i)},this.getBehaviours=function(e){if(e){for(var t={},i=0;i<e.length;i++)this.$behaviours[e[i]]&&(t[e[i]]=this.$behaviours[e[i]]);return t}return this.$behaviours}}).call(n.prototype),t.Behaviour=n})),define("ace/unicode",["require","exports","module"],(function(e,t,i){"use strict";t.packages={},function(e){var i=/\w{4}/g;for(var n in e)t.packages[n]=e[n].replace(i,"\\u$&")}({L:"0041-005A0061-007A00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D03860388-038A038C038E-03A103A3-03F503F7-0481048A-05250531-055605590561-058705D0-05EA05F0-05F20621-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280904-0939093D09500958-0961097109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510D0-10FA10FC1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209421022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2D00-2D252D30-2D652D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A65FA662-A66EA67F-A697A6A0-A6E5A717-A71FA722-A788A78BA78CA7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",Ll:"0061-007A00AA00B500BA00DF-00F600F8-00FF01010103010501070109010B010D010F01110113011501170119011B011D011F01210123012501270129012B012D012F01310133013501370138013A013C013E014001420144014601480149014B014D014F01510153015501570159015B015D015F01610163016501670169016B016D016F0171017301750177017A017C017E-0180018301850188018C018D019201950199-019B019E01A101A301A501A801AA01AB01AD01B001B401B601B901BA01BD-01BF01C601C901CC01CE01D001D201D401D601D801DA01DC01DD01DF01E101E301E501E701E901EB01ED01EF01F001F301F501F901FB01FD01FF02010203020502070209020B020D020F02110213021502170219021B021D021F02210223022502270229022B022D022F02310233-0239023C023F0240024202470249024B024D024F-02930295-02AF037103730377037B-037D039003AC-03CE03D003D103D5-03D703D903DB03DD03DF03E103E303E503E703E903EB03ED03EF-03F303F503F803FB03FC0430-045F04610463046504670469046B046D046F04710473047504770479047B047D047F0481048B048D048F04910493049504970499049B049D049F04A104A304A504A704A904AB04AD04AF04B104B304B504B704B904BB04BD04BF04C204C404C604C804CA04CC04CE04CF04D104D304D504D704D904DB04DD04DF04E104E304E504E704E904EB04ED04EF04F104F304F504F704F904FB04FD04FF05010503050505070509050B050D050F05110513051505170519051B051D051F0521052305250561-05871D00-1D2B1D62-1D771D79-1D9A1E011E031E051E071E091E0B1E0D1E0F1E111E131E151E171E191E1B1E1D1E1F1E211E231E251E271E291E2B1E2D1E2F1E311E331E351E371E391E3B1E3D1E3F1E411E431E451E471E491E4B1E4D1E4F1E511E531E551E571E591E5B1E5D1E5F1E611E631E651E671E691E6B1E6D1E6F1E711E731E751E771E791E7B1E7D1E7F1E811E831E851E871E891E8B1E8D1E8F1E911E931E95-1E9D1E9F1EA11EA31EA51EA71EA91EAB1EAD1EAF1EB11EB31EB51EB71EB91EBB1EBD1EBF1EC11EC31EC51EC71EC91ECB1ECD1ECF1ED11ED31ED51ED71ED91EDB1EDD1EDF1EE11EE31EE51EE71EE91EEB1EED1EEF1EF11EF31EF51EF71EF91EFB1EFD1EFF-1F071F10-1F151F20-1F271F30-1F371F40-1F451F50-1F571F60-1F671F70-1F7D1F80-1F871F90-1F971FA0-1FA71FB0-1FB41FB61FB71FBE1FC2-1FC41FC61FC71FD0-1FD31FD61FD71FE0-1FE71FF2-1FF41FF61FF7210A210E210F2113212F21342139213C213D2146-2149214E21842C30-2C5E2C612C652C662C682C6A2C6C2C712C732C742C76-2C7C2C812C832C852C872C892C8B2C8D2C8F2C912C932C952C972C992C9B2C9D2C9F2CA12CA32CA52CA72CA92CAB2CAD2CAF2CB12CB32CB52CB72CB92CBB2CBD2CBF2CC12CC32CC52CC72CC92CCB2CCD2CCF2CD12CD32CD52CD72CD92CDB2CDD2CDF2CE12CE32CE42CEC2CEE2D00-2D25A641A643A645A647A649A64BA64DA64FA651A653A655A657A659A65BA65DA65FA663A665A667A669A66BA66DA681A683A685A687A689A68BA68DA68FA691A693A695A697A723A725A727A729A72BA72DA72F-A731A733A735A737A739A73BA73DA73FA741A743A745A747A749A74BA74DA74FA751A753A755A757A759A75BA75DA75FA761A763A765A767A769A76BA76DA76FA771-A778A77AA77CA77FA781A783A785A787A78CFB00-FB06FB13-FB17FF41-FF5A",Lu:"0041-005A00C0-00D600D8-00DE01000102010401060108010A010C010E01100112011401160118011A011C011E01200122012401260128012A012C012E01300132013401360139013B013D013F0141014301450147014A014C014E01500152015401560158015A015C015E01600162016401660168016A016C016E017001720174017601780179017B017D018101820184018601870189-018B018E-0191019301940196-0198019C019D019F01A001A201A401A601A701A901AC01AE01AF01B1-01B301B501B701B801BC01C401C701CA01CD01CF01D101D301D501D701D901DB01DE01E001E201E401E601E801EA01EC01EE01F101F401F6-01F801FA01FC01FE02000202020402060208020A020C020E02100212021402160218021A021C021E02200222022402260228022A022C022E02300232023A023B023D023E02410243-02460248024A024C024E03700372037603860388-038A038C038E038F0391-03A103A3-03AB03CF03D2-03D403D803DA03DC03DE03E003E203E403E603E803EA03EC03EE03F403F703F903FA03FD-042F04600462046404660468046A046C046E04700472047404760478047A047C047E0480048A048C048E04900492049404960498049A049C049E04A004A204A404A604A804AA04AC04AE04B004B204B404B604B804BA04BC04BE04C004C104C304C504C704C904CB04CD04D004D204D404D604D804DA04DC04DE04E004E204E404E604E804EA04EC04EE04F004F204F404F604F804FA04FC04FE05000502050405060508050A050C050E05100512051405160518051A051C051E0520052205240531-055610A0-10C51E001E021E041E061E081E0A1E0C1E0E1E101E121E141E161E181E1A1E1C1E1E1E201E221E241E261E281E2A1E2C1E2E1E301E321E341E361E381E3A1E3C1E3E1E401E421E441E461E481E4A1E4C1E4E1E501E521E541E561E581E5A1E5C1E5E1E601E621E641E661E681E6A1E6C1E6E1E701E721E741E761E781E7A1E7C1E7E1E801E821E841E861E881E8A1E8C1E8E1E901E921E941E9E1EA01EA21EA41EA61EA81EAA1EAC1EAE1EB01EB21EB41EB61EB81EBA1EBC1EBE1EC01EC21EC41EC61EC81ECA1ECC1ECE1ED01ED21ED41ED61ED81EDA1EDC1EDE1EE01EE21EE41EE61EE81EEA1EEC1EEE1EF01EF21EF41EF61EF81EFA1EFC1EFE1F08-1F0F1F18-1F1D1F28-1F2F1F38-1F3F1F48-1F4D1F591F5B1F5D1F5F1F68-1F6F1FB8-1FBB1FC8-1FCB1FD8-1FDB1FE8-1FEC1FF8-1FFB21022107210B-210D2110-211221152119-211D212421262128212A-212D2130-2133213E213F214521832C00-2C2E2C602C62-2C642C672C692C6B2C6D-2C702C722C752C7E-2C802C822C842C862C882C8A2C8C2C8E2C902C922C942C962C982C9A2C9C2C9E2CA02CA22CA42CA62CA82CAA2CAC2CAE2CB02CB22CB42CB62CB82CBA2CBC2CBE2CC02CC22CC42CC62CC82CCA2CCC2CCE2CD02CD22CD42CD62CD82CDA2CDC2CDE2CE02CE22CEB2CEDA640A642A644A646A648A64AA64CA64EA650A652A654A656A658A65AA65CA65EA662A664A666A668A66AA66CA680A682A684A686A688A68AA68CA68EA690A692A694A696A722A724A726A728A72AA72CA72EA732A734A736A738A73AA73CA73EA740A742A744A746A748A74AA74CA74EA750A752A754A756A758A75AA75CA75EA760A762A764A766A768A76AA76CA76EA779A77BA77DA77EA780A782A784A786A78BFF21-FF3A",Lt:"01C501C801CB01F21F88-1F8F1F98-1F9F1FA8-1FAF1FBC1FCC1FFC",Lm:"02B0-02C102C6-02D102E0-02E402EC02EE0374037A0559064006E506E607F407F507FA081A0824082809710E460EC610FC17D718431AA71C78-1C7D1D2C-1D611D781D9B-1DBF2071207F2090-20942C7D2D6F2E2F30053031-3035303B309D309E30FC-30FEA015A4F8-A4FDA60CA67FA717-A71FA770A788A9CFAA70AADDFF70FF9EFF9F",Lo:"01BB01C0-01C3029405D0-05EA05F0-05F20621-063F0641-064A066E066F0671-06D306D506EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA0800-08150904-0939093D09500958-096109720979-097F0985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C330C35-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10D05-0D0C0D0E-0D100D12-0D280D2A-0D390D3D0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E450E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EDC0EDD0F000F40-0F470F49-0F6C0F88-0F8B1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10D0-10FA1100-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA1700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317DC1820-18421844-18771880-18A818AA18B0-18F51900-191C1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541B05-1B331B45-1B4B1B83-1BA01BAE1BAF1C00-1C231C4D-1C4F1C5A-1C771CE9-1CEC1CEE-1CF12135-21382D30-2D652D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE3006303C3041-3096309F30A1-30FA30FF3105-312D3131-318E31A0-31B731F0-31FF3400-4DB54E00-9FCBA000-A014A016-A48CA4D0-A4F7A500-A60BA610-A61FA62AA62BA66EA6A0-A6E5A7FB-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2AA00-AA28AA40-AA42AA44-AA4BAA60-AA6FAA71-AA76AA7AAA80-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADBAADCABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA2DFA30-FA6DFA70-FAD9FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF66-FF6FFF71-FF9DFFA0-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC",M:"0300-036F0483-04890591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DE-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0903093C093E-094E0951-0955096209630981-098309BC09BE-09C409C709C809CB-09CD09D709E209E30A01-0A030A3C0A3E-0A420A470A480A4B-0A4D0A510A700A710A750A81-0A830ABC0ABE-0AC50AC7-0AC90ACB-0ACD0AE20AE30B01-0B030B3C0B3E-0B440B470B480B4B-0B4D0B560B570B620B630B820BBE-0BC20BC6-0BC80BCA-0BCD0BD70C01-0C030C3E-0C440C46-0C480C4A-0C4D0C550C560C620C630C820C830CBC0CBE-0CC40CC6-0CC80CCA-0CCD0CD50CD60CE20CE30D020D030D3E-0D440D46-0D480D4A-0D4D0D570D620D630D820D830DCA0DCF-0DD40DD60DD8-0DDF0DF20DF30E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F3E0F3F0F71-0F840F860F870F90-0F970F99-0FBC0FC6102B-103E1056-1059105E-10601062-10641067-106D1071-10741082-108D108F109A-109D135F1712-17141732-1734175217531772177317B6-17D317DD180B-180D18A91920-192B1930-193B19B0-19C019C819C91A17-1A1B1A55-1A5E1A60-1A7C1A7F1B00-1B041B34-1B441B6B-1B731B80-1B821BA1-1BAA1C24-1C371CD0-1CD21CD4-1CE81CED1CF21DC0-1DE61DFD-1DFF20D0-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66F-A672A67CA67DA6F0A6F1A802A806A80BA823-A827A880A881A8B4-A8C4A8E0-A8F1A926-A92DA947-A953A980-A983A9B3-A9C0AA29-AA36AA43AA4CAA4DAA7BAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE3-ABEAABECABEDFB1EFE00-FE0FFE20-FE26",Mn:"0300-036F0483-04870591-05BD05BF05C105C205C405C505C70610-061A064B-065E067006D6-06DC06DF-06E406E706E806EA-06ED07110730-074A07A6-07B007EB-07F30816-0819081B-08230825-08270829-082D0900-0902093C0941-0948094D0951-095509620963098109BC09C1-09C409CD09E209E30A010A020A3C0A410A420A470A480A4B-0A4D0A510A700A710A750A810A820ABC0AC1-0AC50AC70AC80ACD0AE20AE30B010B3C0B3F0B41-0B440B4D0B560B620B630B820BC00BCD0C3E-0C400C46-0C480C4A-0C4D0C550C560C620C630CBC0CBF0CC60CCC0CCD0CE20CE30D41-0D440D4D0D620D630DCA0DD2-0DD40DD60E310E34-0E3A0E47-0E4E0EB10EB4-0EB90EBB0EBC0EC8-0ECD0F180F190F350F370F390F71-0F7E0F80-0F840F860F870F90-0F970F99-0FBC0FC6102D-10301032-10371039103A103D103E10581059105E-10601071-1074108210851086108D109D135F1712-17141732-1734175217531772177317B7-17BD17C617C9-17D317DD180B-180D18A91920-19221927192819321939-193B1A171A181A561A58-1A5E1A601A621A65-1A6C1A73-1A7C1A7F1B00-1B031B341B36-1B3A1B3C1B421B6B-1B731B801B811BA2-1BA51BA81BA91C2C-1C331C361C371CD0-1CD21CD4-1CE01CE2-1CE81CED1DC0-1DE61DFD-1DFF20D0-20DC20E120E5-20F02CEF-2CF12DE0-2DFF302A-302F3099309AA66FA67CA67DA6F0A6F1A802A806A80BA825A826A8C4A8E0-A8F1A926-A92DA947-A951A980-A982A9B3A9B6-A9B9A9BCAA29-AA2EAA31AA32AA35AA36AA43AA4CAAB0AAB2-AAB4AAB7AAB8AABEAABFAAC1ABE5ABE8ABEDFB1EFE00-FE0FFE20-FE26",Mc:"0903093E-09400949-094C094E0982098309BE-09C009C709C809CB09CC09D70A030A3E-0A400A830ABE-0AC00AC90ACB0ACC0B020B030B3E0B400B470B480B4B0B4C0B570BBE0BBF0BC10BC20BC6-0BC80BCA-0BCC0BD70C01-0C030C41-0C440C820C830CBE0CC0-0CC40CC70CC80CCA0CCB0CD50CD60D020D030D3E-0D400D46-0D480D4A-0D4C0D570D820D830DCF-0DD10DD8-0DDF0DF20DF30F3E0F3F0F7F102B102C10311038103B103C105610571062-10641067-106D108310841087-108C108F109A-109C17B617BE-17C517C717C81923-19261929-192B193019311933-193819B0-19C019C819C91A19-1A1B1A551A571A611A631A641A6D-1A721B041B351B3B1B3D-1B411B431B441B821BA11BA61BA71BAA1C24-1C2B1C341C351CE11CF2A823A824A827A880A881A8B4-A8C3A952A953A983A9B4A9B5A9BAA9BBA9BD-A9C0AA2FAA30AA33AA34AA4DAA7BABE3ABE4ABE6ABE7ABE9ABEAABEC",Me:"0488048906DE20DD-20E020E2-20E4A670-A672",N:"0030-003900B200B300B900BC-00BE0660-066906F0-06F907C0-07C90966-096F09E6-09EF09F4-09F90A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BF20C66-0C6F0C78-0C7E0CE6-0CEF0D66-0D750E50-0E590ED0-0ED90F20-0F331040-10491090-10991369-137C16EE-16F017E0-17E917F0-17F91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C5920702074-20792080-20892150-21822185-21892460-249B24EA-24FF2776-27932CFD30073021-30293038-303A3192-31953220-32293251-325F3280-328932B1-32BFA620-A629A6E6-A6EFA830-A835A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nd:"0030-00390660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19DA1A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9AA50-AA59ABF0-ABF9FF10-FF19",Nl:"16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF",No:"00B200B300B900BC-00BE09F4-09F90BF0-0BF20C78-0C7E0D70-0D750F2A-0F331369-137C17F0-17F920702074-20792080-20892150-215F21892460-249B24EA-24FF2776-27932CFD3192-31953220-32293251-325F3280-328932B1-32BFA830-A835",P:"0021-00230025-002A002C-002F003A003B003F0040005B-005D005F007B007D00A100AB00B700BB00BF037E0387055A-055F0589058A05BE05C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F3A-0F3D0F850FD0-0FD4104A-104F10FB1361-13681400166D166E169B169C16EB-16ED1735173617D4-17D617D8-17DA1800-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD32010-20272030-20432045-20512053-205E207D207E208D208E2329232A2768-277527C527C627E6-27EF2983-299829D8-29DB29FC29FD2CF9-2CFC2CFE2CFF2E00-2E2E2E302E313001-30033008-30113014-301F3030303D30A030FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFD3EFD3FFE10-FE19FE30-FE52FE54-FE61FE63FE68FE6AFE6BFF01-FF03FF05-FF0AFF0C-FF0FFF1AFF1BFF1FFF20FF3B-FF3DFF3FFF5BFF5DFF5F-FF65",Pd:"002D058A05BE140018062010-20152E172E1A301C303030A0FE31FE32FE58FE63FF0D",Ps:"0028005B007B0F3A0F3C169B201A201E2045207D208D23292768276A276C276E27702772277427C527E627E827EA27EC27EE2983298529872989298B298D298F299129932995299729D829DA29FC2E222E242E262E283008300A300C300E3010301430163018301A301DFD3EFE17FE35FE37FE39FE3BFE3DFE3FFE41FE43FE47FE59FE5BFE5DFF08FF3BFF5BFF5FFF62",Pe:"0029005D007D0F3B0F3D169C2046207E208E232A2769276B276D276F27712773277527C627E727E927EB27ED27EF298429862988298A298C298E2990299229942996299829D929DB29FD2E232E252E272E293009300B300D300F3011301530173019301B301E301FFD3FFE18FE36FE38FE3AFE3CFE3EFE40FE42FE44FE48FE5AFE5CFE5EFF09FF3DFF5DFF60FF63",Pi:"00AB2018201B201C201F20392E022E042E092E0C2E1C2E20",Pf:"00BB2019201D203A2E032E052E0A2E0D2E1D2E21",Pc:"005F203F20402054FE33FE34FE4D-FE4FFF3F",Po:"0021-00230025-0027002A002C002E002F003A003B003F0040005C00A100B700BF037E0387055A-055F058905C005C305C605F305F40609060A060C060D061B061E061F066A-066D06D40700-070D07F7-07F90830-083E0964096509700DF40E4F0E5A0E5B0F04-0F120F850FD0-0FD4104A-104F10FB1361-1368166D166E16EB-16ED1735173617D4-17D617D8-17DA1800-18051807-180A1944194519DE19DF1A1E1A1F1AA0-1AA61AA8-1AAD1B5A-1B601C3B-1C3F1C7E1C7F1CD3201620172020-20272030-2038203B-203E2041-20432047-205120532055-205E2CF9-2CFC2CFE2CFF2E002E012E06-2E082E0B2E0E-2E162E182E192E1B2E1E2E1F2E2A-2E2E2E302E313001-3003303D30FBA4FEA4FFA60D-A60FA673A67EA6F2-A6F7A874-A877A8CEA8CFA8F8-A8FAA92EA92FA95FA9C1-A9CDA9DEA9DFAA5C-AA5FAADEAADFABEBFE10-FE16FE19FE30FE45FE46FE49-FE4CFE50-FE52FE54-FE57FE5F-FE61FE68FE6AFE6BFF01-FF03FF05-FF07FF0AFF0CFF0EFF0FFF1AFF1BFF1FFF20FF3CFF61FF64FF65",S:"0024002B003C-003E005E0060007C007E00A2-00A900AC00AE-00B100B400B600B800D700F702C2-02C502D2-02DF02E5-02EB02ED02EF-02FF03750384038503F604820606-0608060B060E060F06E906FD06FE07F609F209F309FA09FB0AF10B700BF3-0BFA0C7F0CF10CF20D790E3F0F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-139917DB194019E0-19FF1B61-1B6A1B74-1B7C1FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE20442052207A-207C208A-208C20A0-20B8210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B2140-2144214A-214D214F2190-2328232B-23E82400-24262440-244A249C-24E92500-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE27C0-27C427C7-27CA27CC27D0-27E527F0-29822999-29D729DC-29FB29FE-2B4C2B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F309B309C319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A700-A716A720A721A789A78AA828-A82BA836-A839AA77-AA79FB29FDFCFDFDFE62FE64-FE66FE69FF04FF0BFF1C-FF1EFF3EFF40FF5CFF5EFFE0-FFE6FFE8-FFEEFFFCFFFD",Sm:"002B003C-003E007C007E00AC00B100D700F703F60606-060820442052207A-207C208A-208C2140-2144214B2190-2194219A219B21A021A321A621AE21CE21CF21D221D421F4-22FF2308-230B23202321237C239B-23B323DC-23E125B725C125F8-25FF266F27C0-27C427C7-27CA27CC27D0-27E527F0-27FF2900-29822999-29D729DC-29FB29FE-2AFF2B30-2B442B47-2B4CFB29FE62FE64-FE66FF0BFF1C-FF1EFF5CFF5EFFE2FFE9-FFEC",Sc:"002400A2-00A5060B09F209F309FB0AF10BF90E3F17DB20A0-20B8A838FDFCFE69FF04FFE0FFE1FFE5FFE6",Sk:"005E006000A800AF00B400B802C2-02C502D2-02DF02E5-02EB02ED02EF-02FF0375038403851FBD1FBF-1FC11FCD-1FCF1FDD-1FDF1FED-1FEF1FFD1FFE309B309CA700-A716A720A721A789A78AFF3EFF40FFE3",So:"00A600A700A900AE00B000B60482060E060F06E906FD06FE07F609FA0B700BF3-0BF80BFA0C7F0CF10CF20D790F01-0F030F13-0F170F1A-0F1F0F340F360F380FBE-0FC50FC7-0FCC0FCE0FCF0FD5-0FD8109E109F13601390-1399194019E0-19FF1B61-1B6A1B74-1B7C210021012103-21062108210921142116-2118211E-2123212521272129212E213A213B214A214C214D214F2195-2199219C-219F21A121A221A421A521A7-21AD21AF-21CD21D021D121D321D5-21F32300-2307230C-231F2322-2328232B-237B237D-239A23B4-23DB23E2-23E82400-24262440-244A249C-24E92500-25B625B8-25C025C2-25F72600-266E2670-26CD26CF-26E126E326E8-26FF2701-27042706-2709270C-27272729-274B274D274F-27522756-275E2761-276727942798-27AF27B1-27BE2800-28FF2B00-2B2F2B452B462B50-2B592CE5-2CEA2E80-2E992E9B-2EF32F00-2FD52FF0-2FFB300430123013302030363037303E303F319031913196-319F31C0-31E33200-321E322A-32503260-327F328A-32B032C0-32FE3300-33FF4DC0-4DFFA490-A4C6A828-A82BA836A837A839AA77-AA79FDFDFFE4FFE8FFEDFFEEFFFCFFFD",Z:"002000A01680180E2000-200A20282029202F205F3000",Zs:"002000A01680180E2000-200A202F205F3000",Zl:"2028",Zp:"2029",C:"0000-001F007F-009F00AD03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-0605061C061D0620065F06DD070E070F074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17B417B517DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF200B-200F202A-202E2060-206F20722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-F8FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFD-FF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFFBFFFEFFFF",Cc:"0000-001F007F-009F",Cf:"00AD0600-060306DD070F17B417B5200B-200F202A-202E2060-2064206A-206FFEFFFFF9-FFFB",Co:"E000-F8FF",Cs:"D800-DFFF",Cn:"03780379037F-0383038B038D03A20526-05300557055805600588058B-059005C8-05CF05EB-05EF05F5-05FF06040605061C061D0620065F070E074B074C07B2-07BF07FB-07FF082E082F083F-08FF093A093B094F095609570973-097809800984098D098E0991099209A909B109B3-09B509BA09BB09C509C609C909CA09CF-09D609D8-09DB09DE09E409E509FC-0A000A040A0B-0A0E0A110A120A290A310A340A370A3A0A3B0A3D0A43-0A460A490A4A0A4E-0A500A52-0A580A5D0A5F-0A650A76-0A800A840A8E0A920AA90AB10AB40ABA0ABB0AC60ACA0ACE0ACF0AD1-0ADF0AE40AE50AF00AF2-0B000B040B0D0B0E0B110B120B290B310B340B3A0B3B0B450B460B490B4A0B4E-0B550B58-0B5B0B5E0B640B650B72-0B810B840B8B-0B8D0B910B96-0B980B9B0B9D0BA0-0BA20BA5-0BA70BAB-0BAD0BBA-0BBD0BC3-0BC50BC90BCE0BCF0BD1-0BD60BD8-0BE50BFB-0C000C040C0D0C110C290C340C3A-0C3C0C450C490C4E-0C540C570C5A-0C5F0C640C650C70-0C770C800C810C840C8D0C910CA90CB40CBA0CBB0CC50CC90CCE-0CD40CD7-0CDD0CDF0CE40CE50CF00CF3-0D010D040D0D0D110D290D3A-0D3C0D450D490D4E-0D560D58-0D5F0D640D650D76-0D780D800D810D840D97-0D990DB20DBC0DBE0DBF0DC7-0DC90DCB-0DCE0DD50DD70DE0-0DF10DF5-0E000E3B-0E3E0E5C-0E800E830E850E860E890E8B0E8C0E8E-0E930E980EA00EA40EA60EA80EA90EAC0EBA0EBE0EBF0EC50EC70ECE0ECF0EDA0EDB0EDE-0EFF0F480F6D-0F700F8C-0F8F0F980FBD0FCD0FD9-0FFF10C6-10CF10FD-10FF1249124E124F12571259125E125F1289128E128F12B112B612B712BF12C112C612C712D7131113161317135B-135E137D-137F139A-139F13F5-13FF169D-169F16F1-16FF170D1715-171F1737-173F1754-175F176D17711774-177F17DE17DF17EA-17EF17FA-17FF180F181A-181F1878-187F18AB-18AF18F6-18FF191D-191F192C-192F193C-193F1941-1943196E196F1975-197F19AC-19AF19CA-19CF19DB-19DD1A1C1A1D1A5F1A7D1A7E1A8A-1A8F1A9A-1A9F1AAE-1AFF1B4C-1B4F1B7D-1B7F1BAB-1BAD1BBA-1BFF1C38-1C3A1C4A-1C4C1C80-1CCF1CF3-1CFF1DE7-1DFC1F161F171F1E1F1F1F461F471F4E1F4F1F581F5A1F5C1F5E1F7E1F7F1FB51FC51FD41FD51FDC1FF01FF11FF51FFF2065-206920722073208F2095-209F20B9-20CF20F1-20FF218A-218F23E9-23FF2427-243F244B-245F26CE26E226E4-26E727002705270A270B2728274C274E2753-2755275F27602795-279727B027BF27CB27CD-27CF2B4D-2B4F2B5A-2BFF2C2F2C5F2CF2-2CF82D26-2D2F2D66-2D6E2D70-2D7F2D97-2D9F2DA72DAF2DB72DBF2DC72DCF2DD72DDF2E32-2E7F2E9A2EF4-2EFF2FD6-2FEF2FFC-2FFF3040309730983100-3104312E-3130318F31B8-31BF31E4-31EF321F32FF4DB6-4DBF9FCC-9FFFA48D-A48FA4C7-A4CFA62C-A63FA660A661A674-A67BA698-A69FA6F8-A6FFA78D-A7FAA82C-A82FA83A-A83FA878-A87FA8C5-A8CDA8DA-A8DFA8FC-A8FFA954-A95EA97D-A97FA9CEA9DA-A9DDA9E0-A9FFAA37-AA3FAA4EAA4FAA5AAA5BAA7C-AA7FAAC3-AADAAAE0-ABBFABEEABEFABFA-ABFFD7A4-D7AFD7C7-D7CAD7FC-D7FFFA2EFA2FFA6EFA6FFADA-FAFFFB07-FB12FB18-FB1CFB37FB3DFB3FFB42FB45FBB2-FBD2FD40-FD4FFD90FD91FDC8-FDEFFDFEFDFFFE1A-FE1FFE27-FE2FFE53FE67FE6C-FE6FFE75FEFDFEFEFF00FFBF-FFC1FFC8FFC9FFD0FFD1FFD8FFD9FFDD-FFDFFFE7FFEF-FFF8FFFEFFFF"})})),define("ace/token_iterator",["require","exports","module"],(function(e,t,i){"use strict";var n=function(e,t,i){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var n=e.getTokenAt(t,i);this.$tokenIndex=n?n.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,i=e[t].start;if(void 0!==i)return i;for(i=0;t>0;)i+=e[t-=1].value.length;return i}}).call(n.prototype),t.TokenIterator=n})),define("ace/mode/text",["require","exports","module","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,i){"use strict";var n=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,o=e("./behaviour").Behaviour,r=e("../unicode"),a=e("../lib/lang"),l=e("../token_iterator").TokenIterator,h=e("../range").Range,c=function(){this.HighlightRules=s,this.$behaviour=new o};(function(){this.tokenRe=new RegExp("^["+r.packages.L+r.packages.Mn+r.packages.Mc+r.packages.Nd+r.packages.Pc+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+r.packages.L+r.packages.Mn+r.packages.Mc+r.packages.Nd+r.packages.Pc+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules,this.$tokenizer=new n(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,i,n){var s=t.doc,o=!0,r=!0,l=1/0,h=t.getTabSize(),c=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))m=this.lineCommentStart.map(a.escapeRegExp).join("|"),g=this.lineCommentStart[0];else m=a.escapeRegExp(this.lineCommentStart),g=this.lineCommentStart;m=new RegExp("^(\\s*)(?:"+m+") ?"),c=t.getUseSoftTabs();C=function(e,t){var i=e.match(m);if(i){var n=i[1].length,o=i[0].length;d(e,n,o)||" "!=i[0][o-1]||o--,s.removeInLine(t,n,o)}};var u=g+" ",d=(A=function(e,t){o&&!/\S/.test(e)||(d(e,l,l)?s.insertInLine({row:t,column:l},u):s.insertInLine({row:t,column:l},g))},F=function(e,t){return m.test(e)},function(e,t,i){for(var n=0;t--&&" "==e.charAt(t);)n++;if(n%h!=0)return!1;for(n=0;" "==e.charAt(i++);)n++;return h>2?n%h!=h-1:n%h==0})}else{if(!this.blockComment)return!1;var g=this.blockComment.start,f=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+a.escapeRegExp(g)+")"),p=new RegExp("(?:"+a.escapeRegExp(f)+")\\s*$"),A=function(e,t){F(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},f),s.insertInLine({row:t,column:l},g))},C=function(e,t){var i;(i=e.match(p))&&s.removeInLine(t,e.length-i[0].length,e.length),(i=e.match(m))&&s.removeInLine(t,i[1].length,i[0].length)},F=function(e,i){if(m.test(e))return!0;for(var n=t.getTokens(i),s=0;s<n.length;s++)if("comment"===n[s].type)return!0}}function v(e){for(var t=i;t<=n;t++)e(s.getLine(t),t)}var w=1/0;v((function(e,t){var i=e.search(/\S/);-1!==i?(i<l&&(l=i),r&&!F(e,t)&&(r=!1)):w>e.length&&(w=e.length)})),l==1/0&&(l=w,o=!1,r=!1),c&&l%h!=0&&(l=Math.floor(l/h)*h),v(r?C:A)},this.toggleBlockComment=function(e,t,i,n){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(m=new l(t,n.row,n.column)).getCurrentToken(),c=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(p=a.value.indexOf(s.start))){var g=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+p;u=new h(g,f,g,f+s.start.length);break}a=m.stepBackward()}var m;for(a=(m=new l(t,n.row,n.column)).getCurrentToken();a&&/comment/.test(a.type);){var p;if(-1!=(p=a.value.indexOf(s.end))){g=m.getCurrentTokenRow(),f=m.getCurrentTokenColumn()+p;d=new h(g,f,g,f+s.end.length);break}a=m.stepForward()}d&&t.remove(d),u&&(t.remove(u),o=u.start.row,r=-s.start.length)}else r=s.start.length,o=i.start.row,t.insert(i.end,s.end),t.insert(i.start,s.start);c.start.row==o&&(c.start.column+=r),c.end.row==o&&(c.end.column+=r),t.selection.fromOrientedRange(c)}},this.getNextLineIndent=function(e,t,i){return this.$getIndent(t)},this.checkOutdent=function(e,t,i){return!1},this.autoOutdent=function(e,t,i){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)e[t]&&(this.$embeds.push(t),this.$modes[t]=new e[t]);var i=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<i.length;t++)!function(e){var n=i[t],s=e[n];e[i[t]]=function(){return this.$delegator(n,arguments,s)}}(this)},this.$delegator=function(e,t,i){var n=t[0];"string"!=typeof n&&(n=n[0]);for(var s=0;s<this.$embeds.length;s++)if(this.$modes[this.$embeds[s]]){var o=n.split(this.$embeds[s]);if(!o[0]&&o[1]){t[0]=o[1];var r=this.$modes[this.$embeds[s]];return r[e].apply(r,t)}}var a=i.apply(this,t);return i?a:void 0},this.transformAction=function(e,t,i,n,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,i=[];for(var n in t)for(var s=t[n],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&i.push(s[o].regex);else if("object"==typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)if(/keyword|support|storage/.test(s[o].token[a])){n=s[o].regex.match(/\(.+?\)/g)[a];i.push(n.substr(1,n.length-2))}this.completionKeywords=i}return e?i.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,i,n){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(c.prototype),t.Mode=c})),define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,i){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===i?this.setPosition(t.row,t.column):this.setPosition(t,i)};(function(){n.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){var t=e.data,i=t.range;if((i.start.row!=i.end.row||i.start.row==this.row)&&!(i.start.row>this.row||i.start.row==this.row&&i.start.column>this.column)){var n=this.row,s=this.column,o=i.start,r=i.end;"insertText"===t.action?o.row===n&&o.column<=s?o.column===s&&this.$insertRight||(o.row===r.row?s+=r.column-o.column:(s-=o.column,n+=r.row-o.row)):o.row!==r.row&&o.row<n&&(n+=r.row-o.row):"insertLines"===t.action?o.row===n&&0===s&&this.$insertRight||o.row<=n&&(n+=r.row-o.row):"removeText"===t.action?o.row===n&&o.column<s?s=r.column>=s?o.column:Math.max(0,s-(r.column-o.column)):o.row!==r.row&&o.row<n?(r.row===n&&(s=Math.max(0,s-r.column)+o.column),n-=r.row-o.row):r.row===n&&(n-=r.row-o.row,s=Math.max(0,s-r.column)+o.column):"removeLines"==t.action&&o.row<=n&&(r.row<=n?n-=r.row-o.row:(n=o.row,s=0)),this.setPosition(n,s,!0)}},this.setPosition=function(e,t,i){var n;if(n=i?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=n.row||this.column!=n.column){var s={row:this.row,column:this.column};this.row=n.row,this.column=n.column,this._signal("change",{old:s,value:n})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var i={};return e>=this.document.getLength()?(i.row=Math.max(0,this.document.getLength()-1),i.column=this.document.getLine(i.row).length):e<0?(i.row=0,i.column=0):(i.row=e,i.column=Math.min(this.document.getLine(i.row).length,Math.max(0,t))),t<0&&(i.column=0),i}}).call(o.prototype)})),define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=e("./range").Range,r=e("./anchor").Anchor,a=function(e){this.$lines=[],0===e.length?this.$lines=[""]:Array.isArray(e)?this._insertLines(0,e):this.insert({row:0,column:0},e)};(function(){n.implement(this,s),this.setValue=function(e){var t=this.getLength();this.remove(new o(0,0,t,this.getLine(t-1).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new r(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){if(e.start.row==e.end.row)return this.getLine(e.start.row).substring(e.start.column,e.end.column);var t=this.getLines(e.start.row,e.end.row);t[0]=(t[0]||"").substring(e.start.column);var i=t.length-1;return e.end.row-e.start.row==i&&(t[i]=t[i].substring(0,e.end.column)),t.join(this.getNewLineCharacter())},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):e.row<0&&(e.row=0),e},this.insert=function(e,t){if(!t||0===t.length)return e;e=this.$clipPosition(e),this.getLength()<=1&&this.$detectNewLine(t);var i=this.$split(t),n=i.splice(0,1)[0],s=0==i.length?null:i.splice(i.length-1,1)[0];return e=this.insertInLine(e,n),null!==s&&(e=this.insertNewLine(e),e=this._insertLines(e.row,i),e=this.insertInLine(e,s||"")),e},this.insertLines=function(e,t){return e>=this.getLength()?this.insert({row:e,column:0},"\n"+t.join("\n")):this._insertLines(Math.max(e,0),t)},this._insertLines=function(e,t){if(0==t.length)return{row:e,column:0};for(;t.length>2e4;){var i=this._insertLines(e,t.slice(0,2e4));t=t.slice(2e4),e=i.row}var n=[e,0];n.push.apply(n,t),this.$lines.splice.apply(this.$lines,n);var s=new o(e,0,e+t.length,0),r={action:"insertLines",range:s,lines:t};return this._signal("change",{data:r}),s.end},this.insertNewLine=function(e){e=this.$clipPosition(e);var t=this.$lines[e.row]||"";this.$lines[e.row]=t.substring(0,e.column),this.$lines.splice(e.row+1,0,t.substring(e.column,t.length));var i={row:e.row+1,column:0},n={action:"insertText",range:o.fromPoints(e,i),text:this.getNewLineCharacter()};return this._signal("change",{data:n}),i},this.insertInLine=function(e,t){if(0==t.length)return e;var i=this.$lines[e.row]||"";this.$lines[e.row]=i.substring(0,e.column)+t+i.substring(e.column);var n={row:e.row,column:e.column+t.length},s={action:"insertText",range:o.fromPoints(e,n),text:t};return this._signal("change",{data:s}),n},this.remove=function(e){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),e.start=this.$clipPosition(e.start),e.end=this.$clipPosition(e.end),e.isEmpty())return e.start;var t=e.start.row,i=e.end.row;if(e.isMultiLine()){var n=0==e.start.column?t:t+1,s=i-1;e.end.column>0&&this.removeInLine(i,0,e.end.column),s>=n&&this._removeLines(n,s),n!=t&&(this.removeInLine(t,e.start.column,this.getLine(t).length),this.removeNewLine(e.start.row))}else this.removeInLine(t,e.start.column,e.end.column);return e.start},this.removeInLine=function(e,t,i){if(t!=i){var n=new o(e,t,e,i),s=this.getLine(e),r=s.substring(t,i),a=s.substring(0,t)+s.substring(i,s.length);this.$lines.splice(e,1,a);var l={action:"removeText",range:n,text:r};return this._signal("change",{data:l}),n.start}},this.removeLines=function(e,t){return e<0||t>=this.getLength()?this.remove(new o(e,0,t+1,0)):this._removeLines(e,t)},this._removeLines=function(e,t){var i=new o(e,0,t+1,0),n=this.$lines.splice(e,t-e+1),s={action:"removeLines",range:i,nl:this.getNewLineCharacter(),lines:n};return this._signal("change",{data:s}),n},this.removeNewLine=function(e){var t=this.getLine(e),i=this.getLine(e+1),n=new o(e,t.length,e+1,0),s=t+i;this.$lines.splice(e,2,s);var r={action:"removeText",range:n,text:this.getNewLineCharacter()};this._signal("change",{data:r})},this.replace=function(e,t){if(e instanceof o||(e=o.fromPoints(e.start,e.end)),0==t.length&&e.isEmpty())return e.start;if(t==this.getTextRange(e))return e.end;if(this.remove(e),t)var i=this.insert(e.start,t);else i=e.start;return i},this.applyDeltas=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this.insertLines(n.start.row,i.lines):"insertText"==i.action?this.insert(n.start,i.text):"removeLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"removeText"==i.action&&this.remove(n)}},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--){var i=e[t],n=o.fromPoints(i.range.start,i.range.end);"insertLines"==i.action?this._removeLines(n.start.row,n.end.row-1):"insertText"==i.action?this.remove(n):"removeLines"==i.action?this._insertLines(n.start.row,i.lines):"removeText"==i.action&&this.insert(n.start,i.text)}},this.indexToPosition=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=t||0,o=i.length;s<o;s++)if((e-=i[s].length+n)<0)return{row:s,column:e+i[s].length+n};return{row:o-1,column:i[o-1].length}},this.positionToIndex=function(e,t){for(var i=this.$lines||this.getAllLines(),n=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,i.length),r=t||0;r<o;++r)s+=i[r].length+n;return s+e.column}}).call(a.prototype),t.Document=a})),define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var i=this;this.$worker=function(){if(i.running){for(var e=new Date,t=i.currentLine,n=-1,s=i.doc;i.lines[t];)t++;var o=t,r=s.getLength(),a=0;for(i.running=!1;t<r;){i.$tokenizeRow(t),n=t;do{t++}while(i.lines[t]);if(++a%5==0&&new Date-e>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,o<=n&&i.fireUpdateEvent(o,n)}}};(function(){n.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var i={first:e,last:t};this._signal("update",{data:i})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.range,i=t.start.row,n=t.end.row-i;if(0===n)this.lines[i]=null;else if("removeText"==e.action||"removeLines"==e.action)this.lines.splice(i,n+1,null),this.states.splice(i,n+1,null);else{var s=Array(n+1);s.unshift(i,1),this.lines.splice.apply(this.lines,s),this.states.splice.apply(this.states,s)}this.currentLine=Math.min(i,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),i=this.states[e-1],n=this.tokenizer.getLineTokens(t,i,e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(o.prototype),t.BackgroundTokenizer=o})),define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/lang"),s=(e("./lib/oop"),e("./range").Range),o=function(e,t,i){this.setRegexp(e),this.clazz=t,this.type=i||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,i,o){if(this.regExp)for(var r=o.firstRow,a=o.lastRow,l=r;l<=a;l++){var h=this.cache[l];null==h&&((h=n.getMatchOffsets(i.getLine(l),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new s(l,e.offset,l,e.offset+e.length)})),this.cache[l]=h.length?h:"");for(var c=h.length;c--;)t.drawSingleLineMarker(e,h[c].toScreenRange(i),this.clazz,o)}}}).call(o.prototype),t.SearchHighlight=o})),define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("../range").Range;function s(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var i=t[t.length-1];this.range=new n(t[0].start.row,t[0].start.column,i.end.row,i.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,i){var n,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,i=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(n=r[l]).range.compareStart(t,i)))return void e(null,t,i,o,a);if(!e(null,n.start.row,n.start.column,o,a)&&e(n.placeholder,n.start.row,n.start.column,o)||0===s)return;a=!n.sameRow,o=n.end.column}e(null,t,i,o,a)},this.getNextFoldTo=function(e,t){for(var i,n,s=0;s<this.folds.length;s++){if(-1==(n=(i=this.folds[s]).range.compareEnd(e,t)))return{fold:i,kind:"after"};if(0===n)return{fold:i,kind:"inside"}}return null},this.addRemoveChars=function(e,t,i){var n,s,o=this.getNextFoldTo(e,t);if(o)if(n=o.fold,"inside"==o.kind&&n.start.column!=t&&n.start.row!=e)window.console&&window.console.log(e,t,n);else if(n.start.row==e){var r=(s=this.folds).indexOf(n);for(0===r&&(this.start.column+=i);r<s.length;r++){if((n=s[r]).start.column+=i,!n.sameRow)return;n.end.column+=i}this.end.column+=i}},this.split=function(e,t){var i=this.getNextFoldTo(e,t);if(!i||"inside"==i.kind)return null;var n=i.fold,o=this.folds,r=this.foldData,a=o.indexOf(n),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var h=new s(r,o=o.splice(a,o.length-a));return r.splice(r.indexOf(this)+1,0,h),h},this.merge=function(e){for(var t=e.folds,i=0;i<t.length;i++)this.addFold(t[i]);var n=this.foldData;n.splice(n.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,i=0;i<this.folds.length;i++){var n=this.folds[i];if((e-=n.start.column-t)<0)return{row:n.start.row,column:n.start.column+e};if((e-=n.placeholder.length)<0)return n.start;t=n.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(s.prototype),t.FoldLine=s})),define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("./range").Range.comparePoints,s=function(){this.ranges=[]};(function(){this.comparePoints=n,this.pointIndex=function(e,t,i){for(var s=this.ranges,o=i||0;o<s.length;o++){var r=s[o],a=n(e,r.end);if(!(a>0)){var l=n(e,r.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),i=this.pointIndex(e.start,t);i<0&&(i=-i-1);var n=this.pointIndex(e.end,t,i);return n<0?n=-n-1:n++,this.ranges.splice(i,n-i,e)},this.addList=function(e){for(var t=[],i=e.length;i--;)t.push.call(t,this.add(e[i]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],i=this.ranges,s=(i=i.sort((function(e,t){return n(e.start,t.start)})))[0],o=1;o<i.length;o++){e=s,s=i[o];var r=n(e.end,s.start);r<0||(0!=r||e.isEmpty()||s.isEmpty())&&(n(e.end,s.end)<0&&(e.end.row=s.end.row,e.end.column=s.end.column),i.splice(o,1),t.push(s),s=e,o--)}return this.ranges=i,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var i=this.ranges;if(i[0].start.row>t||i[i.length-1].start.row<e)return[];var n=this.pointIndex({row:e,column:0});n<0&&(n=-n-1);var s=this.pointIndex({row:t,column:0},n);s<0&&(s=-s-1);for(var o=[],r=n;r<s;r++)o.push(i[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){var t=e.data.range;if("i"==e.data.action[0])var i=t.start,n=t.end;else n=t.start,i=t.end;for(var s=i.row,o=n.row-s,r=-i.column+n.column,a=this.ranges,l=0,h=a.length;l<h;l++){if(!((c=a[l]).end.row<s)){if(c.start.row>s)break;if(c.start.row==s&&c.start.column>=i.column&&(c.start.column==i.column&&this.$insertRight||(c.start.column+=r,c.start.row+=o)),c.end.row==s&&c.end.column>=i.column){if(c.end.column==i.column&&this.$insertRight)continue;c.end.column==i.column&&r>0&&l<h-1&&c.end.column>c.start.column&&c.end.column==a[l+1].start.column&&(c.end.column-=r),c.end.column+=r,c.end.row+=o}}}if(0!=o&&l<h)for(;l<h;l++){var c;(c=a[l]).start.row+=o,c.end.row+=o}}}).call(s.prototype),t.RangeList=s})),define("ace/edit_session/fold",["require","exports","module","ace/range","ace/range_list","ace/lib/oop"],(function(e,t,i){"use strict";e("../range").Range;var n=e("../range_list").RangeList,s=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}s.inherits(o,n),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){if(!this.range.containsRange(e))throw new Error("A fold can't intersect already existing fold"+e.range+this.range);var t,i;t=e,i=this.start,r(t.start,i),r(t.end,i);for(var n=e.start.row,s=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(n,s));o++);var l=this.subFolds[o];if(0==a)return l.addSubFold(e);n=e.range.end.row,s=e.range.end.column;var h=o;for(a=-1;h<this.subFolds.length&&1==(a=this.subFolds[h].range.compare(n,s));h++);this.subFolds[h];if(0==a)throw new Error("A fold can't intersect already existing fold"+e.range+this.range);this.subFolds.splice(o,h-o,e);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,i){"use strict";var n=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,r=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,i){var n=this.getFoldLine(e);if(!n)return null;for(var s=n.folds,o=0;o<s.length;o++){var r=s[o];if(r.range.contains(e,t)){if(1==i&&r.range.isEnd(e,t))continue;if(-1==i&&r.range.isStart(e,t))continue;return r}}},this.getFoldsInRange=function(e){var t=e.start,i=e.end,n=this.$foldData,s=[];t.column+=1,i.column-=1;for(var o=0;o<n.length;o++){var r=n[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=n[o].folds,l=0;l<a.length;l++){var h=a[l];if(-2==(r=h.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(h)}}}}return t.column-=1,i.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,i=0;i<t.length;i++)for(var n=0;n<t[i].folds.length;n++)e.push(t[i].folds[n]);return e},this.getFoldStringAt=function(e,t,i,n){if(!(n=n||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<n.folds.length;a++){var l=(o=n.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==i?s.substring(0,t-r.end.column):1==i?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var i=this.$foldData,n=0;for(t&&(n=i.indexOf(t)),-1==n&&(n=0);n<i.length;n++){var s=i[n];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var i=this.$foldData,n=t-e+1,s=0;s<i.length;s++){var o=i[s],r=o.end.row,a=o.start.row;if(r>=t){a<t&&(a>=e?n-=t-a:n=0);break}r>=e&&(n-=a>=e?r-a:r-e+1)}return n},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var i,n=this.$foldData,r=!1;e instanceof o?i=e:(i=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(i.range);var a=i.start.row,l=i.start.column,h=i.end.row,c=i.end.column;if(!(a<h||a==h&&l<=c-2))throw new Error("The range has to be at least 2 characters width");var u=this.getFoldAt(a,l,1),d=this.getFoldAt(h,c,-1);if(u&&d==u)return u.addSubFold(i);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(h,c)&&this.removeFold(d);var g=this.getFoldsInRange(i.range);g.length>0&&(this.removeFolds(g),g.forEach((function(e){i.addSubFold(e)})));for(var f=0;f<n.length;f++){var m=n[f];if(h==m.start.row){m.addFold(i),r=!0;break}if(a==m.end.row){if(m.addFold(i),r=!0,!i.sameRow){var p=n[f+1];if(p&&p.start.row==h){m.merge(p);break}}break}if(h<=m.start.row)break}return r||(m=this.$addFoldLine(new s(this.$foldData,i))),this.$useWrapMode?this.$updateWrapData(m.start.row,m.start.row):this.$updateRowLengthCache(m.start.row,m.start.row),this.$modified=!0,this._emit("changeFold",{data:i,action:"add"}),i},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,i=t.start.row,n=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(i,n):this.$updateRowLengthCache(i,n)),this.$modified=!0,this._emit("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],i=0;i<e.length;i++)t.push(e[i]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var i,s;if(null==e?(i=new n(0,0,this.getLength(),0),t=!0):i="number"==typeof e?new n(e,0,e,this.getLine(e).length):"row"in e?n.fromPoints(e,e):e,s=this.getFoldsInRangeList(i),t)this.removeFolds(s);else for(var o=s;o.length;)this.expandFolds(o),o=this.getFoldsInRangeList(i);if(s.length)return s},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var i=this.getFoldLine(e,t);return i?i.end.row:e},this.getRowFoldStart=function(e,t){var i=this.getFoldLine(e,t);return i?i.start.row:e},this.getFoldDisplayLine=function(e,t,i,n,s){null==n&&(n=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==i&&(i=this.getLine(t).length);var o=this.doc,r="";return e.walk((function(e,t,i,a){if(!(t<n)){if(t==n){if(i<s)return;a=Math.max(s,a)}r+=null!=e?e:o.getLine(t).substring(a,i)}}),t,i),r},this.getDisplayLine=function(e,t,i,n){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,i,n):(s=this.doc.getLine(e)).substring(n||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var i=t.folds.map((function(e){return e.clone()}));return new s(e,i)}))},this.toggleFold=function(e){var t,i,n=this.selection.getRange();if(n.isEmpty()){var s=n.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(i=this.findMatchingBracket(s))?1==n.comparePoint(i)?n.end=i:(n.start=i,n.start.column++,n.end.column--):(i=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==n.comparePoint(i)?n.end=i:n.start=i,n.start.column++):n=this.getCommentFoldRange(s.row,s.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(n.start.row,n.start.column)),t&&t.range.toString()==n.toString())this.expandFold(t);else{var r="...";if(!n.isMultiLine()){if((r=this.getTextRange(n)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,n)}},this.getCommentFoldRange=function(e,t,i){var s=new r(this,e,t),o=s.getCurrentToken();if(o&&/^comment|string/.test(o.type)){var a=new n,l=new RegExp(o.type.replace(/\..*/,"\\."));if(1!=i){do{o=s.stepBackward()}while(o&&l.test(o.type));s.stepForward()}if(a.start.row=s.getCurrentTokenRow(),a.start.column=s.getCurrentTokenColumn()+2,s=new r(this,e,t),-1!=i){do{o=s.stepForward()}while(o&&l.test(o.type));o=s.stepBackward()}else o=s.getCurrentToken();return a.end.row=s.getCurrentTokenRow(),a.end.column=s.getCurrentTokenColumn()+o.value.length-2,a}},this.foldAll=function(e,t,i){null==i&&(i=1e5);var n=this.foldWidgets;if(n){t=t||this.getLength();for(var s=e=e||0;s<t;s++)if(null==n[s]&&(n[s]=this.getFoldWidget(s)),"start"==n[s]){var o=this.getFoldWidgetRange(s);if(o&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e){s=o.end.row;try{var r=this.addFold("...",o);r&&(r.collapseChildren=i)}catch(e){}}}}},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._emit("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var i=this.foldWidgets;if(!i||t&&i[e])return{};for(var n,s=e-1;s>=0;){var o=i[s];if(null==o&&(o=i[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(n||(n=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:n}},this.onFoldWidgetClick=function(e,t){var i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,i)){var n=t.target||t.srcElement;n&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var i=this.getFoldWidget(e),n=this.getLine(e),s="end"===i?-1:1,o=this.getFoldAt(e,-1===s?0:n.length,s);if(o)t.children||t.all?this.removeFold(o):this.expandFold(o);else{var r=this.getFoldWidgetRange(e,!0);if(!r||r.isMultiLine()||!(o=this.getFoldAt(r.start.row,r.start.column,1))||!r.isEqual(o.range)){if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,h=a.range.end.row;this.foldAll(l,h,t.all?1e4:0)}else t.children?(h=r?r.end.row:this.getLength(),this.foldAll(e+1,h,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}this.removeFold(o)}}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var i=this.$toggleFoldWidget(t,{});if(!i){var n=this.getParentFoldRangeData(t,!0);if(i=n.range||n.firstRange){t=i.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",i)}}},this.updateFoldWidgets=function(e){var t=e.data,i=t.range,n=i.start.row,s=i.end.row-n;if(0===s)this.foldWidgets[n]=null;else if("removeText"==t.action||"removeLines"==t.action)this.foldWidgets.splice(n,s+1,null);else{var o=Array(s+1);o.unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,o)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,i){"use strict";var n=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var i=t||this.getLine(e.row).charAt(e.column-1);if(""==i)return null;var n=i.match(/([\(\[\{])|([\)\]\}])/);return n?n[1]?this.$findClosingBracket(n[1],e):this.$findOpeningBracket(n[2],e):null},this.getBracketRange=function(e){var t,i=this.getLine(e.row),n=!0,o=i.charAt(e.column-1),r=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(r||(o=i.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(/([\(\[\{])|([\)\]\}])/),n=!1),!r)return null;if(r[1]){if(!(a=this.$findClosingBracket(r[1],e)))return null;t=s.fromPoints(e,a),n||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(r[2],e)))return null;t=s.fromPoints(a,e),n||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{"},this.$findOpeningBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn()-2,h=a.value;;){for(;l>=0;){var c=h.charAt(l);if(c==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else c==e&&(o+=1);l-=1}do{a=r.stepBackward()}while(a&&!i.test(a.type));if(null==a)break;l=(h=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,i){var s=this.$brackets[e],o=1,r=new n(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){i||(i=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn();;){for(var h=a.value,c=h.length;l<c;){var u=h.charAt(l);if(u==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else u==e&&(o+=1);l+=1}do{a=r.stepForward()}while(a&&!i.test(a.type));if(null==a)break;l=0}return null}}}})),define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/lang"),o=e("./config"),r=e("./lib/event_emitter").EventEmitter,a=e("./selection").Selection,l=e("./mode/text").Mode,h=e("./range").Range,c=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,d=e("./search_highlight").SearchHighlight,g=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new c(e)),this.setDocument(e),this.selection=new a(this),o.resetOptions(this),this.setMode(t),o._signal("session",this)};(function(){n.implement(this,r),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),this.doc=e,e.on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,i=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>i&&(this.$docRowCache.splice(i,t),this.$screenRowCache.splice(i,t))},this.$getRowCacheIndex=function(e,t){for(var i=0,n=e.length-1;i<=n;){var s=i+n>>1,o=e[s];if(t>o)i=s+1;else{if(!(t<o))return s;n=s-1}}return i-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){var t=e.data;this.$modified=!0,this.$resetRowCache(t.range.start.row);var i=this.$updateInternalDataOnChange(e);this.$fromUndo||!this.$undoManager||t.ignore||(this.$deltasDoc.push(t),i&&0!=i.length&&this.$deltasFold.push({action:"removeFolds",folds:i}),this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(t),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var i,n=this.bgTokenizer.getTokens(e),s=0;if(null==t)o=n.length-1,s=this.getLine(e).length;else for(var o=0;o<n.length&&!((s+=n[o].value.length)>=t);o++);return(i=n[o])?(i.index=o,i.start=s-i.value.length,i):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$deltas=[],this.$deltasDoc=[],this.$deltasFold=[],this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.$deltasFold.length&&(t.$deltas.push({group:"fold",deltas:t.$deltasFold}),t.$deltasFold=[]),t.$deltasDoc.length&&(t.$deltas.push({group:"doc",deltas:t.$deltasDoc}),t.$deltasDoc=[]),t.$deltas.length>0&&e.execute({action:"aceupdate",args:[t.$deltas,t],merge:t.mergeUndoDeltas}),t.mergeUndoDeltas=!1,t.$deltas=[]},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},reset:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,i,n){var s=this.$markerId++,o={range:e,type:i||"line",renderer:"function"==typeof i?i:null,clazz:t,inFront:!!n,id:s};return n?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var i=this.$markerId++;return e.id=i,e.inFront=!!t,t?(this.$frontMarkers[i]=e,this._signal("changeFrontMarker")):(this.$backMarkers[i]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];if(t){var i=t.inFront?this.$frontMarkers:this.$backMarkers;t&&(delete i[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))}},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new d(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,i,n){"number"!=typeof t&&(i=t,t=e),i||(i="ace_step");var s=new h(e,0,t,1/0);return s.id=this.addMarker(s,i,"fullLine",n),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var i=this.getLine(e),n=!1;if(t>0&&(n=!!i.charAt(t-1).match(this.tokenRe)),n||(n=!!i.charAt(t).match(this.tokenRe)),n)var s=this.tokenRe;else if(/^\s+$/.test(i.slice(t-1,t+1)))s=/\s/;else s=this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&i.charAt(o).match(s));o++}for(var r=t;r<i.length&&i.charAt(r).match(s);)r++;return new h(e,o,e,r)},this.getAWordRange=function(e,t){for(var i=this.getWordRange(e,t),n=this.getLine(i.end.row);n.charAt(i.end.column).match(/[ \t]/);)i.end.column+=1;return i},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes={},this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var i=e,n=i.path}else n=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new l),this.$modes[n]&&!i)return this.$onChangeMode(this.$modes[n]),void(t&&t());this.$modeId=n,o.loadModule(["mode",n],function(e){if(this.$modeId!==n)return t&&t();this.$modes[n]&&!i?this.$onChangeMode(this.$modes[n]):e&&e.Mode&&(e=new e.Mode(i),i||(this.$modes[n]=e,e.$id=n),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.addEventListener){var n=this.onReloadTokenizer.bind(this);i.addEventListener("update",n)}if(this.bgTokenizer)this.bgTokenizer.setTokenizer(i);else{this.bgTokenizer=new u(i);var s=this;this.bgTokenizer.addEventListener("update",(function(e){s._signal("tokenizerUpdate",e)}))}this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode"))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){o.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),i=this.$rowLengthCache,n=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>r){if((l=o.end.row+1)>=a)break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==i[l]&&(i[l]=this.$getStringScreenWidth(t[l])[0]),i[l]>n&&(n=i[l])}this.screenWidth=n}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=e.length-1;-1!=n;n--){var s=e[n];"doc"==s.group?(this.doc.revertDeltas(s.deltas),i=this.$getUndoSelection(s.deltas,!0,i)):s.deltas.forEach((function(e){this.addFolds(e.folds)}),this)}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var i=null,n=0;n<e.length;n++){var s=e[n];"doc"==s.group&&(this.doc.applyDeltas(s.deltas),i=this.$getUndoSelection(s.deltas,!1,i))}return this.$fromUndo=!1,i&&this.$undoSelect&&!t&&this.selection.setSelectionRange(i),i}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t,i){function n(e){var i="insertText"===e.action||"insertLines"===e.action;return t?!i:i}var s,o,r=e[0];n(r)?s=h.fromPoints(r.range.start,r.range.end):s=h.fromPoints(r.range.start,r.range.start);for(var a=1;a<e.length;a++)n(r=e[a])?(o=r.range.start,-1==s.compare(o.row,o.column)&&s.setStart(r.range.start),o=r.range.end,1==s.compare(o.row,o.column)&&s.setEnd(r.range.end),!0):(o=r.range.start,-1==s.compare(o.row,o.column)&&(s=h.fromPoints(r.range.start,r.range.start)),!1);if(null!=i){0===h.comparePoints(i.start,s.start)&&(i.start.column+=s.end.column-s.start.column,i.end.column+=s.end.column-s.start.column);var l=i.compareRange(s);1==l?s.setStart(i.start):-1==l&&s.setEnd(i.end)}return s},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,i){var n=this.getTextRange(e),s=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!i){this.remove(e);var r=e.start.row-e.end.row;(c=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,n),s.length){var a=e.start,l=o.start,c=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=r,e.end.row+=r,e})))}return o},this.indentRows=function(e,t,i){i=i.replace(/\t/g,this.getTabString());for(var n=e;n<=t;n++)this.insert({row:n,column:0},i)},this.outdentRows=function(e){for(var t=e.collapseRows(),i=new h(0,0,0,0),n=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);i.start.row=s,i.end.row=s;for(var r=0;r<n&&" "==o.charAt(r);++r);r<n&&"\t"==o.charAt(r)?(i.start.column=r,i.end.column=r+1):(i.start.column=0,i.end.column=r),this.remove(i)}},this.$moveLines=function(e,t,i){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),i<0){if((s=this.getRowFoldStart(e+i))<0)return 0;var n=s-e}else if(i>0){var s;if((s=this.getRowFoldEnd(t+i))>this.doc.getLength()-1)return 0;n=s-t}else{e=this.$clipRowToDocument(e);n=(t=this.$clipRowToDocument(t))-e+1}var o=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=n,e.end.row+=n,e})),a=0==i?this.doc.getLines(e,t):this.doc.removeLines(e,t);return this.doc.insertLines(e+n,a),r.length&&this.addFolds(r),n},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var i=this.doc.getLength();e>=i?(e=i-1,t=this.doc.getLine(i-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var i=this.$wrapLimitRange;i.max<0&&(i={min:t,max:t});var n=this.$constrainWrapLimit(e,i.min,i.max);return n!=this.$wrapLimit&&n>1&&(this.$wrapLimit=n,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,i){return t&&(e=Math.max(t,e)),i&&(e=Math.min(i,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,i=this.$useWrapMode,n=e.data.action,s=e.data.range.start.row,o=e.data.range.end.row,r=e.data.range.start,a=e.data.range.end,l=null;if(-1!=n.indexOf("Lines")?(o="insertLines"==n?s+e.data.lines.length:s,t=e.data.lines?e.data.lines.length:o-s):t=o-s,this.$updating=!0,0!=t)if(-1!=n.indexOf("remove")){this[i?"$wrapData":"$rowLengthCache"].splice(s,t);var h=this.$foldData;l=this.getFoldsInRange(e.data.range),this.removeFolds(l);var c=0;if(m=this.getFoldLine(a.row)){m.addRemoveChars(a.row,a.column,r.column-a.column),m.shiftRow(-t);var u=this.getFoldLine(s);u&&u!==m&&(u.merge(m),m=u),c=h.indexOf(m)+1}for(;c<h.length;c++){(m=h[c]).start.row>=a.row&&m.shiftRow(-t)}o=s}else{var d=Array(t);d.unshift(s,0);var g=i?this.$wrapData:this.$rowLengthCache;g.splice.apply(g,d);h=this.$foldData,c=0;if(m=this.getFoldLine(s)){var f=m.range.compareInside(r.row,r.column);0==f?(m=m.split(r.row,r.column))&&(m.shiftRow(t),m.addRemoveChars(o,0,a.column-r.column)):-1==f&&(m.addRemoveChars(s,0,a.column-r.column),m.shiftRow(t)),c=h.indexOf(m)+1}for(;c<h.length;c++){var m;(m=h[c]).start.row>=s&&m.shiftRow(t)}}else t=Math.abs(e.data.range.start.column-e.data.range.end.column),-1!=n.indexOf("remove")&&(l=this.getFoldsInRange(e.data.range),this.removeFolds(l),t=-t),(m=this.getFoldLine(s))&&m.addRemoveChars(s,r.column,t);return i&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,i?this.$updateWrapData(s,o):this.$updateRowLengthCache(s,o),l},this.$updateRowLengthCache=function(e,t,i){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(i,n){var s,o,r=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,h=this.$wrapLimit,c=i;for(n=Math.min(n,r.length-1);c<=n;)(o=this.getFoldLine(c,o))?(s=[],o.walk(function(i,n,o,a){var l;if(null!=i){(l=this.$getDisplayTokens(i,s.length))[0]=e;for(var h=1;h<l.length;h++)l[h]=t}else l=this.$getDisplayTokens(r[n].substring(a,o),s.length);s=s.concat(l)}.bind(this),o.end.row,r[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(s,h,a),c=o.end.row+1):(s=this.$getDisplayTokens(r[c]),l[c]=this.$computeWrapSplits(s,h,a),c++)};var e=3,t=4;function i(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(i,n,s){if(0==i.length)return[];var o=[],r=i.length,a=0,l=0,h=this.$wrapAsCode,c=this.$indentedSoftWrap,u=n<=Math.max(2*s,8)||!1===c?0:Math.floor(n/2);function d(e){var t=i.slice(a,e),n=t.length;t.join("").replace(/12/g,(function(){n-=1})).replace(/2/g,(function(){n-=1})),o.length||(g=function(){var e=0;if(0===u)return e;if(c)for(var t=0;t<i.length;t++){var n=i[t];if(10==n)e+=1;else{if(11!=n){if(12==n)continue;break}e+=s}}return h&&!1!==c&&(e+=s),Math.min(e,u)}(),o.indent=g),l+=n,o.push(l),a=e}for(var g=0;r-a>n-g;){var f=a+n-g;if(i[f-1]>=10&&i[f]>=10)d(f);else if(i[f]!=e&&i[f]!=t){for(var m=Math.max(f-(n-(n>>2)),a-1);f>m&&i[f]<e;)f--;if(h){for(;f>m&&i[f]<e;)f--;for(;f>m&&9==i[f];)f--}else for(;f>m&&i[f]<10;)f--;f>m?d(++f):(2==i[f=a+n]&&f--,d(f-g))}else{for(;f!=a-1&&i[f]!=e;f--);if(f>a){d(f);continue}for(f=a+n;f<i.length&&i[f]==t;f++);if(f==i.length)break;d(f)}}return o},this.$getDisplayTokens=function(e,t){var n,s=[];t=t||0;for(var o=0;o<e.length;o++){var r=e.charCodeAt(o);if(9==r){n=this.getScreenTabSize(s.length+t),s.push(11);for(var a=1;a<n;a++)s.push(12)}else 32==r?s.push(10):r>39&&r<48||r>57&&r<64?s.push(9):r>=4352&&i(r)?s.push(1,2):s.push(1)}return s},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var s,o;for(null==t&&(t=1/0),n=n||0,o=0;o<e.length&&(9==(s=e.charCodeAt(o))?n+=this.getScreenTabSize(n):s>=4352&&i(s)?n+=2:n+=1,!(n>t));o++);return[n,o]},this.lineWidgets=null,this.getRowLength=function(e){if(this.lineWidgets)var t=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;else t=0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),i=this.$wrapData[t.row];return i.length&&i[0]<t.column?i.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var i=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(i)},this.getDocumentLastRowColumnPosition=function(e,t){var i=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(i,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-e%this.$tabSize},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t){if(e<0)return{row:0,column:0};var i,n,s=0,o=0,r=0,a=0,l=this.$screenRowCache,h=this.$getRowCacheIndex(l,e),c=l.length;if(c&&h>=0){r=l[h],s=this.$docRowCache[h];var u=e>l[c-1]}else u=!c;for(var d=this.getLength()-1,g=this.getNextFoldLine(s),f=g?g.start.row:1/0;r<=e&&!(r+(a=this.getRowLength(s))>e||s>=d);)r+=a,++s>f&&(s=g.end.row+1,f=(g=this.getNextFoldLine(s,g))?g.start.row:1/0),u&&(this.$docRowCache.push(s),this.$screenRowCache.push(r));if(g&&g.start.row<=s)i=this.getFoldDisplayLine(g),s=g.start.row;else{if(r+a<=e||s>d)return{row:d,column:this.getLine(d).length};i=this.getLine(s),g=null}var m=0;if(this.$useWrapMode){var p=this.$wrapData[s];if(p){var A=Math.floor(e-r);n=p[A],A>0&&p.length&&(m=p.indent,o=p[A-1]||p[p.length-1],i=i.substring(o))}}return o+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&o>=n&&(o=n-1),g?g.idxToPosition(o):{row:s,column:o}},this.documentToScreenPosition=function(e,t){if(void 0===t)var i=this.$clipPositionToDocument(e.row,e.column);else i=this.$clipPositionToDocument(e,t);e=i.row,t=i.column;var n,s=0,o=null;(n=this.getFoldAt(e,t,1))&&(e=n.start.row,t=n.start.column);var r,a=0,l=this.$docRowCache,h=this.$getRowCacheIndex(l,e),c=l.length;if(c&&h>=0){a=l[h],s=this.$screenRowCache[h];var u=e>l[c-1]}else u=!c;for(var d=this.getNextFoldLine(a),g=d?d.start.row:1/0;a<e;){if(a>=g){if((r=d.end.row+1)>e)break;g=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f="";d&&a>=g?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var m=0;if(this.$useWrapMode){var p=this.$wrapData[o];if(p){for(var A=0;f.length>=p[A];)s++,A++;f=f.substring(p[A-1]||0,f.length),m=A>0?p.indent:0}}return{row:s,column:m+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var i=this.$wrapData.length,n=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);n<i;){var o=this.$wrapData[n];e+=o?o.length+1:1,++n>s&&(n=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker()}}).call(g.prototype),e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),o.defineOptions(g.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$modified=!0,this.$resetRowCache(0),this.$updateWrapData(0,this.getLength()-1)))},initialValue:"auto"},indentedSoftWrap:{initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){isNaN(e)||this.$tabSize===e||(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId}}}),t.EditSession=g})),define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,i){"use strict";var n=e("./lib/lang"),s=e("./lib/oop"),o=e("./range").Range,r=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return n.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,i=this.$matchIterator(e,t);if(!i)return!1;var n=null;return i.forEach((function(e,i,s){if(e.start)n=e;else{var r=e.offset+(s||0);if(n=new o(i,r,i,r+e.length),!e.length&&t.start&&t.start.start&&0!=t.skipCurrent&&n.isEqual(t.start))return n=null,!1}return!0})),n},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var i=t.range,s=i?e.getLines(i.start.row,i.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,h=a.length,c=s.length-h;e:for(var u=a.offset||0;u<=c;u++){for(var d=0;d<h;d++)if(-1==s[u+d].search(a[d]))continue e;var g=s[u],f=s[u+h-1],m=g.length-g.match(a[0])[0].length,p=f.match(a[h-1])[0].length;l&&l.end.row===u&&l.end.column>m||(r.push(l=new o(u,m,u+h-1,p)),h>2&&(u=u+h-2))}}else for(var A=0;A<s.length;A++){var C=n.getMatchOffsets(s[A],a);for(d=0;d<C.length;d++){var F=C[d];r.push(new o(A,F.offset,A,F.offset+F.length))}}if(i){var v=i.start.column,w=i.start.column;for(A=0,d=r.length-1;A<d&&r[A].start.column<v&&r[A].start.row==i.start.row;)A++;for(;A<d&&r[d].end.column>w&&r[d].end.row==i.end.row;)d--;for(r=r.slice(A,d+1),A=0,d=r.length;A<d;A++)r[A].start.row+=i.start.row,r[A].end.row+=i.start.row}return r},this.replace=function(e,t){var i=this.$options,n=this.$assembleRegExp(i);if(i.$isMultiLine)return t;if(n){var s=n.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(n,t),i.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$matchIterator=function(e,t){var i,s=this.$assembleRegExp(t);if(!s)return!1;if(t.$isMultiLine)var r=s.length,a=function(t,n,a){var l=t.search(s[0]);if(-1!=l){for(var h=1;h<r;h++)if(-1==(t=e.getLine(n+h)).search(s[h]))return;var c=t.match(s[r-1])[0].length,u=new o(n,l,n+r-1,c);return 1==s.offset?(u.start.row--,u.start.column=Number.MAX_VALUE):a&&(u.start.column+=a),!!i(u)||void 0}};else if(t.backwards)a=function(e,t,o){for(var r=n.getMatchOffsets(e,s),a=r.length-1;a>=0;a--)if(i(r[a],t,o))return!0};else a=function(e,t,o){for(var r=n.getMatchOffsets(e,s),a=0;a<r.length;a++)if(i(r[a],t,o))return!0};var l=this.$lineIterator(e,t);return{forEach:function(e){i=e,l.forEach(a)}}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var i=e.needle;if(!e.needle)return e.re=!1;e.regExp||(i=n.escapeRegExp(i)),e.wholeWord&&(i="\\b"+i+"\\b");var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(i),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(i,s);try{var o=new RegExp(i,s)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var i=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),n=[],s=0;s<i.length;s++)try{n.push(new RegExp(i[s],t))}catch(e){return!1}return""==i[0]?(n.shift(),n.offset=1):n.offset=0,n},this.$lineIterator=function(e,t){var i=1==t.backwards,n=0!=t.skipCurrent,s=t.range,o=t.start;o||(o=s?s[i?"end":"start"]:e.selection.getRange()),o.start&&(o=o[n!=i?"end":"start"]);var r=s?s.start.row:0,a=s?s.end.row:e.getLength()-1;return{forEach:i?function(i){var n=o.row;if(!i(e.getLine(n).substring(0,o.column),n)){for(n--;n>=r;n--)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=a,r=o.row;n>=r;n--)if(i(e.getLine(n),n))return}}:function(i){var n=o.row;if(!i(e.getLine(n).substr(o.column),n,o.column)){for(n+=1;n<=a;n++)if(i(e.getLine(n),n))return;if(0!=t.wrap)for(n=r,a=o.row;n<=a;n++)if(i(e.getLine(n),n))return}}}}}).call(r.prototype),t.Search=r})),define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,i){"use strict";var n=e("../lib/keys"),s=e("../lib/useragent"),o=n.KEY_MODS;function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){r.call(this,e,t),this.$singleCommand=!1}a.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||0}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var i=e&&("string"==typeof e?e:e.name);e=this.commands[i],t||delete this.commands[i];var n=this.commandKeyBinding;for(var s in n){var o=n[s];if(o==e)delete n[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(n[s]=o[0]))}}},this.bindKey=function(e,t,i){if("object"==typeof e&&(null==i&&(i=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var n="";if(-1!=e.indexOf(" ")){var s=e.split(/\s+/);e=s.pop(),s.forEach((function(e){var t=this.parseKeys(e),i=o[t.hashId]+t.key;n+=(n?" ":"")+i,this._addCommandToBinding(n,"chainKeys")}),this),n+=" "}var r=this.parseKeys(e),a=o[r.hashId]+r.key;this._addCommandToBinding(n+a,t,i)}),this)},this._addCommandToBinding=function(t,i,n){var s,o=this.commandKeyBinding;if(i)if(!o[t]||this.$singleCommand)o[t]=i;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(i))&&o[t].splice(s,1):o[t]=[o[t]],"number"!=typeof n&&(n=n||i.isDefault?-100:e(i));var r=o[t];for(s=0;s<r.length;s++){if(e(r[s])>n)break}r.splice(s,0,i)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var i=e[t];if(i){if("string"==typeof i)return this.bindKey(i,t);"function"==typeof i&&(i={exec:i}),"object"==typeof i&&(i.name||(i.name=t),this.addCommand(i))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),i=t.pop(),s=n[i];if(n.FUNCTION_KEYS[s])i=n.FUNCTION_KEYS[s].toLowerCase();else{if(!t.length)return{key:i,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:i.toUpperCase(),hashId:-1}}for(var o=0,r=t.length;r--;){var a=n.KEY_MODS[t[r]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[r]+" in "+e),!1;o|=a}return{key:i,hashId:o}},this.findKeyCommand=function(e,t){var i=o[e]+t;return this.commandKeyBinding[i]},this.handleKeyboard=function(e,t,i,n){var s=o[t]+i,r=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,r=this.commandKeyBinding[e.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=i.length?(-1==t||n>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:r}):(e.$keyChain=e.$keyChain||s,{command:"null"})},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=a})),define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))};n.inherits(r,s),function(){n.implement(this,o),this.exec=function(e,t,i){if(Array.isArray(e)){for(var n=e.length;n--;)if(this.exec(e[n],t,i))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;var s={editor:t,command:e,args:i};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.removeEventListener("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(r.prototype),t.CommandManager=r})),define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,i){"use strict";var n=e("../lib/lang"),s=e("../config"),o=e("../range").Range;function r(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:r("Alt-E","Ctrl-E"),exec:function(e){s.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:r("Alt-Shift-E","Ctrl-Shift-E"),exec:function(e){s.loadModule("ace/ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",bindKey:r("Ctrl-L","Command-L"),exec:function(e){var t=parseInt(prompt("Enter line number:"),10);isNaN(t)||e.gotoLine(t)},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",bindKey:r("Ctrl-Shift-Home","Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",bindKey:r("Shift-Up","Shift-Up"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",bindKey:r("Ctrl-Shift-End","Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",bindKey:r("Shift-Down","Shift-Down"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",bindKey:r("Alt-Shift-Left","Command-Shift-Left"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",bindKey:r("Shift-Left","Shift-Left"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",bindKey:r("Alt-Shift-Right","Command-Shift-Right"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",bindKey:r("Ctrl-P","Ctrl-P"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",bindKey:r("Ctrl-Shift-P","Ctrl-Shift-P"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"cut",exec:function(e){var t=e.getSelectionRange();e._emit("cut",t),e.selection.isEmpty()||(e.session.remove(t),e.clearSelection())},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"removeline",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",bindKey:r("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",bindKey:r("Alt-Delete","Ctrl-K"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",exec:function(e,t){e.insert(n.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",bindKey:r("Ctrl-T","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"expandtoline",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),i=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),s=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(i.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(i.row),h=i.row+1;h<=s.row+1;h++){var c=n.stringTrimLeft(n.stringTrimRight(e.session.doc.getLine(h)));0!==c.length&&(c=" "+c),l+=c}s.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(i.row,0,s.row+2,0),l),a>0?(e.selection.moveCursorTo(i.row,i.column),e.selection.selectTo(i.row,i.column+a)):(r=e.session.doc.getLine(i.row).length>r?r+1:r,e.selection.moveCursorTo(i.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,i=e.session.doc.getLine(t).length,n=e.selection.rangeList.ranges,s=[];n.length<1&&(n=[e.selection.getRange()]);for(var r=0;r<n.length;r++)r==n.length-1&&(n[r].end.row===t&&n[r].end.column===i||s.push(new o(n[r].end.row,n[r].end.column,t,i))),0===r?0===n[r].start.row&&0===n[r].start.column||s.push(new o(0,0,n[r].start.row,n[r].start.column)):s.push(new o(n[r-1].end.row,n[r-1].end.column,n[r].start.row,n[r].start.column));e.exitMultiSelectMode(),e.clearSelection();for(r=0;r<s.length;r++)e.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:"none"}]})),define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/lang"),r=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,h=e("./mouse/fold_handler").FoldHandler,c=e("./keyboard/keybinding").KeyBinding,u=e("./edit_session").EditSession,d=e("./search").Search,g=e("./range").Range,f=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,p=e("./commands/default_commands").commands,A=e("./config"),C=e("./token_iterator").TokenIterator,F=function(e,t){var i=e.getContainerElement();this.container=i,this.renderer=e,this.commands=new m(r.isMac?"mac":"win",p),this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.keyBinding=new c(this),this.$mouseHandler=new l(this),new h(this),this.$blockScrolling=0,this.$search=(new d).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall(function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||new u("")),A.resetOptions(this),A._signal("editor",this)};(function(){n.implement(this,f),this.$initOperationListeners=function(){this.selections=[],this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this)),this.on("change",function(){this.curOp||this.startOperation(),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||this.startOperation(),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.command.name&&void 0!==this.curOp.command.scrollIntoView&&this.$blockScrolling++},this.endOperation=function(e){if(this.curOp){if(e&&!1===e.returnValue)return this.curOp=null;this._signal("beforeEndOperation");var t=this.curOp.command;t.name&&this.$blockScrolling>0&&this.$blockScrolling--;var i=t&&t.scrollIntoView;if(i){switch(i){case"center-animate":i="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var n=this.selection.getRange(),s=this.renderer.layerConfig;(n.start.row>=s.lastRow||n.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==i&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,i=this.$mergeableCommands,n=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),n=n&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else n=n&&-1!==i.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(n=!1),n?this.session.mergeUndoDeltas=!0:-1!==i.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e){this.$keybindingId=e;var i=this;A.loadModule(["keybinding",e],(function(n){i.$keybindingId==e&&i.keyBinding.setKeyboardHandler(n&&n.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.removeEventListener("change",this.$onDocumentChange),this.session.removeEventListener("changeMode",this.$onChangeMode),this.session.removeEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.session.removeEventListener("changeTabSize",this.$onChangeTabSize),this.session.removeEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.session.removeEventListener("changeWrapMode",this.$onChangeWrapMode),this.session.removeEventListener("onChangeFold",this.$onChangeFold),this.session.removeEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.session.removeEventListener("changeBackMarker",this.$onChangeBackMarker),this.session.removeEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.session.removeEventListener("changeAnnotation",this.$onChangeAnnotation),this.session.removeEventListener("changeOverwrite",this.$onCursorChange),this.session.removeEventListener("changeScrollTop",this.$onScrollTopChange),this.session.removeEventListener("changeScrollLeft",this.$onScrollLeftChange);var i=this.session.getSelection();i.removeEventListener("changeCursor",this.$onCursorChange),i.removeEventListener("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.addEventListener("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.addEventListener("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.addEventListener("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.addEventListener("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.addEventListener("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.addEventListener("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.addEventListener("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.addEventListener("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.addEventListener("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.addEventListener("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.addEventListener("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.addEventListener("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.addEventListener("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.addEventListener("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.addEventListener("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.addEventListener("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.$blockScrolling+=1,this.onCursorChange(),this.$blockScrolling-=1,this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this})}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||s.computedStyle(this.container,"fontSize")},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(this.session.$bracketHighlight&&(this.session.removeMarker(this.session.$bracketHighlight),this.session.$bracketHighlight=null),!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=t.findMatchingBracket(e.getCursorPosition());if(i)var n=new g(i.row,i.column,i.row,i.column+1);else if(t.$mode.getMatching)n=t.$mode.getMatching(e.session);n&&(t.$bracketHighlight=t.addMarker(n,"ace_bracket","text"))}}),50)}},this.$highlightTags=function(){if(!this.$highlightTagPending){var e=this;this.$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var i=e.getCursorPosition(),n=new C(e.session,i.row,i.column),s=n.getCurrentToken();if(!s||!/\b(?:tag-open|tag-name)/.test(s.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1==s.type.indexOf("tag-open")||(s=n.stepForward())){var o=s.value,r=0,a=n.stepBackward();if("<"==a.value)do{a=s,(s=n.stepForward())&&s.value===o&&-1!==s.type.indexOf("tag-name")&&("<"===a.value?r++:"</"===a.value&&r--)}while(s&&r>=0);else{do{s=a,a=n.stepBackward(),s&&s.value===o&&-1!==s.type.indexOf("tag-name")&&("<"===a.value?r++:"</"===a.value&&r--)}while(a&&r<=0);n.stepForward()}if(!s)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var l=n.getCurrentTokenRow(),h=n.getCurrentTokenColumn(),c=new g(l,h,l,h+s.value.length);t.$tagHighlight&&0!==c.compareRange(t.$backMarkers[t.$tagHighlight].range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),c&&!t.$tagHighlight&&(t.$tagHighlight=t.addMarker(c,"ace_bracket","text"))}}}),50)}},this.focus=function(){var e=this;setTimeout((function(){e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor()},this.onDocumentChange=function(e){var t,i=e.data,n=i.range;t=n.start.row==n.end.row&&"insertLines"!=i.action&&"removeLines"!=i.action?n.end.row:1/0,this.renderer.updateLines(n.start.row,t,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange(),this.$updateHighlightActiveLine()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this.$blockScrolling||(A.warn("Automatically scrolling cursor into view after selection change","this will be disabled in the next version","set editor.$blockScrolling = Infinity to disable this message"),this.renderer.scrollCursorIntoView()),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var i=new g(e.row,e.column,e.row,1/0);i.id=t.addMarker(i,"ace_active-line","screenLine"),t.$highlightLineMarker=i}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var i=this.selection.getRange(),n=this.getSelectionStyle();t.$selectionMarker=t.addMarker(i,"ace_selection",n)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var i=t.start.column-1,n=t.end.column+1,s=e.getLine(t.start.row),o=s.length,r=s.substring(Math.max(i,0),Math.min(n,o));if(!(i>=0&&/^[\w\d]/.test(r)||n<=o&&/[\w\d]$/.test(r)))if(r=s.substring(t.start.column,t.end.column),/^[\w\d]+$/.test(r))return this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:r})}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText();return this._signal("copy",e),e},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e){if(!this.$readOnly){var t={text:e};if(this._signal("paste",t),e=t.text,!this.inMultiSelectMode||this.inVirtualSelectionMode)this.insert(e);else{var i=e.split(/\r\n|\r|\n/),n=this.selection.rangeList.ranges;if(i.length>n.length||i.length<2||!i[1])return this.commands.exec("insertstring",this,e);for(var s=n.length;s--;){var o=n[s];o.isEmpty()||this.session.remove(o),this.session.insert(o.start,i[s])}}this.renderer.scrollCursorIntoView()}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var i=this.session,n=i.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=n.transformAction(i.getState(s.row),"insertion",this,i,e);o&&(e!==o.text&&(this.session.mergeUndoDeltas=!1,this.$mergeNextCommand=!1),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()){(r=new g.fromPoints(s,s)).end.column+=e.length,this.session.remove(r)}}else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=i.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);i.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var h=s.column,c=i.getState(s.row),u=(a=i.getLine(s.row),n.checkOutdent(c,a,e));i.insert(s,e);if(o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new g(s.row,h+o.selection[0],s.row,h+o.selection[1])):this.selection.setSelectionRange(new g(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),i.getDocument().isNewLine(e)){var d=n.getNextLineIndent(c,a.slice(0,s.column),i.getTabString());i.insert({row:s.row+1,column:0},d)}u&&n.autoOutdent(c,i,s.row)},this.onTextInput=function(e){this.keyBinding.onTextInput(e)},this.onCommandKey=function(e,t,i){this.keyBinding.onCommandKey(e,t,i)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var i=this.session,n=i.getState(t.start.row),s=i.getMode().transformAction(n,"deletion",this,i,t);if(0===t.end.column){var o=i.getTextRange(t);if("\n"==o[o.length-1]){var r=i.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var i,n,s=this.session.getLine(e.row);t<s.length?(i=s.charAt(t)+s.charAt(t-1),n=new g(e.row,t-1,e.row,t+1)):(i=s.charAt(t-1)+s.charAt(t-2),n=new g(e.row,t-2,e.row,t)),this.session.replace(n,i)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),i=this.session.getTextRange(t);this.session.replace(t,i.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var i=e.getTextRange(t);if(!/^\s+$/.test(i)){c=this.$getSelectedRows();return void e.indentRows(c.first,c.last,"\t")}}var n=e.getLine(t.start.row),s=t.start,r=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=r-a%r,h=o.stringRepeat(" ",l);else{for(l=a%r;" "==n[t.start.column]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),h="\t"}return this.insert(h)}var c=this.$getSelectedRows();e.indentRows(c.first,c.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){var e=this.$getSelectedRows(),t=this.session,i=[];for(s=e.first;s<=e.last;s++)i.push(t.getLine(s));i.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));for(var n=new g(0,0,0,0),s=e.first;s<=e.last;s++){var o=t.getLine(s);n.start.row=s,n.end.row=s,n.end.column=o.length,t.replace(n,i[s-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),i=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,i,e)},this.getNumberAt=function(e,t){var i=/[\-]?[0-9]+(?:\.[0-9]+)?/g;i.lastIndex=0;for(var n=this.session.getLine(e);i.lastIndex<t;){var s=i.exec(n);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,i=this.selection.getCursor().column,n=new g(t,i-1,t,i),s=this.session.getTextRange(n);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,i);if(o){var r=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&i<r?e*=Math.pow(10,o.end-i-1):e*=Math.pow(10,o.end-i),l+=e;var h=(l/=Math.pow(10,a)).toFixed(a),c=new g(t,o.start,t,o.end);this.session.replace(c,h),this.moveCursorTo(t,Math.max(o.start+1,i+h.length-o.value.length))}}},this.removeLines=function(){var e,t=this.$getSelectedRows();e=0===t.first||t.last+1<this.session.getLength()?new g(t.first,0,t.last+1,0):new g(t.first-1,this.session.getLine(t.first-1).length,t.last,this.session.getLine(t.last).length),this.session.remove(e),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,i=e.getRange(),n=e.isBackwards();if(i.isEmpty()){var s=i.start.row;t.duplicateLines(s,s)}else{var o=n?i.start:i.end,r=t.insert(o,t.getTextRange(i),!1);i.start=o,i.end=r,e.setSelectionRange(i,n)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,i){return this.session.moveText(e,t,i)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var i,n,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();i=this.$getSelectedRows(o),n=this.session.$moveLines(i.first,i.last,t?0:e),t&&-1==e&&(n=0),o.moveBy(n,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,h=r.length,c=0;c<h;c++){var u=c;r[c].moveBy(a,0);for(var d=(i=this.$getSelectedRows(r[c])).first,g=i.last;++c<h;){l&&r[c].moveBy(l,0);var f=this.$getSelectedRows(r[c]);if(t&&f.first!=g)break;if(!t&&f.first>g+1)break;g=f.last}for(c--,a=this.session.$moveLines(d,g,t?0:e),t&&-1==e&&(u=c+1);u<=c;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(this.getCursorPosition())},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var i=this.renderer,n=this.renderer.layerConfig,s=e*Math.floor(n.height/n.lineHeight);this.$blockScrolling++,!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(s,0)})):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection()),this.$blockScrolling--;var o=i.scrollTop;i.scrollBy(0,s*n.lineHeight),null!=t&&i.scrollCursorIntoView(null,.5),i.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,i,n){this.renderer.scrollToLine(e,t,i,n)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.$blockScrolling+=1,this.selection.selectAll(),this.$blockScrolling-=1},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var i=this.getCursorPosition(),n=new C(this.session,i.row,i.column),s=n.getCurrentToken(),o=s||n.stepForward();if(o){var r,a,l=!1,h={},c=i.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;c<o.value.length&&!l;c++)if(u[o.value[c]])switch(a=u[o.value[c]]+"."+o.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),o.value[c]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(r="bracket",l=!0)}}else o&&-1!==o.type.indexOf("tag-name")&&(isNaN(h[o.value])&&(h[o.value]=0),"<"===s.value?h[o.value]++:"</"===s.value&&h[o.value]--,-1===h[o.value]&&(r="tag",l=!0));l||(s=o,o=n.stepForward(),c=0)}while(o&&!l);if(r){var d,f;if("bracket"===r)(d=this.session.getBracketRange(i))||(f=(d=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1,n.getCurrentTokenRow(),n.getCurrentTokenColumn()+c-1)).start,(t||f.row===i.row&&Math.abs(f.column-i.column)<2)&&(d=this.session.getBracketRange(f)));else if("tag"===r){if(!o||-1===o.type.indexOf("tag-name"))return;var m=o.value;if(0===(d=new g(n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2,n.getCurrentTokenRow(),n.getCurrentTokenColumn()-2)).compare(i.row,i.column)){l=!1;do{o=s,(s=n.stepBackward())&&(-1!==s.type.indexOf("tag-close")&&d.setEnd(n.getCurrentTokenRow(),n.getCurrentTokenColumn()+1),o.value===m&&-1!==o.type.indexOf("tag-name")&&("<"===s.value?h[m]++:"</"===s.value&&h[m]--,0===h[m]&&(l=!0)))}while(s&&!l)}o&&o.type.indexOf("tag-name")&&(f=d.start).row==i.row&&Math.abs(f.column-i.column)<2&&(f=d.end)}(f=d&&d.cursor||f)&&(e?d&&t?this.selection.setRange(d):d&&d.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(f.row,f.column):this.selection.moveTo(f.row,f.column))}}},this.gotoLine=function(e,t,i){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.$blockScrolling+=1,this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.$blockScrolling-=1,this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,i)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var i=this.$search.find(this.session),n=0;return i?(this.$tryReplace(i,e)&&(n=1),null!==i&&(this.selection.setSelectionRange(i),this.renderer.scrollSelectionIntoView(i.start,i.end)),n):n},this.replaceAll=function(e,t){t&&this.$search.set(t);var i=this.$search.findAll(this.session),n=0;if(!i.length)return n;this.$blockScrolling+=1;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=i.length-1;o>=0;--o)this.$tryReplace(i[o],e)&&n++;return this.selection.setSelectionRange(s),this.$blockScrolling-=1,n},this.$tryReplace=function(e,t){var i=this.session.getTextRange(e);return null!==(t=this.$search.replace(i,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,i){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&n.mixin(t,e);var s=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(s)||this.$search.$options.needle)||(s=this.session.getWordRange(s.start.row,s.start.column),e=this.session.getTextRange(s)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:s});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,i),o):(t.backwards?s.start=s.end:s.end=s.start,void this.selection.setRange(s))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.$blockScrolling+=1,this.session.unfold(e),this.selection.setSelectionRange(e),this.$blockScrolling-=1;var i=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(i)},this.undo=function(){this.$blockScrolling++,this.session.getUndoManager().undo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.$blockScrolling++,this.session.getUndoManager().redo(),this.$blockScrolling--,this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,i=this,n=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var s=this.$scrollAnchor;s.style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild);var o=this.on("changeSelection",(function(){n=!0})),r=this.renderer.on("beforeRender",(function(){n&&(t=i.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(n&&t&&(i.isFocused()||i.searchBox&&i.searchBox.isFocused())){var e=i.renderer,o=e.$cursorLayer.$pixelPos,r=e.layerConfig,a=o.top-r.offset;null!=(n=o.top>=0&&a+t.top<0||!(o.top<r.height&&o.top+t.top+r.lineHeight>window.innerHeight)&&null)&&(s.style.top=a+"px",s.style.left=o.left+"px",s.style.height=r.lineHeight+"px",s.scrollIntoView(n)),n=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.removeEventListener("changeSelection",o),this.renderer.removeEventListener("afterRender",a),this.renderer.removeEventListener("beforeRender",r))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,s.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))}}).call(F.prototype),A.defineOptions(F.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.$resetCursorStyle()},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",showLineNumbers:"renderer",showGutter:"renderer",displayIndentGuides:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"}),t.Editor=F})),define("ace/undomanager",["require","exports","module"],(function(e,t,i){"use strict";var n=function(){this.reset()};(function(){this.execute=function(e){var t=e.args[0];this.$doc=e.args[1],e.merge&&this.hasUndo()&&(this.dirtyCounter--,t=this.$undoStack.pop().concat(t)),this.$undoStack.push(t),this.$redoStack=[],this.dirtyCounter<0&&(this.dirtyCounter=NaN),this.dirtyCounter++},this.undo=function(e){var t=this.$undoStack.pop(),i=null;return t&&(i=this.$doc.undoChanges(t,e),this.$redoStack.push(t),this.dirtyCounter--),i},this.redo=function(e){var t=this.$redoStack.pop(),i=null;return t&&(i=this.$doc.redoChanges(t,e),this.$undoStack.push(t),this.dirtyCounter++),i},this.reset=function(){this.$undoStack=[],this.$redoStack=[],this.dirtyCounter=0},this.hasUndo=function(){return this.$undoStack.length>0},this.hasRedo=function(){return this.$redoStack.length>0},this.markClean=function(){this.dirtyCounter=0},this.isClean=function(){return 0===this.dirtyCounter}}).call(n.prototype),t.UndoManager=n})),define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/lang"),r=e("../lib/event_emitter").EventEmitter,a=function(e){this.element=n.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$cells=[]};(function(){s.implement(this,r),this.setSession=function(e){this.session&&this.session.removeEventListener("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var i=e[t],n=i.row,s=this.$annotations[n];s||(s=this.$annotations[n]={text:[]});var r=i.text;r=r?o.escapeHTML(r):i.html||"",-1===s.text.indexOf(r)&&s.text.push(r);var a=i.type;"error"==a?s.className=" ace_error":"warning"==a&&" ace_error"!=s.className?s.className=" ace_warning":"info"!=a||s.className||(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.data,i=t.range,n=i.start.row,s=i.end.row-n;if(0===s);else if("removeText"==t.action||"removeLines"==t.action)this.$annotations.splice(n,s+1,null);else{var o=new Array(s+1);o.unshift(n,1),this.$annotations.splice.apply(this.$annotations,o)}}},this.update=function(e){for(var t=this.session,i=e.firstRow,s=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1),o=t.getNextFoldLine(i),r=o?o.start.row:1/0,a=this.$showFoldWidgets&&t.foldWidgets,l=t.$breakpoints,h=t.$decorations,c=t.$firstLineNumber,u=0,d=t.gutterRenderer||this.$renderer,g=null,f=-1,m=i;;){if(m>r&&(m=o.end.row+1,r=(o=t.getNextFoldLine(m,o))?o.start.row:1/0),m>s){for(;this.$cells.length>f+1;)g=this.$cells.pop(),this.element.removeChild(g.element);break}(g=this.$cells[++f])||((g={element:null,textNode:null,foldWidget:null}).element=n.createElement("div"),g.textNode=document.createTextNode(""),g.element.appendChild(g.textNode),this.element.appendChild(g.element),this.$cells[f]=g);var p="ace_gutter-cell ";if(l[m]&&(p+=l[m]),h[m]&&(p+=h[m]),this.$annotations[m]&&(p+=this.$annotations[m].className),g.element.className!=p&&(g.element.className=p),(C=t.getRowLength(m)*e.lineHeight+"px")!=g.element.style.height&&(g.element.style.height=C),a){var A=a[m];null==A&&(A=a[m]=t.getFoldWidget(m))}if(A){g.foldWidget||(g.foldWidget=n.createElement("span"),g.element.appendChild(g.foldWidget));p="ace_fold-widget ace_"+A;"start"==A&&m==r&&m<o.end.row?p+=" ace_closed":p+=" ace_open",g.foldWidget.className!=p&&(g.foldWidget.className=p);var C=e.lineHeight+"px";g.foldWidget.style.height!=C&&(g.foldWidget.style.height=C)}else g.foldWidget&&(g.element.removeChild(g.foldWidget),g.foldWidget=null);var F=u=d?d.getText(t,m):m+c;F!=g.textNode.data&&(g.textNode.data=F),m++}this.element.style.height=e.minHeight+"px",(this.$fixedWidth||t.$useWrapMode)&&(u=t.getLength()+c);var v=d?d.getWidth(t,u,e):u.toString().length*e.characterWidth,w=this.$padding||this.$computePadding();(v+=w.left+w.right)===this.gutterWidth||isNaN(v)||(this.gutterWidth=v,this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._emit("changeGutterWidth",v))},this.$fixedWidth=!1,this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return""},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?n.addCssClass(this.element,"ace_folding-enabled"):n.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=n.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=parseInt(e.paddingLeft)+1||0,this.$padding.right=parseInt(e.paddingRight)||0,this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),i=this.element.getBoundingClientRect();return e.x<t.left+i.left?"markers":this.$showFoldWidgets&&e.x>i.right-t.right?"foldWidgets":void 0}}).call(a.prototype),t.Gutter=a})),define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,i){"use strict";var n=e("../range").Range,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.update=function(e){if(e=e||this.config){this.config=e;var t=[];for(var i in this.markers){var n=this.markers[i];if(n.range){var s=n.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),n.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;n.renderer(t,s,r,o,e)}else"fullLine"==n.type?this.drawFullLineMarker(t,s,n.clazz,e):"screenLine"==n.type?this.drawScreenLineMarker(t,s,n.clazz,e):s.isMultiLine()?"text"==n.type?this.drawTextMarker(t,s,n.clazz,e):this.drawMultiLineMarker(t,s,n.clazz,e):this.drawSingleLineMarker(t,s,n.clazz+" ace_start",e)}else n.update(t,this,this.session,e)}this.element.innerHTML=t.join("")}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,i,s,o){var r=t.start.row,a=this.session,l=new n(r,t.start.column,r,a.getScreenLastRowColumn(r));for(this.drawSingleLineMarker(e,l,i+" ace_start",s,1,o),r=t.end.row,l=new n(r,a.getRowWrapIndent(r),r,t.end.column),this.drawSingleLineMarker(e,l,i,s,0,o),r=t.start.row+1;r<t.end.row;r++)l.start.row=r,l.start.column=a.getRowWrapIndent(r),l.end.row=r,l.end.column=a.getScreenLastRowColumn(r),this.drawSingleLineMarker(e,l,i,s,1,o)},this.drawMultiLineMarker=function(e,t,i,n,s){var o=this.$padding,r=n.lineHeight,a=this.$getTop(t.start.row,n),l=o+t.start.column*n.characterWidth;s=s||"",e.push("<div class='",i," ace_start' style='","height:",r,"px;","right:0;","top:",a,"px;","left:",l,"px;",s,"'></div>"),a=this.$getTop(t.end.row,n);var h=t.end.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",r,"px;","width:",h,"px;","top:",a,"px;","left:",o,"px;",s,"'></div>"),(r=(t.end.row-t.start.row-1)*n.lineHeight)<=0||(a=this.$getTop(t.start.row+1,n),e.push("<div class='",i,"' style='","height:",r,"px;","right:0;","top:",a,"px;","left:",o,"px;",s,"'></div>"))},this.drawSingleLineMarker=function(e,t,i,n,s,o){var r=n.lineHeight,a=(t.end.column+(s||0)-t.start.column)*n.characterWidth,l=this.$getTop(t.start.row,n),h=this.$padding+t.start.column*n.characterWidth;e.push("<div class='",i,"' style='","height:",r,"px;","width:",a,"px;","top:",l,"px;","left:",h,"px;",o||"","'></div>")},this.drawFullLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,n)-o),e.push("<div class='",i,"' style='","height:",r,"px;","top:",o,"px;","left:0;right:0;",s||"","'></div>")},this.drawScreenLineMarker=function(e,t,i,n,s){var o=this.$getTop(t.start.row,n),r=n.lineHeight;e.push("<div class='",i,"' style='","height:",r,"px;","top:",o,"px;","left:0;right:0;",s||"","'></div>")}}).call(o.prototype),t.Marker=o})),define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=(e("../lib/useragent"),e("../lib/event_emitter").EventEmitter),a=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this)};(function(){n.implement(this,r),this.EOF_CHAR="¶",this.EOL_CHAR_LF="¬",this.EOL_CHAR_CRLF="¤",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="→",this.SPACE_CHAR="·",this.$padding=0,this.$updateEolChar=function(){var e="\n"==this.session.doc.getNewLineCharacter()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=e)return this.EOL_CHAR=e,!0},this.setPadding=function(e){this.$padding=e,this.element.style.padding="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],i=1;i<e+1;i++)this.showInvisibles?t.push("<span class='ace_invisible ace_invisible_tab'>"+this.TAB_CHAR+o.stringRepeat(" ",i-1)+"</span>"):t.push(o.stringRepeat(" ",i));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var n="ace_indent-guide",s="",r="";if(this.showInvisibles){n+=" ace_invisible",s=" ace_invisible_space",r=" ace_invisible_tab";var a=o.stringRepeat(this.SPACE_CHAR,this.tabSize),l=this.TAB_CHAR+o.stringRepeat(" ",this.tabSize-1)}else l=a=o.stringRepeat(" ",this.tabSize);this.$tabStrings[" "]="<span class='"+n+s+"'>"+a+"</span>",this.$tabStrings["\t"]="<span class='"+n+r+"'>"+l+"</span>"}},this.updateLines=function(e,t,i){this.config.lastRow==e.lastRow&&this.config.firstRow==e.firstRow||this.scrollLines(e),this.config=e;for(var n=Math.max(t,e.firstRow),s=Math.min(i,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<n;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(n)){n=l.start.row;break}a=l.end.row}r++}a=n;for(var l,h=(l=this.session.getNextFoldLine(a))?l.start.row:1/0;a>h&&(a=l.end.row+1,h=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>s);){var c=o[r++];if(c){var u=[];this.$renderLine(u,a,!this.$useLineGroups(),a==h&&l),c.style.height=e.lineHeight*this.session.getRowLength(a)+"px",c.innerHTML=u.join("")}a++}},this.scrollLines=function(e){var t=this.config;if(this.config=e,!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);var i=this.element;if(t.firstRow<e.firstRow)for(var n=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);n>0;n--)i.removeChild(i.firstChild);if(t.lastRow>e.lastRow)for(n=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);n>0;n--)i.removeChild(i.lastChild);if(e.firstRow<t.firstRow){var s=this.$renderLinesFragment(e,e.firstRow,t.firstRow-1);i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s)}if(e.lastRow>t.lastRow){s=this.$renderLinesFragment(e,t.lastRow+1,e.lastRow);i.appendChild(s)}},this.$renderLinesFragment=function(e,t,i){for(var n=this.element.ownerDocument.createDocumentFragment(),o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>i);){var l=s.createElement("div"),h=[];if(this.$renderLine(h,o,!1,o==a&&r),l.innerHTML=h.join(""),this.$useLineGroups())l.className="ace_line_group",n.appendChild(l),l.style.height=e.lineHeight*this.session.getRowLength(o)+"px";else for(;l.firstChild;)n.appendChild(l.firstChild);o++}return n},this.update=function(e){this.config=e;for(var t=[],i=e.firstRow,n=e.lastRow,s=i,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;s>r&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);)this.$useLineGroups()&&t.push("<div class='ace_line_group' style='height:",e.lineHeight*this.session.getRowLength(s),"px'>"),this.$renderLine(t,s,!1,s==r&&o),this.$useLineGroups()&&t.push("</div>"),s++;this.element.innerHTML=t.join("")},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,i,n){var s=this,r=n.replace(/\t|&|<|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\u3000\uFEFF])|[\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3000-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]/g,(function(e,i,n,r,a){if(i)return s.showInvisibles?"<span class='ace_invisible ace_invisible_space'>"+o.stringRepeat(s.SPACE_CHAR,e.length)+"</span>":e;if("&"==e)return"&#38;";if("<"==e)return"&#60;";if("\t"==e){var l=s.session.getScreenTabSize(t+r);return t+=l-1,s.$tabStrings[l]}if("　"==e){var h=s.showInvisibles?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",c=s.showInvisibles?s.SPACE_CHAR:"";return t+=1,"<span class='"+h+"' style='width:"+2*s.config.characterWidth+"px'>"+c+"</span>"}return n?"<span class='ace_invisible ace_invisible_space ace_invalid'>"+s.SPACE_CHAR+"</span>":(t+=1,"<span class='ace_cjk' style='width:"+2*s.config.characterWidth+"px'>"+e+"</span>")}));if(this.$textToken[i.type])e.push(r);else{var a="ace_"+i.type.replace(/\./g," ace_"),l="";"fold"==i.type&&(l=" style='width:"+i.value.length*this.config.characterWidth+"px;' "),e.push("<span class='",a,"'",l,">",r,"</span>")}return t+n.length},this.renderIndentGuide=function(e,t,i){var n=t.search(this.$indentGuideRe);return n<=0||n>=i?t:" "==t[0]?(n-=n%this.tabSize,e.push(o.stringRepeat(this.$tabStrings[" "],n/this.tabSize)),t.substr(n)):"\t"==t[0]?(e.push(o.stringRepeat(this.$tabStrings["\t"],n)),t.substr(n)):t},this.$renderWrappedLine=function(e,t,i,n){for(var s=0,r=0,a=i[0],l=0,h=0;h<t.length;h++){var c=t[h],u=c.value;if(0==h&&this.displayIndentGuides){if(s=u.length,!(u=this.renderIndentGuide(e,u,a)))continue;s-=u.length}if(s+u.length<a)l=this.$renderToken(e,l,c,u),s+=u.length;else{for(;s+u.length>=a;)l=this.$renderToken(e,l,c,u.substring(0,a-s)),u=u.substring(a-s),s=a,n||e.push("</div>","<div class='ace_line' style='height:",this.config.lineHeight,"px'>"),e.push(o.stringRepeat(" ",i.indent)),l=0,a=i[++r]||Number.MAX_VALUE;0!=u.length&&(s+=u.length,l=this.$renderToken(e,l,c,u))}}},this.$renderSimpleLine=function(e,t){var i=0,n=t[0],s=n.value;this.displayIndentGuides&&(s=this.renderIndentGuide(e,s)),s&&(i=this.$renderToken(e,i,n,s));for(var o=1;o<t.length;o++)s=(n=t[o]).value,i=this.$renderToken(e,i,n,s)},this.$renderLine=function(e,t,i,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var s=this.$getFoldLineTokens(t,n);else s=this.session.getTokens(t);if(i||e.push("<div class='ace_line' style='height:",this.config.lineHeight*(this.$useLineGroups()?1:this.session.getRowLength(t)),"px'>"),s.length){var o=this.session.getRowSplitData(t);o&&o.length?this.$renderWrappedLine(e,s,o,i):this.$renderSimpleLine(e,s)}this.showInvisibles&&(n&&(t=n.end.row),e.push("<span class='ace_invisible ace_invisible_eol'>",t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,"</span>")),i||e.push("</div>")},this.$getFoldLineTokens=function(e,t){var i=this.session,n=[];var s=i.getTokens(e);return t.walk((function(e,t,o,r,a){null!=e?n.push({type:"fold",value:e}):(a&&(s=i.getTokens(t)),s.length&&function(e,t,i){for(var s=0,o=0;o+e[s].value.length<t;)if(o+=e[s].value.length,++s==e.length)return;for(o!=t&&((r=e[s].value.substring(t-o)).length>i-t&&(r=r.substring(0,i-t)),n.push({type:e[s].type,value:r}),o=t+r.length,s+=1);o<i&&s<e.length;){var r;(r=e[s].value).length+o>i?n.push({type:e[s].type,value:r.substring(0,i-o)}):n.push(e[s]),o+=r.length,s+=1}}(s,r,o))}),t.end.row,this.session.getLine(t.end.row).length),n},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$measureNode&&this.$measureNode.parentNode.removeChild(this.$measureNode),delete this.$measureNode}}).call(a.prototype),t.Text=a})),define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";var n,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),void 0===n&&(n="opacity"in this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),s.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateVisibility.bind(this)};(function(){this.$updateVisibility=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.visibility=e?"":"hidden"},this.$updateOpacity=function(e){for(var t=this.cursors,i=t.length;i--;)t[i].style.opacity=e?"":"0"},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e==this.smoothBlinking||n||(this.smoothBlinking=e,s.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.$updateCursors=(e?this.$updateOpacity:this.$updateVisibility).bind(this),this.restartTimer())},this.addCursor=function(){var e=s.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,s.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,s.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.smoothBlinking&&s.removeCssClass(this.element,"ace_smooth-blinking"),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible){this.smoothBlinking&&setTimeout(function(){s.addCssClass(this.element,"ace_smooth-blinking")}.bind(this));var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var i=this.session.documentToScreenPosition(e);return{left:this.$padding+i.column*this.config.characterWidth,top:(i.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,i=0,n=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]);i=0;for(var s=t.length;i<s;i++){var o=this.getPixelPosition(t[i].cursor,!0);if(!((o.top>e.height+e.offset||o.top<0)&&i>1)){var r=(this.cursors[n++]||this.addCursor()).style;this.drawCursor?this.drawCursor(r,o,e,t[i],this.session):(r.left=o.left+"px",r.top=o.top+"px",r.width=e.characterWidth+"px",r.height=e.lineHeight+"px")}}for(;this.cursors.length>n;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=o,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?s.addCssClass(this.element,"ace_overwrite-cursors"):s.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(o.prototype),t.Cursor=o})),define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){n.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px"};n.inherits(l,a),function(){this.classSuffix="-v",this.onScroll=function(){this.skipEvent||(this.scrollTop=this.element.scrollTop,this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return this.isVisible?this.width:0},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=function(e){this.inner.style.height=e+"px"},this.setScrollHeight=function(e){this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=this.element.scrollTop=e)}}.call(l.prototype);var h=function(e,t){a.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};n.inherits(h,a),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=h,t.VScrollBar=l,t.HScrollBar=h})),define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,i){"use strict";var n=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.window=t||window};(function(){this.schedule=function(e){if(this.changes=this.changes|e,!this.pending&&this.changes){this.pending=!0;var t=this;n.nextFrame((function(){var e;for(t.pending=!1;e=t.changes;)t.changes=0,t.onRender(e)}),this.window)}}}).call(s.prototype),t.RenderLoop=s})),define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,i){var n=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/useragent"),a=e("../lib/event_emitter").EventEmitter,l=0,h=t.FontMetrics=function(e,t){this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),l||this.$testFractionalRect(),this.$measureNode.innerHTML=o.stringRepeat("X",l),this.$characterSize={width:0,height:0},this.checkForSizeChanges()};(function(){n.implement(this,a),this.$characterSize={width:0,height:0},this.$testFractionalRect=function(){var e=s.createElement("div");this.$setMeasureNodeStyles(e.style),e.style.width="0.2px",document.documentElement.appendChild(e);var t=e.getBoundingClientRect().width;l=t>0&&t<1?50:100,e.parentNode.removeChild(e)},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",r.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(){var e=this.$measureSizes();if(e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=setInterval((function(){e.checkForSizeChanges()}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(){if(50===l){var e=null;try{e=this.$measureNode.getBoundingClientRect()}catch(t){e={width:0,height:0}}var t={height:e.height,width:e.width/l}}else t={height:this.$measureNode.clientHeight,width:this.$measureNode.clientWidth/l};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.innerHTML=o.stringRepeat(e,l),this.$main.getBoundingClientRect().width/l},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)}}).call(h.prototype)})),define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/lib/useragent","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter"],(function(e,t,i){"use strict";var n=e("./lib/oop"),s=e("./lib/dom"),o=e("./config"),r=e("./lib/useragent"),a=e("./layer/gutter").Gutter,l=e("./layer/marker").Marker,h=e("./layer/text").Text,c=e("./layer/cursor").Cursor,u=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,g=e("./renderloop").RenderLoop,f=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter;s.importCssString('.ace_editor {position: relative;overflow: hidden;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;min-width: 100%;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;text-indent: -1em;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;}.ace_text-input.ace_composition {background: inherit;color: inherit;z-index: 1000;opacity: 1;text-indent: 0;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;}.ace_text-layer {font: inherit !important;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;border-left: 2px solid}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_smooth-blinking .ace_cursor {-webkit-transition: opacity 0.18s;transition: opacity 0.18s;}.ace_editor.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;}.ace_line .ace_fold {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: -webkit-linear-gradient(top, transparent, rgba(0, 0, 0, 0.1));background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {-webkit-transition: opacity 0.4s ease 0.05s;transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {-webkit-transition: opacity 0.05s ease 0.05s;transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}',"ace_editor.css");var p=function(e,t){var i=this;this.container=e||s.createElement("div"),this.$keepTextAreaAtCursor=!r.isOldIE,s.addCssClass(this.container,"ace_editor"),this.setTheme(t),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new a(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new l(this.content);var n=this.$textLayer=new h(this.content);this.canvas=n.element,this.$markerFront=new l(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new u(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){i.$scrollAnimation||i.session.setScrollTop(e.data-i.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){i.$scrollAnimation||i.session.setScrollLeft(e.data-i.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new f(this.container,500),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.addEventListener("changeCharacterSize",(function(e){i.updateCharacterSize(),i.onResize(!0,i.gutterWidth,i.$size.width,i.$size.height),i._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$loop=new g(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._emit("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,n.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin()},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,i){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!i)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar()},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,i,n){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;n||(n=s.clientHeight||s.scrollHeight),i||(i=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,i,n);if(!this.$size.scrollerHeight||!i&&!n)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,i,n){n-=this.$extraHeight||0;var s=0,o=this.$size,r={width:o.width,height:o.height,scrollerHeight:o.scrollerHeight,scrollerWidth:o.scrollerWidth};return n&&(e||o.height!=n)&&(o.height=n,s|=this.CHANGE_SIZE,o.scrollerHeight=o.height,this.$horizScroll&&(o.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),i&&(e||o.width!=i)&&(s|=this.CHANGE_SIZE,o.width=i,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,this.scrollBarH.element.style.left=this.scroller.style.left=t+"px",o.scrollerWidth=Math.max(0,i-t-this.scrollBarV.getWidth()),this.scrollBarH.element.style.right=this.scroller.style.right=this.scrollBarV.getWidth()+"px",this.scroller.style.bottom=this.scrollBarH.getHeight()+"px",(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)),o.$dirty=!i||!n,s&&this._signal("resize",r),s},this.onGutterResize=function(){var e=this.$showGutter?this.$gutter.offsetWidth:0;e!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,e,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):(this.$computeLayerConfig(),this.$loop.schedule(this.CHANGE_MARKER))},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updateGutterLineHighlight=function(){var e=this.$cursorLayer.$pixelPos,t=this.layerConfig.lineHeight;if(this.session.getUseWrapMode()){var i=this.session.selection.getCursor();i.column=0,e=this.$cursorLayer.getPixelPosition(i,!0),t*=this.session.getRowLength(i.row)}this.$gutterLineHighlight.style.top=e.top-this.layerConfig.offset+"px",this.$gutterLineHighlight.style.height=t+"px"},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=this.characterWidth*this.$printMarginColumn+this.$padding+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.content},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(this.$keepTextAreaAtCursor){var e=this.layerConfig,t=this.$cursorLayer.$pixelPos.top,i=this.$cursorLayer.$pixelPos.left;t-=e.offset;var n=this.textarea.style,s=this.lineHeight;if(t<0||t>e.height-s)n.top=n.left="0";else{var o=this.characterWidth;if(this.$composition){var r=this.textarea.value.replace(/^\x01+/,"");o*=this.session.$getStringScreenWidth(r)[0]+2,s+=2}(i-=this.scrollLeft)>this.$size.scrollerWidth-o&&(i=this.$size.scrollerWidth-o),i+=this.gutterWidth,n.height=s+"px",n.width=o+"px",n.left=Math.min(i,this.$size.scrollerWidth-o)+"px",n.top=Math.min(t,this.$size.height-s)+"px"}}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=Math.floor((this.layerConfig.height+this.layerConfig.offset)/this.layerConfig.lineHeight);return this.layerConfig.firstRow-1+e},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,i,n){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|n,s.left=0|i,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender");var i=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig(),i.firstRow!=this.layerConfig.firstRow&&i.firstRowScreen==this.layerConfig.firstRowScreen){var n=this.scrollTop+(i.firstRow-this.layerConfig.firstRow)*this.lineHeight;n>0&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig())}i=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),this.$gutterLayer.element.style.marginTop=-i.offset+"px",this.content.style.marginTop=-i.offset+"px",this.content.style.width=i.width+2*this.$padding+"px",this.content.style.height=i.minHeight+"px"}if(e&this.CHANGE_H_SCROLL&&(this.content.style.marginLeft=-this.scrollLeft+"px",this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),void this._signal("afterRender");if(e&this.CHANGE_SCROLL)return e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(i):this.$textLayer.scrollLines(i),this.$showGutter&&this.$gutterLayer.update(i),this.$markerBack.update(i),this.$markerFront.update(i),this.$cursorLayer.update(i),this.$highlightGutterLine&&this.$updateGutterLineHighlight(),this.$moveTextAreaToCursor(),void this._signal("afterRender");e&this.CHANGE_TEXT?(this.$textLayer.update(i),this.$showGutter&&this.$gutterLayer.update(i)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(i):(e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER)&&this.$showGutter&&this.$gutterLayer.update(i),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(i),this.$moveTextAreaToCursor(),this.$highlightGutterLine&&this.$updateGutterLineHighlight()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(i),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(i),this._signal("afterRender")}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,i=Math.max((this.$minLines||1)*this.lineHeight,Math.min(t,e))+this.scrollMargin.v+(this.$extraHeight||0),n=e>t;if(i!=this.desiredHeight||this.$size.height!=this.desiredHeight||n!=this.$vScroll){n!=this.$vScroll&&(this.$vScroll=n,this.scrollBarV.setVisible(n));var s=this.container.clientWidth;this.container.style.height=i+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,i),this.desiredHeight=i,this._signal("autosize")}},this.$computeLayerConfig=function(){this.$maxLines&&this.lineHeight>1&&this.$autosize();var e=this.session,t=this.$size,i=t.height<=2*this.lineHeight,n=this.session.getScreenLength()*this.lineHeight,s=this.scrollTop%this.lineHeight,o=t.scrollerHeight+this.lineHeight,r=this.$getLongestLine(),a=!i&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),l=this.$horizScroll!==a;l&&(this.$horizScroll=a,this.scrollBarH.setVisible(a));var h=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;n+=h,this.session.setScrollTop(Math.max(-this.scrollMargin.top,Math.min(this.scrollTop,n-t.scrollerHeight+this.scrollMargin.bottom))),this.session.setScrollLeft(Math.max(-this.scrollMargin.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+this.scrollMargin.right)));var c=!i&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-n+h<0||this.scrollTop),u=this.$vScroll!==c;u&&(this.$vScroll=c,this.scrollBarV.setVisible(c));var d,g,f=Math.ceil(o/this.lineHeight)-1,m=Math.max(0,Math.round((this.scrollTop-s)/this.lineHeight)),p=m+f,A=this.lineHeight;m=e.screenToDocumentRow(m,0);var C=e.getFoldLine(m);C&&(m=C.start.row),d=e.documentToScreenRow(m,0),g=e.getRowLength(m)*A,p=Math.min(e.screenToDocumentRow(p,0),e.getLength()-1),o=t.scrollerHeight+e.getRowLength(p)*A+g,s=this.scrollTop-d*A;var F=0;return this.layerConfig.width!=r&&(F=this.CHANGE_H_SCROLL),(l||u)&&(F=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),u&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:m,firstRowScreen:d,lastRow:p,lineHeight:A,characterWidth:this.characterWidth,minHeight:o,maxHeight:n,offset:s,gutterOffset:Math.max(0,Math.ceil((s+t.height-t.scrollerHeight)/A)),height:this.$size.scrollerHeight},F},this.$updateLines=function(){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var i=this.layerConfig;if(!(e>i.lastRow+1||t<i.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(i),void this.$textLayer.update(i)):(this.$textLayer.updateLines(i,e,t),!0)},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,i){this.scrollCursorIntoView(e,i),this.scrollCursorIntoView(t,i)},this.scrollCursorIntoView=function(e,t,i){if(0!==this.$size.scrollerHeight){var n=this.$cursorLayer.getPixelPosition(e),s=n.left,o=n.top,r=i&&i.top||0,a=i&&i.bottom||0,l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+r>o?(t&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight-this.$size.scrollerHeight));var h=this.scrollLeft;h>s?(s<this.$padding+2*this.layerConfig.characterWidth&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):h+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):h<=this.$padding&&s-h<this.characterWidth&&this.session.setScrollLeft(0)}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var i=this.$cursorLayer.getPixelPosition(e),n=this.$size.scrollerHeight-this.lineHeight,s=i.top-n*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var i,n,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((i=s/this.STEPS,n=e,(t-e)*(Math.pow(i-1,3)+1)+n));return r},this.scrollToLine=function(e,t,i,n){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==i&&this.animateScrolling(o,n)},this.animateScrolling=function(e,t){var i=this.scrollTop;if(this.$animatedScroll){var n=this;if(e!=i){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==i)return}var o=n.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:o},clearInterval(this.$timer),n.session.setScrollTop(o.shift()),n.session.$scrollTop=i,this.$timer=setInterval((function(){o.length?(n.session.setScrollTop(o.shift()),n.session.$scrollTop=i):null!=i?(n.session.$scrollTop=-1,n.session.setScrollTop(i),i=null):(n.$timer=clearInterval(n.$timer),n.$scrollAnimation=null,t&&t())}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||(t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||(e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||(e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0)))},this.pixelToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=(e+this.scrollLeft-i.left-this.$padding)/this.characterWidth,s=Math.floor((t+this.scrollTop-i.top)/this.lineHeight),o=Math.round(n);return{row:s,column:o,side:n-o>0?1:-1}},this.screenToTextCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=Math.round((e+this.scrollLeft-i.left-this.$padding)/this.characterWidth),s=(t+this.scrollTop-i.top)/this.lineHeight;return this.session.screenToDocumentPosition(s,Math.max(n,0))},this.textToScreenCoordinates=function(e,t){var i=this.scroller.getBoundingClientRect(),n=this.session.documentToScreenPosition(e,t),s=this.$padding+Math.round(n.column*this.characterWidth),o=n.row*this.lineHeight;return{pageX:i.left+s-this.scrollLeft,pageY:i.top+o-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition||(this.$composition={keepTextAreaAtCursor:this.$keepTextAreaAtCursor,cssText:this.textarea.style.cssText}),this.$keepTextAreaAtCursor=!0,s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor()},this.setCompositionText=function(e){this.$moveTextAreaToCursor()},this.hideComposition=function(){this.$composition&&(s.removeCssClass(this.textarea,"ace_composition"),this.$keepTextAreaAtCursor=this.$composition.keepTextAreaAtCursor,this.textarea.style.cssText=this.$composition.cssText,this.$composition=null)},this.setTheme=function(e,t){var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)r(e);else{var n=e||this.$options.theme.initialValue;o.loadModule(["theme",n],r)}function r(n){if(i.$themeId!=e)return t&&t();if(n.cssClass){s.importCssString(n.cssText,n.cssClass,i.container.ownerDocument),i.theme&&s.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,s.addCssClass(i.container,n.cssClass),s.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){this.scroller.style.cursor!=e&&(this.scroller.style.cursor=e)},this.setMouseCursor=function(e){this.scroller.style.cursor=e},this.destroy=function(){this.$textLayer.destroy(),this.$cursorLayer.destroy()}}).call(p.prototype),o.defineOptions(p.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e)},initialValue:!0},showLineNumbers:{set:function(e){this.$gutterLayer.setShowLineNumbers(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){if(!this.$gutterLineHighlight)return this.$gutterLineHighlight=s.createElement("div"),this.$gutterLineHighlight.className="ace_gutter-active-line",void this.$gutter.appendChild(this.$gutterLineHighlight);this.$gutterLineHighlight.style.display=e?"":"none",this.$cursorLayer.$pixelPos&&this.$updateGutterLineHighlight()},initialValue:!1,value:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.updateFull()}},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0}}),t.VirtualRenderer=p})),define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,i){"use strict";var n=e("../lib/oop"),s=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,r=e("../config"),a=function(t,i,n,s){if(this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),r.get("packaged")||!e.toUrl)s=s||r.moduleUrl(i,"worker");else{var o=this.$normalizePath;s=s||o(e.toUrl("ace/worker/worker.js",null,"_"));var a={};t.forEach((function(t){a[t]=o(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}try{this.$worker=new Worker(s)}catch(e){if(!(e instanceof window.DOMException))throw e;var l=this.$workerBlob(s),h=window.URL||window.webkitURL,c=h.createObjectURL(l);this.$worker=new Worker(c),h.revokeObjectURL(c)}this.$worker.postMessage({init:!0,tlns:a,module:i,classname:n}),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){n.implement(this,o),this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var i=this.callbacks[t.id];i&&(i(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,i){if(i){var n=this.callbackId++;this.callbacks[n]=i,t.push(n)}this.send(e,t)},this.emit=function(e,t){try{this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue?this.deltaQueue.push(e.data):(this.deltaQueue=[e.data],setTimeout(this.$sendDeltaQueue,0))},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>20&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))},this.$workerBlob=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return i.append(t),i.getBlob("application/javascript")}}}).call(a.prototype);var l=function(e,t,i){this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.callbackId=1,this.callbacks={},this.messageBuffer=[];var n=null,s=!1,a=Object.create(o),l=this;this.$worker={},this.$worker.terminate=function(){},this.$worker.postMessage=function(e){l.messageBuffer.push(e),n&&(s?setTimeout(h):h())},this.setEmitSync=function(e){s=e};var h=function(){var e=l.messageBuffer.shift();e.command?n[e.command].apply(n,e.args):e.event&&a._signal(e.event,e.data)};a.postMessage=function(e){l.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},r.loadModule(["worker",t],(function(e){for(n=new e[i](a);l.messageBuffer.length;)h()}))};l.prototype=a.prototype,t.UIWorkerClient=l,t.WorkerClient=a})),define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,i){"use strict";var n=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),r=function(e,t,i,n,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=n,this.$onCursorChange=function(){setTimeout((function(){r.onCursorChange()}))},this.$pos=i;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,s),this.setup=function(){var e=this,t=this.doc,i=this.session,s=this.$pos;this.selectionBefore=i.selection.toJSON(),i.selection.inMultiSelectMode&&i.selection.toSingleRange(),this.pos=t.createAnchor(s.row,s.column),this.markerId=i.addMarker(new n(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.pos.on("change",(function(t){i.removeMarker(e.markerId),e.markerId=i.addMarker(new n(t.value.row,t.value.column,t.value.row,t.value.column+e.length),e.mainClass,null,!1)})),this.others=[],this.$others.forEach((function(i){var n=t.createAnchor(i.row,i.column);e.others.push(n)})),i.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(i){i.markerId=e.addMarker(new n(i.row,i.column,i.row,i.column+t.length),t.othersClass,null,!1),i.on("change",(function(s){e.removeMarker(i.markerId),i.markerId=e.addMarker(new n(s.value.row,s.value.column,s.value.row,s.value.column+t.length),t.othersClass,null,!1)}))}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){var t=e.data,i=t.range;if(i.start.row===i.end.row&&i.start.row===this.pos.row&&!this.$updating){this.$updating=!0;var s="insertText"===t.action?i.end.column-i.start.column:i.start.column-i.end.column;if(i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1){var o=i.start.column-this.pos.column;if(this.length+=s,!this.session.$fromUndo){if("insertText"===t.action)for(var r=this.others.length-1;r>=0;r--){var a={row:(l=this.others[r]).row,column:l.column+o};l.row===i.start.row&&i.start.column<l.column&&(a.column+=s),this.doc.insert(a,t.text)}else if("removeText"===t.action)for(r=this.others.length-1;r>=0;r--){var l;a={row:(l=this.others[r]).row,column:l.column+o};l.row===i.start.row&&i.start.column<l.column&&(a.column+=s),this.doc.remove(new n(a.row,a.column,a.row,a.column-s))}i.start.column===this.pos.column&&"insertText"===t.action?setTimeout(function(){this.pos.setPosition(this.pos.row,this.pos.column-s);for(var e=0;e<this.others.length;e++){var t=this.others[e],n={row:t.row,column:t.column-s};t.row===i.start.row&&i.start.column<t.column&&(n.column+=s),t.setPosition(n.row,n.column)}}.bind(this),0):i.start.column===this.pos.column&&"removeText"===t.action&&setTimeout(function(){for(var e=0;e<this.others.length;e++){var t=this.others[e];t.row===i.start.row&&i.start.column<t.column&&t.setPosition(t.row,t.column-s)}}.bind(this),0)}this.pos._emit("change",{value:this.pos});for(r=0;r<this.others.length;r++)this.others[r]._emit("change",{value:this.others[r]})}this.$updating=!1}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.markerId),this.hideOtherMarkers(),this.doc.removeEventListener("change",this.$onUpdate),this.session.selection.removeEventListener("changeCursor",this.$onCursorChange),this.pos.detach();for(var e=0;e<this.others.length;e++)this.others[e].detach();this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1===this.$undoStackDepth)throw Error("Canceling placeholders only supported with undo manager attached to session.");for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,i=0;i<t;i++)e.undo(!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}).call(r.prototype),t.PlaceHolder=r})),define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,i){var n=e("../lib/event"),s=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,i=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),h=e.getButton();if(a&&s.isMac&&(h=t.button),e.editor.inMultiSelectMode&&2==h)e.editor.textInput.onContextMenu(e.domEvent);else if(a||i||l){if(0===h){var c,u=e.editor,d=u.selection,g=u.inMultiSelectMode,f=e.getDocumentPosition(),m=d.getCursor(),p=e.inSelection()||d.isEmpty()&&o(f,m),A=e.x,C=e.y,F=u.session,v=u.renderer.pixelToScreenCoordinates(A,C),w=v;if(u.$mouseHandler.$enableJumpToDef)a&&i||l&&i?c="add":i&&u.$blockSelectEnabled&&(c="block");else if(l&&!i){if(c="add",!g&&r)return}else i&&u.$blockSelectEnabled&&(c="block");if(c&&s.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==c){if(!g&&p)return;if(!g){var E=d.toOrientedRange();u.addSelectionMarker(E)}var $=d.rangeList.rangeAtPoint(f);u.$blockScrolling++,u.inVirtualSelectionMode=!0,r&&($=null,E=d.ranges[0],u.removeSelectionMarker(E)),u.once("mouseup",(function(){var e=d.toOrientedRange();$&&e.isEmpty()&&o($.cursor,e.cursor)?d.substractPoint(e.cursor):(r?d.substractPoint(E.cursor):E&&(u.removeSelectionMarker(E),d.addRange(E)),d.addRange(e)),u.$blockScrolling--,u.inVirtualSelectionMode=!1}))}else if("block"==c){var b;e.stop(),u.inVirtualSelectionMode=!0;var y=[];u.$blockScrolling++,g&&!l?d.toSingleRange():!g&&l&&(b=d.toOrientedRange(),u.addSelectionMarker(b)),r?v=F.documentToScreenPosition(d.lead):d.moveToPosition(f),u.$blockScrolling--,w={row:-1,column:-1};var B=function(){var e=u.renderer.pixelToScreenCoordinates(A,C),t=F.screenToDocumentPosition(e.row,e.column);o(w,e)&&o(t,d.lead)||(w=e,u.$blockScrolling++,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(y),y=d.rectangularRangeBlock(w,v),u.$mouseHandler.$clickSelection&&1==y.length&&y[0].isEmpty()&&(y[0]=u.$mouseHandler.$clickSelection.clone()),y.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers(),u.$blockScrolling--)};n.capture(u.container,(function(e){A=e.clientX,C=e.clientY}),(function(e){clearInterval(D),u.removeSelectionMarkers(y),y.length||(y=[d.toOrientedRange()]),u.$blockScrolling++,b&&(u.removeSelectionMarker(b),d.toSingleRange(b));for(var t=0;t<y.length;t++)d.addRange(y[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null,u.$blockScrolling--}));var D=setInterval((function(){B()}),20);return e.preventDefault()}}}else 0===h&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,i){t.defaultCommands=[{name:"addCursorAbove",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelow",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorAboveSkipCurrent",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readonly:!0},{name:"addCursorBelowSkipCurrent",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreBefore",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectMoreAfter",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextBefore",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readonly:!0},{name:"selectNextAfter",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readonly:!0},{name:"splitIntoLines",exec:function(e){e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readonly:!0},{name:"alignCursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readonly:!0}],t.multiSelectCommands=[{name:"singleSelection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readonly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var n=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new n(t.multiSelectCommands)})),define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,i){var n=e("./range_list").RangeList,s=e("./range").Range,o=e("./selection").Selection,r=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),h=e("./commands/multi_select_commands");t.commands=h.defaultCommands.concat(h.multiSelectCommands);var c=new(0,e("./search").Search);var u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var i=this.toOrientedRange();if(this.rangeList.add(i),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(i),this.$onAddRange(i)}e.cursor||(e.cursor=e.end);var n=this.rangeList.add(e);return this.$onAddRange(e),n.length&&this.$onRemoveRange(n),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length?this.$onRemoveRange(e):this.ranges[0]&&this.fromOrientedRange(this.ranges[0])},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var i=e.length;i--;){var n=this.ranges.indexOf(e[i]);this.ranges.splice(n,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new n,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{i=this.getRange();var n=this.isBackwards(),o=i.start.row,r=i.end.row;if(o==r){if(n)var a=i.end,l=i.start;else a=i.start,l=i.end;return this.addRange(s.fromPoints(l,l)),void this.addRange(s.fromPoints(a,a))}var h=[],c=this.getLineRange(o,!0);c.start.column=i.start.column,h.push(c);for(var u=o+1;u<r;u++)h.push(this.getLineRange(u,!0));(c=this.getLineRange(r,!0)).end.column=i.end.column,h.push(c),h.forEach(this.addRange,this)}},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],i=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(i,t.cursor==t.start)}else{var n=this.session.documentToScreenPosition(this.selectionLead),o=this.session.documentToScreenPosition(this.selectionAnchor);this.rectangularRangeBlock(n,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,i){var n=[],o=e.column<t.column;if(o)var r=e.column,a=t.column;else r=t.column,a=e.column;var l,h,c=e.row<t.row;if(c)var u=e.row,d=t.row;else u=t.row,d=e.row;r<0&&(r=0),u<0&&(u=0),u==d&&(i=!0);for(var g=u;g<=d;g++){var f=s.fromPoints(this.session.screenToDocumentPosition(g,r),this.session.screenToDocumentPosition(g,a));if(f.isEmpty()){if(m&&(l=f.end,h=m,l.row==h.row&&l.column==h.column))break;var m=f.end}f.cursor=o?f.start:f.end,n.push(f)}if(c&&n.reverse(),!i){for(var p=n.length-1;n[p].isEmpty()&&p>0;)p--;if(p>0)for(var A=0;n[A].isEmpty();)A++;for(var C=p;C>=A;C--)n[C].isEmpty()&&n.splice(C,1)}return n}}.call(o.prototype);var d=e("./editor").Editor;function g(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",r),e.commands.addCommands(h.defaultCommands),function(e){var t=e.textInput.getElement(),i=!1;function n(t){i&&(e.renderer.setMouseCursor(""),i=!1)}a.addListener(t,"keydown",(function(t){var s=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&s?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&n()})),a.addListener(t,"keyup",n),a.addListener(t,"blur",n)}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,i=e.length;i--;){var n=e[i];if(n.marker){this.session.removeMarker(n.marker);var s=t.indexOf(n);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(h.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(h.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,i=e.editor;if(i.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?n=i.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?n=i.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(i.exitMultiSelectMode(),n=t.exec(i,e.args||{})):n=t.multiSelectAction(i,e.args||{});else{var n=t.exec(i,e.args||{});i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()}return n}},this.forEachSelection=function(e,t,i){if(!this.inVirtualSelectionMode){var n,s=i&&i.keepOrder,r=1==i||i&&i.$byLines,a=this.session,l=this.selection,h=l.rangeList,c=(s?l:h).ranges;if(!c.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var g=c.length;g--;){if(r)for(;g>0&&c[g].start.row==c[g-1].end.row;)g--;d.fromOrientedRange(c[g]),d.index=g,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});n||void 0===f||(n=f),d.toOrientedRange(c[g])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges();var m=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),m&&m.from==m.to&&this.renderer.animateScrolling(m.from),n}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,i=[],n=0;n<t.length;n++)i.push(this.session.getTextRange(t[n]));var s=this.session.getDocument().getNewLineCharacter();(e=i.join(s)).length==(i.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var i=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var n=t==this.multiSelect.anchor?i.cursor==i.start?i.end:i.start:i.cursor;n.row==t.row&&this.session.$clipPositionToDocument(n.row,n.column).column==t.column||this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange())}},this.findAll=function(e,t,i){if((t=t||{}).needle=e||t.needle,null==t.needle){var n=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(n)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;this.$blockScrolling+=1;var o=this.multiSelect;i||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return n&&o.rangeList.rangeAtPoint(n.start)&&o.addRange(n,!0),this.$blockScrolling-=1,s.length},this.selectMoreLines=function(e,t){var i=this.selection.toOrientedRange(),n=i.cursor==i.end,o=this.session.documentToScreenPosition(i.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(i.isEmpty())h=a;else var l=this.session.documentToScreenPosition(n?i.end:i.start),h=this.session.screenToDocumentPosition(l.row+e,l.column);n?(r=s.fromPoints(a,h)).cursor=r.start:(r=s.fromPoints(h,a)).cursor=r.end;if(r.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var c=i.cursor}else this.selection.addRange(i);this.selection.addRange(r),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,i=t.multiSelect,n=i.ranges,s=n.length;s--;){if((a=n[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}}i.mergeOverlappingRanges();var r=[];for(s=n.length;s--;){var a=n[s];r.unshift(t.getTextRange(a))}e<0?r.unshift(r.pop()):r.push(r.shift());for(s=n.length;s--;){o=(a=n[s]).clone();t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column}},this.selectMore=function(e,t,i){var n=this.session,s=n.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=n.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!i)){var o=n.getTextRange(s),r=function(e,t,i){return c.$options.wrap=!0,c.$options.needle=t,c.$options.backwards=-1==i,c.find(e)}(n,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.$blockScrolling+=1,this.session.unfold(r),this.multiSelect.addRange(r),this.$blockScrolling-=1,this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,i=t.ranges,n=-1,o=i.filter((function(e){if(e.cursor.row==n)return!0;n=e.cursor.row}));if(i.length&&o.length!=i.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var r=0,a=1/0,h=i.map((function(t){var i=t.cursor,n=e.getLine(i.row).substr(i.column).search(/\S/g);return-1==n&&(n=0),i.column>r&&(r=i.column),n<a&&(a=n),n}));i.forEach((function(t,i){var n=t.cursor,o=r-n.column,c=h[i]-a;o>c?e.insert(n,l.stringRepeat(" ",o-c)):e.remove(new s(n.row,n.column,n.row,n.column-o+c)),t.start.column=t.end.column=r,t.start.row=t.end.row=n.row,t.cursor=t.end})),t.fromOrientedRange(i[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,g=u==d;if(g){var f,m=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<m);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=m&&(d=m-1)}var p=this.session.doc.removeLines(u,d);p=this.$reAlignText(p,g),this.session.doc.insert({row:u,column:0},p.join("\n")+"\n"),g||(c.start.column=0,c.end.column=p[p.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){var i,n,s,o=!0,r=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==i?(i=t[1].length,n=t[2].length,s=t[3].length,t):(i+n+s!=t[1].length+t[2].length+t[3].length&&(r=!1),i!=t[1].length&&(o=!1),i>t[1].length&&(i=t[1].length),n<t[2].length&&(n=t[2].length),s>t[3].length&&(s=t[3].length),t):[e]})).map(t?h:o?r?function(e){return e[2]?a(i+n-e[2].length)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:h:function(e){return e[2]?a(i)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function h(e){return e[2]?a(i)+e[2]+a(n-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var i=e.oldSession;i&&(i.multiSelect.off("addRange",this.$onAddRange),i.multiSelect.off("removeRange",this.$onRemoveRange),i.multiSelect.off("multiSelect",this.$onMultiSelect),i.multiSelect.off("singleSelect",this.$onSingleSelect),i.multiSelect.lead.off("change",this.$checkMultiselectChange),i.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=g,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){g(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",r)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",r))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var n=e("../../range").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,i){var n=e.getLine(i);return this.foldingStartMarker.test(n)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(e,t,i){return null},this.indentationBlock=function(e,t,i){var s=/\S/,o=e.getLine(t),r=o.search(s);if(-1!=r){for(var a=i||o.length,l=e.getLength(),h=t,c=t;++t<l;){var u=e.getLine(t).search(s);if(-1!=u){if(u<=r)break;c=t}}if(c>h){var d=e.getLine(c).length;return new n(h,a,c,d)}}},this.openingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s+1},a=e.$findClosingBracket(t,r,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>r.row&&(a.row--,a.column=e.getLine(a.row).length),n.fromPoints(r,a)}},this.closingBracketBlock=function(e,t,i,s,o){var r={row:i,column:s},a=e.$findOpeningBracket(t,r);if(a)return a.column++,r.column--,n.fromPoints(a,r)}}).call(s.prototype)})),define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,i){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;border-radius: 2px;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',e("../lib/dom").importCssString(t.cssText,t.cssClass)})),define("ace/line_widgets",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/range"],(function(e,t,i){"use strict";e("./lib/oop");var n=e("./lib/dom");e("./range").Range;function s(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var i=this.session.lineWidgets;i&&i.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var i=e.data,n=i.range,s=n.start.row,o=n.end.row-s;if(0===o);else if("removeText"==i.action||"removeLines"==i.action){t.splice(s+1,o).forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var r=new Array(o);r.unshift(s,0),t.splice.apply(t,r),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,i){e&&(t=!1,e.row=i)})),t&&(this.session.lineWidgets=null)}},this.addLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength())),this.session.lineWidgets[e.row]=e;var t=this.editor.renderer;return e.html&&!e.el&&(e.el=n.createElement("div"),e.el.innerHTML=e.html),e.el&&(n.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0),e.coverGutter||(e.el.style.zIndex=3),e.pixelHeight||(e.pixelHeight=e.el.offsetHeight),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}this.session.lineWidgets&&(this.session.lineWidgets[e.row]=void 0),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var i=this.session._changedWidgets,n=t.layerConfig;if(i&&i.length){for(var s=1/0,o=0;o<i.length;o++){var r=i[o];r._inDocument||(r._inDocument=!0,t.container.appendChild(r.el)),r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/n.characterWidth));var a=r.h/n.lineHeight;r.coverLine&&(a-=this.session.getRowLineCount(r.row))<0&&(a=0),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var i=t.layerConfig,n=this.session.lineWidgets;if(n){for(var s=Math.min(this.firstRow,i.firstRow),o=Math.max(this.lastRow,i.lastRow,n.length);s>0&&!n[s];)s--;this.firstRow=i.firstRow,this.lastRow=i.lastRow,t.$cursorLayer.config=i;for(var r=s;r<=o;r++){var a=n[r];if(a&&a.el){a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=i.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-i.offset+"px";var h=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(h-=t.scrollLeft),a.el.style.left=h+"px",a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(s.prototype),t.LineWidgets=s})),define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,i){"use strict";var n=e("../line_widgets").LineWidgets,s=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var i=e.session;i.widgetManager||(i.widgetManager=new n(i),i.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=i.lineWidgets&&i.lineWidgets[a];l?l.destroy():a-=t;var h,c=function(e,t,i){var n=e.getAnnotations().sort(o.comparePoints);if(n.length){var s=function(e,t,i){for(var n=0,s=e.length-1;n<=s;){var o=n+s>>1,r=i(t,e[o]);if(r>0)n=o+1;else{if(!(r<0))return o;s=o-1}}return-(n+1)}(n,{row:t,column:-1},o.comparePoints);s<0&&(s=-s-1),s>=n.length?s=i>0?0:n.length-1:0===s&&i<0&&(s=n.length-1);var r=n[s];if(r&&i){if(r.row===t){do{r=n[s+=i]}while(r&&r.row===t);if(!r)return n.slice()}var a=[];t=r.row;do{a[i<0?"unshift":"push"](r),r=n[s+=i]}while(r&&r.row==t);return a.length&&a}}}(i,a,t);if(c){var u=c[0];r.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,r.row=u.row,h=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;h={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div")},g=d.el.appendChild(s.createElement("div")),f=d.el.appendChild(s.createElement("div"));f.className="error_widget_arrow "+h.className;var m=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=m+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",g.className="error_widget "+h.className,g.innerHTML=h.text.join("<br>"),g.appendChild(s.createElement("div"));var p=function(e,t,i){if(0===t&&("esc"===i||"return"===i))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(p),i.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(p),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var n=e("./lib/dom"),s=e("./lib/event"),o=e("./editor").Editor,r=e("./edit_session").EditSession,a=e("./undomanager").UndoManager,l=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.edit=function(e){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof o)return e.env.editor;var r="";if(e&&/input|textarea/i.test(e.tagName)){var a=e;r=a.value,e=n.createElement("pre"),a.parentNode.replaceChild(e,a)}else r=n.getInnerText(e),e.innerHTML="";var h=t.createEditSession(r),c=new o(new l(e));c.setSession(h);var u={document:h,editor:c,onResize:c.resize.bind(c,null)};return a&&(u.textarea=a),s.addListener(window,"resize",u.onResize),c.on("destroy",(function(){s.removeListener(window,"resize",u.onResize),u.editor.container.env=null})),c.container.env=c.env=u,c},t.createEditSession=function(e,t){var i=new r(e,t);return i.setUndoManager(new a),i},t.EditSession=r,t.UndoManager=a})),window.require(["ace/ace"],(function(e){for(var t in e&&e.config.init(!0),window.ace||(window.ace=e),e)e.hasOwnProperty(t)&&(window.ace[t]=e[t])}));
IG$.relationMgr=$s.extend($s.window,{modal:!0,closable:!1,resizable:!0,layout:"fit",width:600,autoHeight:!0,layout:{type:"fit"},bodyPadding:0,loadRelation:function(e,t,n){var i=new IG$._rpc$,l=!0;"report"==(t?t.toLowerCase():"")&&(l=!1),i.init(this,{ack:"helpcontent",payload:{uid:e},mbody:{option:"relations",isdown:l?"T":"F",detail:"info"}},this,(function(t){var i,l,a=this.down("[name="+(n||"grd_rel")+"]"),o=t&&t.children?t.children:[],s=this.down("[name=txtrel]"),d=[];for(e||s.setValue("Relations : "+t.name+"("+t.nodepath+")"),i=0;i<o.length;i++)(l=o[i]).iconcls=IG$.get_metatype_icon(l.type.toLowerCase(),l),d.push(l);a.store.loadData(d)}),!1),i.send()},initComponent:function(){$s.apply(this,{title:IRm$.r1("T_Resources"),items:[{xtype:"panel",bodyPadding:10,minHeight:500,layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",name:"txtrel",value:"Relations"},{xtype:"gridpanel",name:"grd_rel",flex:1,store:{xtype:"store",fields:["name","nodepath","uid","type","iconcls"]},columns:[{xtype:"templatecolumn",text:IRm$.r1("B_NAME"),menuDisabled:!0,flex:1,minWidth:160,tdCls:"ig-navi-namecol",renderer:function(e,t,n){return["<div class='ig-navi-itemicon "+(n.get("iconcls")||"")+"'></div>","<span title='"+n.get("name")+"("+n.get("type")+")'>"+n.get("name")+"</span>"].join("")}},{text:IRm$.r1("B_PATH"),flex:1,minWidth:200,dataIndex:"nodepath"}],listeners:{cellclick:function(e,t,n,i,l,a){var o=this.down("[name=png_rel_sub]"),s=i.get("uid");0==n&&(o.show(),this.loadRelation(s,i.get("type"),"grd_rel_sub"))},scope:this}},{xtype:"panel",name:"png_rel_sub",flex:1,hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:"Sub relations"},{xtype:"gridpanel",flex:1,name:"grd_rel_sub",store:{xtype:"store",fields:["name","nodepath","uid","type","iconcls"]},columns:[{xtype:"templatecolumn",text:IRm$.r1("B_NAME"),menuDisabled:!0,flex:1,minWidth:160,tdCls:"ig-navi-namecol",renderer:function(e,t,n){return["<div class='ig-navi-itemicon "+(n.get("iconcls")||"")+"'></div>","<span title='"+n.get("name")+"("+n.get("type")+")'>"+n.get("name")+"</span>"].join("")}},{text:IRm$.r1("B_PATH"),flex:1,minWidth:200,dataIndex:"nodepath"}]}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.close()},scope:this},{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}]}),IG$.relationMgr.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e.loadRelation(this.uid,this.type)}}});
IG$.mgrFeatures=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,layout:"border",userinfo:null,groupinfo:null,iconCls:"icon-doc-features",loadAuth:function(){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/Auth"},mbody:{option:"select"}},this,this.r_loadAuth,!1),e.send()},r_loadAuth:function(e){var t,s,n,a=this.down("[name=gridduty]");a.getSelectionModel();if(e)for(t=0;t<e.length;t++){switch((s=e[t]).active="1"==s.status?"Active":"Disabled",s.dutytype){case"A":n=IRm$.r1("B_DEFAULT");break;case"G":n="Group";break;case"C":n="Custom";break;case"U":n="User";break;default:n=s.dutytype}s.dutytype_d=n}a.store.loadData(e),this.loadFeatures()},loadFeatures:function(){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/Features"},mbody:{option:"get"}},this,this.r_loadFeatures,!1),e.send()},upd_locale:function(e){var t,s,n;if(e&&e.length)for(t=0;t<e.length;t++)n="LR_"+(s=e[t]).cls.toUpperCase(),s.description=IRm$.r1(n)||"",s.children&&this.upd_locale(s.children)},r_loadFeatures:function(e){var t,s=this.down("[name=tf]");e&&(t={name:"Root",children:e},this.upd_locale(t.children),s.store.setRootNode(t),s.store.getRootNode().expand(!0),this.recordmap=[],this.getRecordMap(s.store.getRootNode()))},saveFeatures:function(){var e,t=this.down("[name=gridduty]").getSelectionModel().selected,s=this.down("[name=tf]").store.getRootNode(),n={features:[]};if(t&&t.length>0){e=t.items[0].get("sid"),n.uid=e,this.updateFeature(s,n.features);var a=new IG$._rpc$;a.init(this,{ack:"writecontent",payload:{uid:e,type:"feature"},mbody:n,meta_type:"features"},this,this.r_saveFeatures,!1),a.send()}},r_saveFeatures:function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")},updateFeature:function(e,t){if(e.childNodes){var s,n,a;for(s=0;s<e.childNodes.length;s++)(n=e.childNodes[s]).get("mshow")&&(a={name:n.get("name"),cls:n.get("cls"),clspath:n.get("clspath"),show:n.get("mshow")||!1},t.push(a)),this.updateFeature(n,t)}},loadFeature:function(){var e,t=this.down("[name=dfn]"),s=this.down("[name=dfn_v]"),n=this.down("[name=btn_save]"),a=this.down("[name=gridduty]").getSelectionModel().selected;if(a.length>0){e=a.items[0].get("sid"),t.setValue(IRm$.r1("B_ROLE")),s.setValue(a.items[0].get("name")),s.show(),n.setDisabled(!1);var o=new IG$._rpc$;o.init(this,{ack:"usercontent",payload:{address:"/Features",sid:e},mbody:{option:"content"}},this,this.r_loadFeature,!1),o.send()}else t.setValue(IRm$.r1("L_SEL_DUTY")),s.setValue(""),s.hide()},r_loadFeature:function(e){var t,s,n,a,o=this.recordmap,i=this.down("[name=tf]"),d={};if(e&&e.features)for(t=0;t<e.features.length;t++)d[(s=e.features[t]).clspath]=s;for(i.suspendLayouts(),i.suspendEvents(!1),i.store.suspendEvents(!1),t=0;t<o.length;t++)a=!!(s=d[(n=o[t]).get("clspath")])&&s.show,n.get("mshow")!=a&&n.set("mshow",a);i.store.resumeEvents(),i.resumeEvents(),i.resumeLayouts()},getRecordMap:function(e){if(e.childNodes){var t,s;for(t=0;t<e.childNodes.length;t++)s=e.childNodes[t],this.recordmap.push(s),this.getRecordMap(s)}},updateTreeNode:function(e,t){var s;if(e.childNodes&&e.childNodes.length)for(s=0;s<e.childNodes.length;s++)this.updateTreeNode(e.childNodes[s],t),e.childNodes[s].set("mshow",t)},_exp_meta:function(){var e=new IG$.metaExpDlg({instance:this.instance,dmode:"security",meta:{uid:"/features"}});IG$.checkLogin(this,e)},initComponent:function(){this.title=IRm$.r1("T_FEATURES"),$s.apply(this,{items:[{xtype:"panel",width:270,region:"west",title:IRm$.r1("L_DUTY"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",enableKeyEvents:!0,name:"tkeyword",emptyText:IRm$.r1("L_SEARCH_KWD"),listeners:{keyup:function(e,t,s){13==t.keyCode&&IG$._dofilter(this,"gridduty",["name","type"],e)},scope:this}},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH"),handler:function(){IG$._dofilter(this,"gridduty",["name","type"],this.down("[name=tkeyword]"))},scope:this}]},{xtype:"grid",name:"gridduty",selType:"checkboxmodel",flex:1,selModel:{checkSelector:".x-grid-cell",mode:"SINGLE"},store:{xtype:"store",fields:["sid","name","active","status","dutytype","dutytype_d"]},columns:[{dataIndex:"dutytype_d",text:IRm$.r1("B_TYPE"),width:60},{dataIndex:"name",text:IRm$.r1("B_NAME"),flex:1},{dataIndex:"active",width:80,text:IRm$.r1("B_STATUS")}],tbar:[{text:IRm$.r1("L_LOAD_AUTH"),handler:function(){this.loadAuth()},scope:this},{text:IRm$.r1("B_REFRESH"),handler:function(){this.loadFeatures()},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),hidden:ig$.$l_>5,handler:function(){this._exp_meta()},scope:this}],listeners:{selectionchange:function(e,t,s){this.loadFeature()},scope:this}}]},{xtype:"panel",region:"center",flex:1,title:IRm$.r1("L_FEASURES"),layout:"fit",items:[{xtype:"treepanel",name:"tf",store:{xtype:"treestore",fields:["name","cls","clspath","mshow"]},columns:[{xtype:"treecolumn",text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{dataIndex:"description",text:IRm$.r1("B_DESC"),flex:1},{xtype:"gridcolumn",dataIndex:"cls"},{xtype:"checkcolumn",dataIndex:"mshow",text:IRm$.r1("B_SHOW"),width:80}],tbar:[{xtype:"displayfield",name:"dfn",value:IRm$.r1("L_SEL_DUTY")},{xtype:"textfield",flex:1,hidden:!0,readOnly:!0,name:"dfn_v"},"-",{text:IRm$.r1("B_SAVE"),name:"btn_save",xtype:"button",disabled:!0,iconCls:"icon-toolbar-save",handler:function(){this.saveFeatures()},scope:this}],listeners:{cellclick:function(e,t,s,n,a,o){1==s&&n.expand(!0)},checkchange:function(e,t){this.updateTreeNode(e,t)},scope:this}}]}]}),IG$.mgrFeatures.superclass.initComponent.call(this)},listeners:{afterrender:function(){this.loadAuth()}}});
IG$.mgrRevision=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,layout:"border",iconCls:"icon-group",loadUID:function(e){var t=this,i=new IG$._rpc$;i.init(t,{ack:"helpcontent",payload:{uid:e},mbody:{option:"translate"}},t,(function(e){e&&e.length&&(t.metaobj=e[0],t.applyMetaObj.call(t))}),!1),i.send()},applyMetaObj:function(){var e,t=this,i=t.metaobj,n=i.type.toLowerCase(),o=t.down("[name=f_1]"),a=t.down("[name=f_2]"),d=t.down("[name=_f1]");e=t.checkFolderType(n),t.folderhierarchy=[],o.setVisible(0!=e),0!=e?(t.folderhierarchy.push(i),d.setValue(i.name),a.store.loadData([]),2==e&&t.down("[name=_f3]").show(),this.loadFolderContent()):t.loadRevision(i)},loadRevision:function(e){var t=this,i=new IG$._rpc$;t._loaded_obj=e,i.init(t,{ack:"revision",payload:{uid:e.uid,type:e.type},mbody:{option:"get"}},t,(function(e){var i,n,o,a=t.down("[name=f_3]"),d=t.down("[name=f_4]"),l=t.down("[name=f_5]"),r=t.down("[name=f_6]"),s=t.down("[name=f_7]"),c=[];if(e){if(i=e,d.setValue(i.name),l.setValue(i.nodepath),r.setValue(i.description),s.setValue(i.revision),tnode=e.revisions,tnode)for(o=0;o<tnode.length;o++)(n=tnode[o]).uid=i.uid,n.iscurrent=i.revision==n.revision?"YES":"",n.writable=i.writable,c.push(n);i._history=c,t.minfo=i,a.store.loadData(c)}}),!1),i.send()},updateRevision:function(){var e,t,i,n=this,o=n.minfo,a=n.down("[name=f_7]"),d=!1;if(a.clearInvalid(),o){for(e=a.getValue(),t=0;t<o._history.length;t++)if(o._history[t].revision==e){d=!0;break}if(0==d)return a.markInvalid("Not valid revision"),void IG$.ShowError(IRm$.r1("E_INVALID_REV"),n);(i=new IG$._rpc$).init(n,{ack:"revision",payload:{uid:o.uid,revision:""+e,type:o.type},mbody:{option:"setrevision"}},n,(function(e){n.loadRevision(o),IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),!1),i.send()}},loadFolderContent:function(){var e=this,t=e.metaobj,i=new IG$._rpc$;e.down("[name=_f1]").setValue(t.name),i.init(e,{ack:"content",payload:{uid:t.uid},mbody:{subfolder:"T"}},e,(function(t){var i,n,o=t?t.children:null,a=(e.folderhierarchy,[]),d=e.down("[name=f_2]");if(o)for(i=0;i<o.length;i++)n=o[i],a.push(n);d.store.loadData(a)}),!1),i.send()},checkFolderType:function(e){var t=0;return"cubemodel"==e?t=0:/folder|javapackage/.test(e)?t=1:/datacube|cube|metrics|mcube|nosql|sqlcube|mdbcube/.test(e)&&(t=2),t},updateRevisionDesc:function(e){var t=new IG$._rpc$;t.init(this,{ack:"revision",payload:{uid:e.get("uid"),revision:""+e.get("revision")},mbody:{option:"updatedesc",name:"desc",value:e.get("description")}},this,(function(e){}),!1),t.send()},openRevision:function(e,t){var i=this.instance,n=this.down("[name=f_3]"),o=this.minfo,a=n.store.data.items[e],d=i.mainPanel;d&&o&&a&&a.get("uid")&&d.navigateApp.call(d,o.uid,o.type.toLowerCase(),o.name,o.nodepath,!0,o.writable,{revision:""+a.get("revision")})},removeItem:function(e,t){var i,n=this,o=n.down("[name=f_3]").store.data.items[e];o&&o.get("uid")&&((i=new IG$._rpc$).init(n,{ack:"revision",payload:{uid:o.get("uid"),revision:""+o.get("revision")},mbody:{option:"clear_rev"}},n,(function(e){n._loaded_obj&&n.loadRevision(n._loaded_obj)}),!1),i.send())},initComponent:function(){var e=this,t=e.instance;e.title=IRm$.r1("T_REVISION"),ig$.$l_=ig$.$l_||0,$s.apply(this,{border:0,bodyPadding:5,items:[{xtype:"panel",title:IRm$.r1("L_LIST_OF_ITEMS"),region:"west",width:420,name:"f_1",layout:{type:"vbox",align:"stretch"},hidden:!0,split:!0,collapseMode:"mini",collapsible:!0,padding:5,items:[{xtype:"fieldset",title:IRm$.r1("L_FOLDER_INFO"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",flex:1,fieldLabel:null,readOnly:!0,name:"_f1"},{xtype:"button",text:IRm$.r1("B_UP"),hidden:!0,name:"_f2",handler:function(){var e,t=this,i=t.folderhierarchy,n=t.down("[name=_f2]"),o=t.down("[name=_f3]");i.splice(i.length-1,1),t.metaobj=i[i.length-1],e=t.checkFolderType(t.metaobj.type.toLowerCase()),n.setVisible(i.length>1),o.setVisible(2==e),t.loadFolderContent(),2==e&&t.loadRevision(t.metaobj)},scope:this},{xtype:"button",text:"->",hidden:!0,name:"_f3",handler:function(){var e=this.folderhierarchy[this.folderhierarchy.length-1];e&&this.loadRevision(e)},scope:this}]},{xtype:"fieldset",title:IRm$.r1("B_SEARCH"),hidden:!0,layout:{type:"vbox",align:"stretch"},defaults:{labelWidth:70},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_KEYWORD")},{xtype:"combobox",queryMode:"local",displayField:"name",valueField:"value",editable:!1,fieldLabel:IRm$.r1("L_LAST_MODIFIED"),value:"",store:{xtype:"store",fields:["name","value"],data:[{name:IRm$.r1("B_SELECT"),value:""},{name:"1 Day",value:"1d"},{name:"2 Day",value:"2d"},{name:"3 Day",value:"3d"},{name:"1 Week",value:"1w"}]}},{xtype:"fieldcontainer",layout:"hbox",items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_RUN"),handler:function(){this.loadFolderContent()},scope:this}]}]},{xtype:"gridpanel",name:"f_2",store:{xtype:"store",fields:["name","nodepath","revision","updatedate","updatedatefm","uid","type"]},flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"SINGLE"},$v:{scrollX:!0},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",minWidth:120},{text:IRm$.r1("B_REVISON"),dataIndex:"revision",minWidth:80},{text:IRm$.r1("B_PATH"),dataIndex:"nodepath",flex:1,minWidth:300},{text:IRm$.r1("L_LAST_UPD"),dataIndex:"updatedatefm",minWidth:160}],listeners:{cellclick:function(e,t,i,n,o,a){var d,l=this,r=n.get("uid"),s=n.get("type"),c=l.down("[name=_f2]"),p=l.down("[name=_f3]");0==(d=l.checkFolderType(s.toLowerCase()))?l.loadRevision(n.data):(l.metaobj={uid:r,name:n.get("name"),type:s,nodepath:n.get("nodepath")},l.folderhierarchy.push(l.metaobj),c.setVisible(l.folderhierarchy.length>1),p.setVisible(2==d),l.loadFolderContent(),2==d&&l.loadRevision(l.metaobj))},scope:this}}]},{xtype:"panel",region:"center",title:IRm$.r1("L_REVISION_MGR"),flex:1,padding:5,layout:{type:"vbox",align:"stretch"},bbar:["->",{xtype:"button",text:IRm$.r1("L_TRASHBIN"),hidden:ig$.$l_>5,handler:function(){IG$.procMenuCommand(t,"CMD_TRASHBIN")},scope:this}],items:[{xtype:"fieldset",title:IRm$.r1("L_REVISION_INFO"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"panel",layout:"anchor",flex:1,border:1,padding:"0 5 0",bodyPadding:4,defaults:{labelAlign:"right"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),readOnly:!0,name:"f_4"},{xtype:"textfield",anchor:"100%",fieldLabel:IRm$.r1("B_LOCATION"),readOnly:!0,name:"f_5"},{xtype:"textarea",anchor:"100%",height:120,fieldLabel:IRm$.r1("B_DESC"),readOnly:!0,name:"f_6"},{xtype:"fieldset",title:IRm$.r1("L_CUR_REVISION"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"numberfield",minValue:0,name:"f_7"},{xtype:"button",text:IRm$.r1("L_CHANGE_REV"),handler:function(){this.updateRevision()},scope:this}]}]}]},{xtype:"fieldcontainer",layout:{type:"hbox"},items:[{xtype:"button",text:IRm$.r1("B_REFRESH"),width:80,margin:"0 4 0",handler:function(){this._loaded_obj&&this.loadRevision(this._loaded_obj)},scope:this},{xtype:"button",text:IRm$.r1("B_CLEAR"),width:80,hidden:ig$.$l_>5,handler:function(){var e,t=this;t._loaded_obj&&((e=new IG$._rpc$).init(t,{ack:"revision",payload:{uid:t._loaded_obj.uid,type:t._loaded_obj.type},mbody:{option:"clear_hist"}},t,(function(e){t._loaded_obj&&t.loadRevision(t._loaded_obj)}),!1),e.send())},scope:this},{xtype:"displayfield",flex:1,hidden:ig$.$l_>5,value:"Clear previous revision history",padding:"0 5 0"},{xtype:"container",flex:1}]},{xtype:"gridpanel",name:"f_3",selType:ig$.$l_>5?null:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},store:{xtype:"store",fields:["uid","revision","updatedate","updatedatefm","description","username","userid","iscurrent","writable"]},defaults:{menuDisabled:!0},plugins:[{ptype:"cellediting",clicksToEdit:1}],columns:[{text:IRm$.r1("B_REVISION"),dataIndex:"revision"},{text:IRm$.r1("B_LASTUPD"),dataIndex:"updatedatefm",width:150},{text:IRm$.r1("B_MODI"),dataIndex:"username"},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1,hidden:ig$.$l_>5,editor:{xtype:"textfield",allowBlank:!0}},{text:IRm$.r1("B_CURRENT"),dataIndex:"iscurrent"},{xtype:"actioncolumn",width:50,menuDisabled:!0,hidden:ig$.$l_>5,items:[{iconCls:"icon-grid-add",tooltip:"Open This Revision",handler:function(t,i,n){e.openRevision.call(e,i,n)}},{iconCls:"icon-grid-delete",tooltip:"Remove History",handler:function(t,i,n){e.removeItem.call(e,i,n)}}]}],listeners:{edit:function(e,t,i){var n=t.record;this.updateRevisionDesc(n)},scope:this}}]}]}),IG$.mgrRevision.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this.loadUID(this.uid)}}});
IG$.mgr_trashbin=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,layout:"border",iconCls:"icon-group",loadUID:function(t){var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{uid:t},mbody:{option:"trashbin"}},this,(function(t){this.down("[name=f_3]").store.loadData(t||[])}),!1),e.send()},_recover:function(t){var e,i=this,n=i._tgt(),o=new IG$._rpc$,r=[];if(0!=n.length){for(e=0;e<n.length;e++)r.push({uid:n[e].get("uid")});o.init(i,{ack:"helpcontent",payload:r,mbody:{option:"recover_trash"}},i,(function(t){i.loadUID()}),!1),o.send()}},_purge:function(t){var e,i=this,n=i._tgt(),o=new IG$._rpc$,r=[];if(0!=n.length){for(e=0;e<n.length;e++)r.push({uid:n[e].get("uid")});o.init(i,{ack:"helpcontent",payload:r,mbody:{option:"remove_trash"}},i,(function(t){i.loadUID()}),!1),o.send()}},_tgt:function(t){var e=this.down("[name=f_3]"),i=[];if(t)i.push(t);else{var n,o=e.getSelectionModel().selected;for(n=0;n<o.length;n++)i.push(o.items[n])}return i},initComponent:function(){this.title=IRm$.r1("L_TRASHBIN"),ig$.$l_=ig$.$l_||0,$s.apply(this,{border:0,bodyPadding:5,items:[{xtype:"panel",region:"center",title:IRm$.r1("L_TRASHBIN"),flex:1,padding:5,layout:{type:"vbox",align:"stretch"},tbar:[{text:IRm$.r1("B_REFRESH"),handler:function(){this.loadUID()},scope:this},{text:IRm$.r1("B_PURGE"),handler:function(){this._purge()},scope:this},"->",{text:IRm$.r1("L_RECOVER"),handler:function(){this._recover()},scope:this}],items:[{xtype:"gridpanel",name:"f_3",selType:ig$.$l_>5?null:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},store:{xtype:"store",fields:["uid","revision","updatedate","updatedatefm","description","username","userid","iscurrent","writable"]},defaults:{menuDisabled:!0},plugins:[{ptype:"cellediting",clicksToEdit:1}],columns:[{text:IRm$.r1("B_REVISION"),dataIndex:"revision",width:60},{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:60},{text:IRm$.r1("B_NAME"),dataIndex:"locale_name"},{text:IRm$.r1("B_LASTUPD"),dataIndex:"updatedatefm",width:150},{text:IRm$.r1("B_MODI"),dataIndex:"username"},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1,hidden:ig$.$l_>5,editor:{xtype:"textfield",allowBlank:!0}},{text:IRm$.r1("B_CURRENT"),dataIndex:"iscurrent"},{xtype:"actioncolumn",width:50,menuDisabled:!0,hidden:ig$.$l_>5,items:[{iconCls:"icon-grid-add",tooltip:IRm$.r1("B_PURGE"),handler:function(t,e,i){var n=t.store.getAt(e);this._recover(n)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_RECOVER"),handler:function(t,e,i){var n=t.store.getAt(e);this._purge(n)},scope:this}]}]}]}]}),IG$.mgr_trashbin.superclass.initComponent.call(this)},listeners:{afterrender:function(t){this.loadUID(this.uid)}}});
IG$.userdbTemplate=$s.extend($s.window,{modal:!0,region:"center",closable:!1,resizable:!1,width:320,height:400,confirm:function(){var e,t,a,l=this.fielditems;for(a=0;a<l.length;a++)if(e=l[a].fname,t=this.down("[name="+e+"]").getValue(),l[a].uvalue=t,1!=l[a].optional&&!t)return void IG$.alertmsg(ig$.appname,IRm$.r1("T_DB_BLANK"),null,this,null,null,1,"error");var s=this.applyValue();this.callback&&this.callback.execute(s),this.close()},applyValue:function(){var e,t=this.fieldvalue,a=this.fielditems,l={};for(e=0;e<a.length;e++)l[a[e].fname]=a[e].uvalue;return this.processValue(t,l,!1)},processValue:function(e,t,a){var l,s,i,n,r=[],o=!1,u=!1,h=!1;for(l=0;l<e.length;l++)switch(s=e[l]){case"<":1==u?n+=s:(o=!0,i="");break;case"[":u=!0,o=!1,n="";break;case">":0==u&&1==o?(t[i]&&(r.push(t[i]),h=!0),o=!1):1==u&&(n+=s);break;case"]":u=!1;var c=this.processValue(n,t,!0);r.push(c);break;default:1==u?n+=s:1==o?i+=s:r.push(s)}return 0==h&&1==a?"":r.join("")},parseValue:function(e){var t,a,l,s=[],i=!1,n=!1;for(t=0;t<e.length;t++)switch(a=e[t]){case"<":n=!0,l=a;break;case"[":i=!0;break;case">":1==n&&(n=!1,l+=a,s.push({field:l,fname:l.substring(1,l.length-1),optional:i}));break;case"]":i=!1;break;default:1==n&&(l+=a)}return s},initComponent:function(){var e,t,a=this,l=[],s=a.fieldvalue;for(a.title=IRm$.r1("T_DB_TMPL"),a.fielditems=e=a.parseValue(s),t=0;t<e.length;t++)l.push({fieldLabel:e[t].fname,name:e[t].fname,value:"",allowBlank:e[t].optional,blankText:IRm$.r1("B_REQ")});$s.apply(this,{padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},autoScroll:!0,items:[{region:"center",id:"dlgmakemetaform",defaultType:"textfield",layout:{type:"vbox",align:"stretch"},defaults:{labelWidth:80},items:l}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.userdbTemplate.superclass.initComponent.apply(this,arguments)}});
IG$.resourcemgr=$s.extend($s.panel,{closable:!0,iconCls:"icon-ing-docdef",layout:"fit",bodyPadding:10,init_f:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{uid:e.pp},mbody:{}},e,e.rs_loadLocales,e.rs_loadLocales),t.send()},rs_loadLocales:function(e){var t,n,a=e?e.children:null,o=this.down("[name=c_loc]"),l=this.down("[name=c_loc2]"),i=[{name:"Select locale",value:""}];if(a&&a.length)for(t=0;t<a.length;t++)n=a[t],i.push({name:n.name,value:n.uid});o.store.loadData(i),o.setValue(""),l.store.loadData(i),l.setValue("")},changeLocale:function(e){var t,n=this,a=n.down("[name=c_loc"+(e?"2":"")+"]"),o=n.down("[name=grdrcs]"),l=n.down("[name=vcol1]"),i=n.down("[name=vcol2]"),r=a.getValue();if(r)n.loadCnt(r,e);else if(e){for(i.setText("-"),t=0;t<o.store.data.items.length;t++)o.store.data.items[t].set("value2","");for(t=0;t<o.__dp.length;t++)o.__dp[t].value2=""}else l.setText("-"),i.setText("-"),n.loadGrid([])},loadGrid:function(e){var t,n=this.down("[name=grdrcs]"),a=this.down("[name=_pb_d]"),o=this.down("[name=_pb_c]"),l=Math.ceil(e.length/100),i=[];for(n.__dp=e,n.__p=0,t=0;t<l;t++)i.push({name:""+(t+1),value:t});o.store.loadData(i),o.setValue(0),o.setDisabled(!(l>1)),a.setValue("Count : "+e.length),this.refreshPg()},refreshPg:function(e){var t,n=this,a=n.down("[name=grdrcs]"),o=n.down("[name=_pb_c]"),l=n.down("[name=_pb_p]"),i=n.down("[name=_pb_d]"),r=n.down("[name=_pb_n]"),s=a.__dp,d=a.__p,c=[],p=Math.ceil(s.length/100);for(2==e?a.__p=d+=1:1==e&&d>0&&(a.__p=d-=1),3==e&&i.setValue("Count : "+s.length),100*d>s.length&&(a.__p=d=p),o.setValue(a.__p),t=100*d;t<Math.min(s.length,100*(d+1));t++)c.push(s[t]);l.setDisabled(!(d>0)),r.setDisabled(!(p>0&&p>d)),a.store.loadData(c)},loadCnt:function(e,t){var n;(n=new IG$._rpc$).init(this,{ack:"content",payload:{uid:e},mbody:{}},this,this.rs_loadContent,null,t),n.send()},rs_loadContent:function(e,t){var n,a,o,l=this,i=l.down("[name=grdrcs]"),r=l.down("[name=vcol1]"),s=l.down("[name=vcol2]"),d={},c=[];if(e&&e.data&&(e.uid,n=e.name,c=e.data),t){for(o=0;o<i.__dp.length;o++)d[(a=i.__dp[o]).name]=a;for(o=0;o<i.store.data.length;o++)d[(a=i.__dp[o]).name]=a;for(o=0;o<c.length;o++)(a=d[c[o].name])&&(a.value2=c[o].value);l.refreshPg(),s.setText(n)}else r.setText(n),s.setText("-"),l.loadGrid(c)},toolbarHandler:function(e){var t=this;switch(e){case"cmd_save":t.save_content();break;case"cmd_refresh":t.init_f();break;case"cmd_delete":var n,a,o,l=(r=t.down("[name=grdrcs]")).getSelectionModel().selected,i=r.__dp;r.__p;for(a=0;a<l.length;a++)n=l.items[a],o=r.store.indexOf(n),r.store.remove(n),i.splice(o,1);t.refreshPg(3);break;case"cmd_add_lcs":var r;(i=(r=t.down("[name=grdrcs]")).__dp).splice(0,0,{name:"",value:""}),r.__p=0,t.refreshPg(3);break;case"cmd_add_lang":var s=new IG$.makeItem({instance:t.instance,parentnodepath:t.pp,itemtype:"PrivateContent",parentuid:t.pp,meta_type:"locales",callback:new IG$.callBackObj(t,t.r_createMetaObject)});IG$.checkLogin(this,s);break;case"cmd_import":t.down("[name=pimp]").setVisible(!0);break;case"cmd_export":t.down("[name=pimp]").setVisible(!0),t.expCnt()}},r_createMetaObject:function(e){this.init_f()},save_content:function(){var e=this.down("[name=c_loc]").getValue();this.saveRcsCnt(e,!0)},saveRcsCnt:function(e,t){var n,a,o,l,i,r=this,s=r.down("[name=grdrcs]");if(e){for(cnt={name:e.substring(e.lastIndexOf("/")+1),data:[]},n=0;n<s.__dp.length;n++)l=(a=s.__dp[n]).name,o=t?a.value:a.value2,l&&(r.dicmode||!r.dicmode&&o)&&cnt.data.push({name:l,group:a.group,value:o});(i=new IG$._rpc$).init(r,{ack:"writecontent",payload:{uid:e,is_locale:"T"},mbody:cnt,meta_type:"locales"},r,r.rs_save_content,null,t),i.send()}else t&&IG$.alertmsg(null,IRm$.r1("E_LM_SEL"),null,null,1,"error")},rs_save_content:function(e,t){if(t){var n=this.down("[name=c_loc2]").getValue();if(n)return void this.saveRcsCnt(n,!1)}IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,this,0,"success")},impCnt:function(){var e,t,n,a,o,l,i,r=this.down("[name=timp]").getValue(),s=(this.down("[name=grdrcs]"),{}),d=[];for(i="group",e=r.split("\n"),l=0;l<e.length;l++)(t=e[l])&&(";"==t.charAt(0)?(i=t.replace(/;/g,""),i=IG$.trim12(i)):(n=t.split("\t")).length>1&&(a=IG$.trim12(n[1]),s[o=IG$.trim12(n[0])]||('"'==a.charAt(0)&&'"'==a.charAt(a.length-1)&&(a=a.substring(1,a.length-1)),d.push({group:i,name:o,value:a}),s[o]=1)));this.loadGrid(d)},downloadResources:function(){var e=new IG$._rpc$,t=this.dicmode?"dictionary.xlsx":"resource.xlsx";e.init(this,{ack:"helpcontent",payload:{uid:"/SYS_Config/"+this.rcsname},mbody:{output:"file",option:"download_resources"}},this,(function(e){var n,a;e&&(n=e.downloadurl,a=e.filename||t,n&&a&&$.download(ig$.servlet,[{name:"ack",value:"download"},{name:"_mts_",value:IG$._g$a||""},{name:"payload",value:n},{name:"mbody",value:a}],"POST"))}),null),e.send()},loadResourceExcel:function(e){var t=e.fileuid,n=new IG$._rpc$;n.init(this,{ack:"helpcontent",payload:{uid:"/SYS_Config/"+this.rcsname,fileuid:t},mbody:{option:"excel_resources"}},this,(function(e){}),null),n.send()},expCnt:function(){var e,t,n,a=this.down("[name=timp]"),o=this.down("[name=grdrcs]"),l=[],i=[];for(t=0;t<o.__dp.length;t++)e=o.__dp[t],l.push({group:e.group,value:e.name+"\t"+e.value});for(l.sort((function(e,t){var n=0;return e.group!=t.group&&(n=e.group>t.group?-1:1),n})),n=null,t=0;t<l.length;t++)l[t].group!=n&&(i.push(";;; "+l[t].group),n=l[t].group),i.push(l[t].value);a.setValue(i.join("\n"))},appendLocale:function(e){var t,n,a=this.down("[name=grdrcs]").store,o=[],l=[];for(t=0;t<e.records.length;t++)n=e.records[t],l.push({uid:n.get("uid"),name:n.get("name"),type:n.get("type")});for(t=0;t<a.data.items.length;t++)o[(n=a.data.items[t]).get("name")]=1;this.loadItem(l,o)},loadItem:function(e,t){var n=this,a=[];if($.each(e,(function(e,o){var l,i=n.isFolder(o);t[o.name]||(a.push({name:o.name,value:""}),t[o.name]=1),i&&((l=new IG$._rpc$).init(n,{ack:"content",payload:{uid:o.uid,name:o.name,type:o.type},mbody:{subfolder:"T"}},n,(function(e){var a,o,l=[];if(e.children){for(o=0;o<e.children.length;o++)a=e.children[o],l.push(a);l.length&&n.loadItem(l,t)}}),null),l.send())})),a.length){var o,l=n.down("[name=grdrcs]"),i=l.__dp;for(o=0;o<a.length;o++)i.splice(0,0,a[o]);l.__p=0,n.refreshPg(3)}},isFolder:function(e){var t=e.type.toLowerCase(),n=0;return/folder|bobj|dataset|userdb|table|inlineview/.test(t)&&(n=1),n},initComponent:function(){var e=this;e.rcsname=e.dicmode?"dictionary":"locale",e.pp="/SYS_Config/"+e.rcsname,$s.apply(this,{items:[{xtype:"form",layout:{type:"vbox",align:"stretch"},border:0,items:[{xtype:"fieldset",name:"pimp",title:"Copy-paste your locale document here",hidden:!0,flex:2,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"timp",flex:1},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"button",text:IRm$.r1("B_IMPORT"),handler:function(){this.impCnt()},scope:this},{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){this.down("[name=pimp]").setVisible(!1)},scope:this},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_DOWNLOAD"),name:"btn_download",handler:function(){this.downloadResources()},scope:this},{xtype:"button",text:IRm$.r1("B_UPLOAD"),name:"btn_upload",handler:function(){var e=this,t=new IG$.ExcelFileUploader({instance:e.instance,mode:"rcs",callback:new IG$.callBackObj(e,(function(t){t.fileuid&&IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM"),(function(n){"yes"==n&&e.loadResourceExcel({fileuid:t.fileuid,skip_header:t.skip_header,skip_column:t.skip_column,header_count:t.header_count,unpivot_def:t.unpivot_def})}))}))});IG$.checkLogin(e,t)},scope:this}]}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},flex:3,items:[{xtype:"gridpanel",name:"grdrcs",store:{xtype:"store",fields:["name","value","value2","locale","group"]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},flex:3,plugins:[{ptype:"cellediting",clicksToEdit:!1,listeners:{edit:function(e,t,n){var a=t.record,o=t.field,l=t.value,i=this.down("[name=grdrcs]"),r=i.store.indexOf(a);(a=i.__dp[100*i.__p+r])[o]=l},scope:this}}],viewConfig:e.dicmode?{plugins:{ptype:"gridviewdragdrop",ddGroup:"_I$RD_G_1"},__ing:1,listeners:{beforedrop:function(t,n,a,o,l){var i=e.down("[name=c_loc]");return n.copy=!0,i.getValue()?e.appendLocale.call(e,n):IG$.alertmsg(null,IRm$.r1("E_LM_SEL"),null,null,1,"error"),!1},drop:function(e,t,n,a){return!1}}}:null,bbar:{xtype:"toolbar",name:"_pb_",items:[{xtype:"button",name:"_pb_p",disabled:!0,iconCls:"x-tbar-page-prev",handler:function(){this.refreshPg(1)},scope:this},"-",{xtype:"combobox",name:"_pb_c",fieldLabel:IRm$.r1("L_PAGE"),labelWidth:50,width:120,queryMode:"local",displayField:"name",labelField:"name",valueField:"value",editable:!1,autoSelect:!0,disabled:!0,store:{fields:["name","value"]},listeners:{select:function(e,t,n,a){this.down("[name=grdrcs]").__p=Number(e.getValue()),this.refreshPg()},scope:this}},"-",{xtype:"button",name:"_pb_n",disabled:!0,iconCls:"x-tbar-page-next",handler:function(){this.refreshPg(2)},scope:this},"->",{xtype:"displayfield",name:"_pb_d",value:"No data to display"}]},columns:[{xtype:"gridcolumn",text:IRm$.r1("B_NAME"),dataIndex:"name",width:200,editor:{allowBlank:!1}},{xtype:"gridcolumn",text:IRm$.r1("B_VALUE"),name:"vcol1",flex:1,dataIndex:"value",editor:{allowBlank:!0}},{xtype:"gridcolumn",text:IRm$.r1("B_VALUE"),name:"vcol2",flex:1,dataIndex:"value2",editor:{allowBlank:!0}}]}]}]}],tbar:[{iconCls:"icon-toolbar-save",tooltip:IRm$.r1("L_SAVE_CONTENT"),handler:function(){this.toolbarHandler("cmd_save")},scope:this},"-",{iconCls:"icon-toolbar-add",tooltip:IRm$.r1("L_LM_ADD"),handler:function(){this.toolbarHandler("cmd_add_lang")},scope:this},{xtype:"combobox",name:"c_loc",fieldLabel:IRm$.r1("L_BASE_LANG"),labelWidth:100,queryMode:"local",displayField:"name",labelField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{fields:["name","value"]},listeners:{change:function(e,t,n,a){this.changeLocale()},scope:this}},{iconCls:"icon-refresh",tooltip:IRm$.r1("L_REFRESH"),handler:function(){this.toolbarHandler("cmd_refresh")},scope:this},{iconCls:"icon-toolbar-remove",tooltip:IRm$.r1("B_DELETE_ITEM"),handler:function(){this.toolbarHandler("cmd_delete")},scope:this},"-",{iconCls:"icon-toolbar-add",tooltip:IRm$.r1("L_LM_LCS"),handler:function(){this.toolbarHandler("cmd_add_lcs")},scope:this},"-",{iconCls:"icon-ing-dwn",tooltip:IRm$.r1("L_LM_IMP"),handler:function(){this.toolbarHandler("cmd_import")},scope:this},{iconCls:"icon-ing-upl",tooltip:IRm$.r1("L_LM_EXP"),handler:function(){this.toolbarHandler("cmd_export")},scope:this},"-",{xtype:"combobox",name:"c_loc2",fieldLabel:IRm$.r1("L_SEC_LANG"),labelWidth:100,queryMode:"local",displayField:"name",labelField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{fields:["name","value"]},listeners:{change:function(e,t,n,a){this.changeLocale(!0)},scope:this}}]}),IG$.resourcemgr.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this.init_f()}}});
IG$.mgrdb_config=$s.extend(IG$.v$pnl,{scroll:!1,initialized:!1,closable:!0,hideMode:"offsets",layout:"fit",bodyPadding:5,iconCls:"icon-mgr-db",_init:function(){this.loadUserDBList()},loadUserDBList:function(){var t=new IG$._rpc$;t.init(this,{ack:"userdb",payload:{address:"/Connections",option:"list"},mbody:{}},this,this.rs_loadUserDBList,!1),t.send()},rs_loadUserDBList:function(t){var e=this.down("[name=dbgrid]"),i=t.children;i&&(this.rootnode=t.uid,$.each(i,(function(t,e){e.dbtype=e.attributes.attrb2})),e.store.loadData(i))},toolbarHandler:function(t){switch(t){case"cmd_add_db":this.rs_loadDBDetail(null)}},loadDBDetail:function(t){var e=new IG$._rpc$;e.init(this,{ack:"content",payload:{address:t},mbody:{}},this,this.rs_loadDBDetail,!1),e.send()},rs_loadDBDetail:function(t){var e,i,a,n=t?t.content:null,s=this.down("[name=dbgrid]"),d=[];for(i=0;i<s.store.data.items.length;i++)"sforce"!=(a=s.store.data.items[i]).get("dbtype")&&d.push({dbtype:a.get("dbtype"),name:a.get("name"),uid:a.get("uid")});e=new IG$.mgrdb_editor({instance:this.instance,dbinfo:n,dbitems:d,callback:new IG$.callBackObj(this,this.rs_afterEdit)}),IG$.checkLogin(this,e)},rs_afterEdit:function(t){this.dbinfo=null,this.loadUserDBList(),"saved"==t&&IG$.alertmsg(ig$.appname,IRm$.r1("M_"+t.toUpperCase()),null,null,0,"success")},openDSLayer:function(t,e){var i=this,a=i.instance.mainPanel;switch(t){case"cmd_edit_config":e.get("writable")&&i.loadDBDetail(e.get("uid"));break;case"cmd_tables":var n=new IG$.metaSelectDlg({instance:i.instance,mode:"newitem",initpath:null,callback:new IG$.callBackObj(i,(function(t){var n=new IG$._rpc$;n.init(i,{ack:"writecontent",payload:{address:t.nodepath+"/"+t.name,name:t.name,type:"Bobject",pid:t.uid},mbody:{datasource:{uid:e.get("uid"),name:e.get("name"),type:e.get("type")}},meta_type:"business_object"},i,(function(t){a.navigateApp.call(a,t.uid,t.type.toLowerCase(),t.name,t.nodepath,!0,t.writable)})),n.send()}))});IG$.checkLogin(this,n);break;case"cmd_object_auth":var s;if(1==e.get("writable"))s=new IG$.objectAuth({instance:i.instance,uid:e.get("uid"),itemtype:e.get("type")}),IG$.checkLogin(this,s)}},initComponent:function(){ig$.$l_=ig$.$l_||0,$s.apply(this,{items:[{xtype:"panel",region:"center",layout:{type:"vbox",align:"stretch"},bodyPadding:4,items:[{xtype:"panel",flex:1,border:!1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"dbgrid",flex:1,store:{xtype:"store",fields:[]},columns:[{text:IRm$.r1("B_TYPE"),width:80,sortable:!1,hideable:!1,dataIndex:"dbtype"},{text:IRm$.r1("B_NAME"),flex:1,tdCls:"igc-td-link",sortable:!1,hideable:!1,dataIndex:"name",xtype:"templatecolumn",renderer:function(t,e,i){var a=i.get("locale_name")||i.get("name");return i.get("locale_name")&&(a+="("+i.get("locale_name")+")"),a+="\n==>"+(i.get("nodepath")||""),"<span title='"+IG$.hEE(a)+"'>"+IG$.hEE(i.get("locale_name")||i.get("name"))+"</span>"+(i.data.attributes&&"T"==i.data.attributes.attrb1?"  <span class='db_writable'></span>":"")}},{text:IRm$.r1("B_OWNER"),width:120,dataIndex:"owner"},{text:IRm$.r1("B_MODI"),width:120,dataIndex:"modifier"},{text:IRm$.r1("B_LASTUPD"),width:150,dataIndex:"updatedatefm"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,e,i){var a=t.store.data.items[e];this.openDSLayer("cmd_edit_config",a)},scope:this},{iconCls:"igc-share",tooltip:IRm$.r1("L_OBJECT_AUTH"),hidden:!1!==ig$.features.ig_n_oauth||ig$.$l_>5,handler:function(t,e,i){var a=t.store.data.items[e];this.openDSLayer("cmd_object_auth",a)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(t,e,i){var a=t.store,n=a.getAt(e);IG$.deleteMetaObject(n.get("uid"),n,IG$.callBackObj(this,(function(){a.removeAt(e)})))},scope:this}]}],listeners:{cellclick:function(t,e,i,a,n,s){1==i&&this.openDSLayer("cmd_edit_config",a)},scope:this}}],tbar:[{iconCls:"icon-toolbar-add",hidden:!1!==ig$.features.ig_n_db_add,text:IRm$.r1("L_ADD_DB_INST"),handler:function(){this.toolbarHandler("cmd_add_db")},scope:this},{iconCls:"icon-toolbar-refresh",text:IRm$.r1("L_REFRESH"),handler:function(){this.loadUserDBList()},scope:this}]}]}],listeners:{afterrender:function(t){t._init.call(t)}}}),IG$.mgrdb_config.superclass.initComponent.call(this)}});
IG$.mgrdb_editor=$s.extend($s.window,{width:500,height:520,layout:"fit",_init:function(){this._loadDBInfo()},_loadDBInfo:function(){var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{},mbody:{option:"dblist"}},this,(function(e){var t,a,n=this,i=e.items||[],s=[{gid:0,name:"ALL"}],l={};if(ig$.$l_>5)for(a=i.length-1;a>=0;a--)/(oracle|mysql|mariadb|amplix|mssql|postg)/.test(i[a].name)||i.splice(a,1);for(a=0;a<i.length;a++)l[(t=i[a]).gid]||(l[t.gid]=1,s.push({gid:t.gid,name:t.group_name}));n.dblist=i,n.dblist_grp=s;var o=n.down("[name=dbtype]"),d=n.down("[name=dbtypegrp]");d.store.loadData(s),o.store.loadData(i),d.setValue(0),n.getPkey(),n.updateDBListView(i),n.updateDBDtl()}),!1),e.send()},updateDBDtl:function(){var e,t,a,n,i=this,s=i.instance,l=i.dbinfo,o=(s.dlgLogin.logininfo,i.down("[name=mainpanel]")),d=(IRm$.r1("L_LAST_UPD"),i.down("[name=tudate]")),r=i.down("[name=p_sforce]"),m=i.down("[name=p_ws]"),c=i.down("[name=p_ldap]"),p=i.down("[name=p_sapbw]"),_=i.down("[name=p_essbase]");if(l&&o.setActiveItem(1),r.down("[name=sf_targetdb]").store.loadData(i.dbitems),c.down("[name=ldap_targetdb]").store.loadData(i.dbitems),p.down("[name=sapbw_targetdb]").store.loadData(i.dbitems),_.down("[name=essbase_targetdb]").store.loadData(i.dbitems),m.down("[name=ws_targetdb]").store.loadData(i.dbitems),l){if(i.down("[name=cname]").setValue(l.name),l.max_wait_mills=l.max_wait_mills||1e4,$.each(["form01","form02","form03","form04","form05"],(function(e,t){i.down("[name="+t+"]").setAllValues(l)})),i.down("[name=excel_loader]").setValue("T"==l.excel_loader),d.setValue(l.updatedate),l.options=l.options||{},r.setAllValues(l.options),c.setAllValues(l.options),p.setAllValues(l.options),_.setAllValues(l.options),m.setAllValues(l.options),i.down("[name=g_ws]").store.loadData(l.ws_options),n=[],l.pre_exec_pkg){for(t=i.down("[name=grdprestmt]"),a=0;a<l.pre_exec_pkg.length;a++)n.push({name:l.pre_exec_pkg[a]});t.store.loadData(n)}if(n=[],l.post_exec_pkg){for(t=i.down("[name=grdpoststmt]"),a=0;a<l.post_exec_pkg.length;a++)n.push({name:l.post_exec_pkg[a]});t.store.loadData(n)}(e=i.down("[name=sf_securitykey]").getValue())&&0==e.startsWith("{ENC}")&&i.down("[name=sf_securitykey]").setValue("")}},sql_validate:{hive:"SELECT CURRENT_DATE",impala:"select from_unixtime(unix_timestamp(now()), 'yyyy-MM-dd')"},changeDriverHeler:function(){var e,t,a=this,n=a.dblist,i=a.down("[name=dbtype]"),s=a.down("[name=driver]"),l=a.down("[name=jdbcurl]"),o=a.down("[name=validationSQL]");if(1!=a.changelock)if(t=i.getValue(),i.clearInvalid(),t){for(e=0;e<n.length;e++)if(n[e].name==t){i=n[e];break}a.sql_validate[t]&&o.setValue(a.sql_validate[t]),s.setValue(i?i.driver:""),l.setValue(i?i.url:"")}else i.markInvalid(IRm$.r1("B_REQ"))},getPkey:function(){var e,t=this.instance;t.rsaPublicKeyModules||((e=new IG$._rpc$).init(this,{ack:"security",payload:{},mbody:{}},this,(function(e){e.p1&&e.p2&&(t.rsaPublicKeyModules=e.p1,t.rsaPublicKeyExpoenent=e.p2,t.rsa_kinfo=e.p3)}),!1),e.send())},testConnection:function(){var e={};if(this.checkFields(!0)){this.updateInfo(e);var t=new IG$._rpc$;t.init(this,{ack:"userdb",payload:{address:"/Connections",option:"testcon"},mbody:e,meta_type:"datasource"},this,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SUC_DBCON"),null,null,0,"success")}),!1),t.send()}},cache_info:function(){var e,t=this.dbinfo;!t||t&&!t.uid||(e=new IG$.mgrdb_editor_cache({instance:this.instance,dbinfo:t,callback:new IG$.callBackObj(this,(function(e){}))}),IG$.showDlg(this,e))},setParameter:function(){var e,t,a=this.down("[name=jdbcurl]").getValue();(e=(t=new IG$.userdbTemplate({instance:this.instance,fieldvalue:a,callback:new IG$.callBackObj(this,this.rs_setParameter)})).parseValue(a))&&e.length?IG$.checkLogin(this,t):IG$.alertmsg(ig$.appname,IRm$.r1("M_SUC_TMPL"),null,null,0,"success")},rs_setParameter:function(e){this.down("[name=jdbcurl]").setValue(e)},checkFields:function(e){var t,a=this,n=a.down("[name=cname]"),i=a.down("[name=dbtype]").getValue(),s=e?["username","passwd"]:["username","cname","passwd"];return"sforce"==i||"pardot"==i?s=s.concat(e?["sf_securitykey"]:["sf_securitykey","sf_endpoint","sf_targetdb"]):"sapbw"==i||"essbase"==i||"ldap"==i||"soap"!=i&&"rest"!=i||(s=s.concat(["ws_targetdb"])),n.clearInvalid(),$.each(s,(function(e,n){var i=a.down("[name="+n+"]");i.clearInvalid(),i.getValue()||(i.markInvalid(),t=1)})),!t},_confirm:function(e){var t,a,n,i,s=this,l=new IG$._rpc$,o=s.dbinfo||{},d=s.down("[name=cname]");s.down("[name=dbtype]").getValue();if("confirm"==e){if(!s.checkFields())return;i=d.getValue(),t="writecontent",a={address:s.dbinfo?o.uid:"/Connections/"+i,name:i,type:"UserDB",pid:s.rootnode,memo:i,description:"",keyvar:IG$.rsa_kinfo},s.updateInfo(o),l.init(s,{ack:t,payload:a,mbody:o,meta_type:"datasource"},s,s.rs_saveContent,!1),l.send()}else"delete"==e&&IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("B_C_DELETE"),(function(e){if("yes"==e){if(!o)return;t="deletecontent",a={address:o.uid,name:i,type:"UserDB",description:""},n={},l.init(s,{ack:t,payload:a,mbody:n},s,s.rs_deleteContent,!1),l.send()}}),this,this)},rs_deleteContent:function(e){this.callback&&this.callback.execute("saved"),this.close()},rs_saveContent:function(e){this.callback&&this.callback.execute("saved"),this.close()},updateInfo:function(e){var t,a,n,i,s=this,l=s.instance,o=s.down("[name=p_sforce]"),d=s.down("[name=p_ws]"),r=s.down("[name=p_ldap]"),m=s.down("[name=p_sapbw]"),c=s.down("[name=p_essbase]"),p=s.down("[name=g_ws]");for(e.name=e.memo=s.down("[name=cname]").getValue(),$.each(["form01","form02","form03","form04","form05"],(function(t,a){s.down("[name="+a+"]").getAllValues(e)})),e.options=e.options||{},o.getAllValues(e.options),r.getAllValues(e.options),m.getAllValues(e.options),c.getAllValues(e.options),d.getAllValues(e.options),e.pre_exec_pkg=[],e.post_exec_pkg=[],i=s.down("[name=grdprestmt]"),n=0;n<i.store.data.items.length;n++)e.pre_exec_pkg.push(i.store.data.items[n].get("name"));for(i=s.down("[name=grdpoststmt]"),n=0;n<i.store.data.items.length;n++)e.post_exec_pkg.push(i.store.data.items[n].get("name"));e.passwd&&0==e.passwd.startsWith("{ENC}")&&(a=IG$.encryptKey(l,[e.passwd]),e.passwd=a[0]),(t=e.options.sf_securitykey)&&0==t.startsWith("{ENC}")&&(a=IG$.encryptKey(l,[t]),e.options.sf_securitykey=a[0]),e.excel_loader=s.down("[name=excel_loader]").getValue()?"T":"F",e.ws_options=[],$.each(p.store.data.items,(function(t,a){var n=a.data;n&&e.ws_options.push({name:n.name,ws_wsdl:n.ws_wsdl,ws_endpoint:n.ws_endpoint,ws_operation:n.ws_operation,ws_bindname:n.ws_bindname,ws_portname:n.ws_portname,txt_advanced:n.txt_advanced,parameters:n.parameters,resultmap:n.resultmap})}))},_changeLayout:function(){var e=this,t=e.down("[name=dbtype]").getValue(),a=e.down("[name=form02]"),n=e.down("[name=form04]"),i=e.down("[name=form05]"),s=e.down("[name=m_a1]"),l=e.down("[name=rdbms_adv]"),o=e.down("[name=p_sforce]"),d=e.down("[name=p_ldap]"),r=e.down("[name=p_sapbw]"),m=e.down("[name=p_essbase]"),c=e.down("[name=p_ws]");a.setVisible("mongodb"!=t&&"elasticsearch"!=t&&"sforce"!=t&&"pardot"!=t&&"soap"!=t&&"rest"!=t),n.setVisible("mongodb"==t),i.setVisible("elasticsearch"==t),s.setVisible("mongodb"!=t&&"elasticsearch"!=t),l.setVisible("sforce"!=t&&"pardot"!=t&&"ldap"!=t&&"sapbw"!=t&&"essbase"!=t&&"soap"!=t&&"rest"!=t),o.setVisible("sforce"==t||"pardot"==t),o.down("[name=sf_endpoint]").setVisible("sforce"==t),o.down("[name=pd_endpoint]").setVisible("pardot"==t),o.down("[name=pd_business_unit_id]").setVisible("pardot"==t),o.down("[name=pd_client_secret]").setVisible("pardot"==t),d.setVisible("ldap"==t),r.setVisible("sapbw"==t),m.setVisible("essbase"==t),c.setVisible("soap"==t||"rest"==t)},updateDBListView:function(e){var t=this,a=t.down("[name=c_dblist]"),n=t.down("[name=dbtypegrp]").getValue(),i=$("#dblist_container",a.el.dom);$.each(e,(function(e,a){var s=0;if(n&&a.gid!=n&&(s=1,a.el))a.el.hide();else{if(!a.el){var l=$("<div class='dblist_item'><div class='dbicon db-"+a.name+"'></div><h3>"+a.description+"</h3></div></div>").appendTo(i);l.bind("click",(function(){t.selectDB(a)})),a.el=l}a.el[s?"hide":"show"]()}}))},selectDB:function(e){var t=this.down("[name=mainpanel]"),a=this.down("[name=dbtype]");t.setActiveItem(1),a.setValue(e.name)},moveGridSelection:function(e,t){var a=e.getSelectionModel().getSelection(),n=a&&a.length?a[0]:null;if(n){var i=e.getStore().indexOf(n);if(t<0){if(--i<0)return}else if(++i>=e.getStore().getCount())return;e.getStore().remove(n),n=e.getStore().insert(i,n),e.getSelectionModel().select(n,!0)}},addPkg:function(e){var t,a=this,n={};for(t=0;t<e.store.data.items.length;t++)n[e.store.data.items[t].get("name")]=1;var i=new IG$.dlgExeStmt({instance:a.instance,citem:n,callback:new IG$.callBackObj(a,(function(t,i){var s,l;if(1!=i)for(s=0;s<t.length;s++)l=t[s],n[l.name]||e.store.add({name:l.name});else a.close()}))});IG$.checkLogin(a,i)},initComponent:function(){$s.apply(this,{title:IRm$.r1("T_DB_CON"),padding:10,items:[{xtype:"panel",layout:"card",name:"mainpanel",bodyPadding:10,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},items:[{xtype:"combobox",displayField:"name",valueField:"gid",name:"dbtypegrp",fieldLabel:IRm$.r1("L_CATEGORY"),queryMode:"local",editable:!1,autoSelect:!0,store:{fields:["name","gid"]},listeners:{change:function(e,t,a,n){this.updateDBListView(this.dblist)},scope:this}},{html:"<div id='dblist_container'></div>",name:"c_dblist",flex:1,autoScroll:!0}]},{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:10,autoScroll:!0,items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_DB_NAME"),name:"cname"},{xtype:"fieldcontainer",name:"form01",fieldLabel:IRm$.r1("L_DB_TYPE"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",labelField:"description",valueField:"gid",name:"dbtype",queryMode:"local",displayField:"description",valueField:"name",editable:!1,autoSelect:!0,store:{fields:["name","description","driver","url"]},listeners:{change:function(e,t,a,n){this._changeLayout()},scope:this}},{xtype:"button",name:"m_a1",text:IRm$.r1("L_APPLY_TMPL"),handler:function(){this.changeDriverHeler.call(this)},scope:this}]},{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},name:"form02",items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_JDBC_DRV"),name:"driver"},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_JDBC_URL"),layout:"hbox",items:[{xtype:"textfield",fieldLabel:"",name:"jdbcurl",width:280},{xtype:"button",text:IRm$.r1("L_SET"),handler:function(){var e=this.down("[name=jdbcurl]");e.clearInvalid(),e.getValue()?this.setParameter():e.markInvalid(IRm$.r1("B_REQ"))},scope:this}]}]},{xtype:"fieldcontainer",layout:"fit",height:60,hidden:!0,name:"form04",items:[{xtype:"textarea",name:"mongodb_hosts",flex:1,emptyText:"mongodb+srv://kay:myRealPassword@cluster0.mongodb.net/test?w=majority",fieldLabel:IRm$.r1("L_CON_STR")}]},{xtype:"fieldcontainer",layout:"fit",height:60,hidden:!0,name:"form05",items:[{xtype:"textarea",name:"elasticsearch_hosts",flex:1,emptyText:"elasticsearch hosts",fieldLabel:IRm$.r1("L_CON_STR")}]},{xtype:"fieldcontainer",name:"form03",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_DB_UNAME"),name:"username"},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_DB_PWD"),layout:"hbox",items:[{xtype:"textfield",fieldLabel:"",inputType:"password",name:"passwd",width:220},{xtype:"button",text:IRm$.r1("B_TEST"),handler:function(){this.testConnection.call(this)},scope:this}]},{xtype:"displayfield",value:IRm$.r1("L_LAST_UPD"),name:"tudate",hidden:ig$.$l_>5},{xtype:"fieldset",title:IRm$.r1("L_ADV_OPTION"),name:"rdbms_adv",layout:"anchor",items:[{xtype:"textarea",height:80,fieldLabel:IRm$.r1("L_DB_VAL"),name:"validationSQL"},{xtype:"numberfield",name:"max_pool_size",fieldLabel:IRm$.r1("L_MAX_POOL_SIZE"),minValue:0,maxValue:1e3},{xtype:"numberfield",name:"max_wait_mills",fieldLabel:IRm$.r1("L_MAX_POOL_WAIT_MILLS"),minValue:0,maxValue:1e3},{xtype:"numberfield",name:"query_timeout",fieldLabel:IRm$.r1("L_DB_QUERYTIMEOUT"),minValue:0,maxValue:1e5},{xtype:"numberfield",name:"schedule_query_timeout",hidden:ig$.$l_>5,fieldLabel:IRm$.r1("L_DB_SCHEDULE_QUERYTIMEOUT"),minValue:0,maxValue:1e5},{xtype:"combobox",fieldLabel:IRm$.r1("L_FETCH_MODE"),name:"fetchmode",hidden:ig$.$l_>5,valueField:"value",displayField:"name",store:{data:[{name:IRm$.r1("L_FETCH_APPPAGE"),value:"fetch_page"},{name:IRm$.r1("L_FETCH_DBPAGE"),value:"fetch_page_db"}]}},{xtype:"combobox",labelField:"name",valueField:"value",name:"charset_db",hidden:ig$.$l_>5,queryMode:"local",displayField:"name",editable:!1,autoSelect:!0,fieldLabel:IRm$.r1("L_DB_CHARSET"),store:{xtype:"store",fields:["name","value"],data:[{name:"Not use",value:""},{name:"UTF-8",value:"utf-8"},{name:"ksc5601",value:"ksc5601"},{name:"x-windows-949",value:"x-windows-949"},{name:"iso-8859-1",value:"iso-8859-1"},{name:"euc-kr",value:"euc-kr"}]}},{xtype:"combobox",labelField:"name",valueField:"value",name:"charset_out",queryMode:"local",displayField:"name",editable:!1,autoSelect:!0,hidden:ig$.$l_>5,fieldLabel:IRm$.r1("L_OUTPUT_CHARSET"),store:{xtype:"store",fields:["name","value"],data:[{name:"Not use",value:""},{name:"UTF-8",value:"utf-8"},{name:"ksc5601",value:"ksc5601"},{name:"x-windows-949",value:"x-windows-949"},{name:"iso-8859-1",value:"iso-8859-1"},{name:"euc-kr",value:"euc-kr"}]}},{xtype:"numberfield",name:"userowlimit",anchor:"50%",hidden:ig$.$l_>5,fieldLabel:IRm$.r1("L_ROW_LIMIT_COUNT"),minValue:0,maxValue:1e7},{xtype:"container",layout:{type:"hbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"checkbox",fieldLabel:IRm$.r1("L_USE_CACHE"),name:"enableCache",flex:1,boxLabel:IRm$.r1("B_ENABLED")},{xtype:"button",text:IRm$.r1("L_CACHE_INFO"),name:"cacheInfo",handler:function(){this.cache_info()},scope:this}]},{xtype:"combobox",fieldLabel:IRm$.r1("L_CACHE_RULE"),name:"cacheRule",displayField:"name",valueField:"value",queryMode:"local",editable:!1,autoSelect:!0,hidden:ig$.$l_>5,store:{xtype:"store",fields:["name","value"],data:[{name:IRm$.r1("L_EV_MIN"),value:"min"},{name:IRm$.r1("L_EV_HOUR"),value:"hour"},{name:IRm$.r1("L_EV_DAY"),value:"day"}]},listeners:{change:function(e){var t=this.down("[name=cacheInterval]"),a=e.getValue();ig$.$l_>5||("day"==a?(t.setFieldLabel(IRm$.r1("L_CLC_HOUR")),this.down("[name=cacheRefresh]").show()):(t.setFieldLabel(IRm$.r1("L_CLC_PERI")),this.down("[name=cacheRefresh]").hide()))},scope:this}},{xtype:"numberfield",fieldLabel:IRm$.r1("L_CACHE_PERI"),name:"cacheInterval",hidden:ig$.$l_>5,value:5,minValue:1,maxValue:1e3},{xtype:"checkbox",hidden:!0,fieldLabel:IRm$.r1("L_CACHE_REFRESH"),boxLabel:IRm$.r1("B_ENABLED"),name:"cacheRefresh"},{xtype:"checkbox",fieldLabel:IRm$.r1("L_DB_MON"),boxLabel:IRm$.r1("B_ENABLED"),hidden:ig$.$l_>5,name:"enableMonitor"},{xtype:"checkbox",fieldLabel:IRm$.r1("L_EXCEL_LOADER"),boxLabel:IRm$.r1("B_ENABLED"),hidden:ig$.$l_>5,name:"excel_loader"},{xtype:"fieldset",title:IRm$.r1("L_PREEXE_STMT"),layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"gridpanel",name:"grdprestmt",height:150,selType:"checkboxmodel",selModel:{mode:"MULTI"},tbar:[{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){var e=this.down("[name=grdprestmt]");this.addPkg(e)},scope:this},{xtype:"button",text:IRm$.r1("B_MOVE_UP"),handler:function(){var e=this.down("[name=grdprestmt]");this.moveGridSelection(e,-1)},scope:this},{xtype:"button",text:IRm$.r1("B_MOVE_DOWN"),handler:function(){var e=this.down("[name=grdprestmt]");this.moveGridSelection(e,1)},scope:this}],store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{xtype:"actioncolumn",width:40,items:[{iconCls:"icon-grid-delete",handler:function(e,t,a){e.store.data.items[t];e.store.removeAt(t)},scope:this}]}]}]},{xtype:"fieldset",title:IRm$.r1("L_POST_EXEC_STMT"),layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"gridpanel",name:"grdpoststmt",height:150,selType:"checkboxmodel",selModel:{mode:"MULTI"},tbar:[{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){var e=this.down("[name=grdpoststmt]");this.addPkg(e)},scope:this},{xtype:"button",text:IRm$.r1("B_MOVE_UP"),handler:function(){var e=this.down("[name=grdpoststmt]");this.moveGridSelection(e,-1)},scope:this},{xtype:"button",text:IRm$.r1("B_MOVE_DOWN"),handler:function(){var e=this.down("[name=grdpoststmt]");this.moveGridSelection(e,1)},scope:this}],store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{xtype:"actioncolumn",width:40,items:[{iconCls:"icon-grid-delete",handler:function(e,t,a){e.store.data.items[t];e.store.removeAt(t)},scope:this}]}]}]}]}]},{xtype:"fieldset",layout:"anchor",name:"p_sforce",title:IRm$.r1("L_SFORCE_CON"),hidden:!0,items:[{xtype:"radiogroup",name:"sf_authmethod",vertical:!0,hidden:!0,fieldLabel:IRm$.r1("L_SF_AUTHMETHOD"),items:[{boxLabel:IRm$.r1("L_SF_SECTOKEN"),name:"cb_sf_token",inputValue:"token",checked:!0},{boxLabel:IRm$.r1("L_ALIGN_CENTER"),name:"cb_sf_oauth",inputValue:"oauth",checked:!1}]},{xtype:"textfield",name:"pd_business_unit_id",hidden:!0,fieldLabel:IRm$.r1("L_PARDOT_BUNIT"),flex:1},{xtype:"textfield",name:"pd_client_secret",hidden:!0,fieldLabel:IRm$.r1("L_PARDOT_CLNT_SECRET"),flex:1},{xtype:"textfield",name:"sf_securitykey",inputType:"password",fieldLabel:IRm$.r1("L_SECURITY_KEY"),flex:1},{xtype:"textfield",fieldLabel:IRm$.r1("L_PARDOT_URL"),name:"pd_endpoint",hidden:!0,value:"https://pi.pardot.com/api/login/version/3;https://login.salesforce.com/services/oauth2/token"},{xtype:"textfield",fieldLabel:IRm$.r1("L_SFORCE_URL"),hidden:!0,name:"sf_endpoint",value:"https://login.salesforce.com/services/Soap/u/37.0"},{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_DB"),name:"sf_targetdb",displayField:"name",valueField:"uid",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","uid"]}},{xtype:"fieldcontainer",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_CLIENT_ID"),name:"sf_clientid"},{xtype:"textfield",fieldLabel:IRm$.r1("L_CLIENT_SECRET"),name:"sf_clientsecret"},{xtype:"textfield",fieldLabel:IRm$.r1("L_CALLBACK_HOST"),name:"sf_callbackhost"},{xtype:"textfield",fieldLabel:IRm$.r1("L_CALLBACK_PORT"),name:"sf_callbackport"},{xtype:"textfield",fieldLabel:IRm$.r1("L_TOKEN_FILE"),name:"sf_tokenfile"}]}]},{xtype:"fieldset",layout:"anchor",name:"p_ws",title:IRm$.r1("L_WEBSERVICES"),hidden:!0,items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_DB"),name:"ws_targetdb",displayField:"name",valueField:"uid",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","uid"]}},{xtype:"gridpanel",name:"g_ws",height:220,store:{},bbar:[{text:IRm$.r1("B_ADD"),handler:function(){var e=this,t=new IG$.mgrdb_editor_soa({instance:e.instance,dbtype:e.down("[name=dbtype]").getValue(),callback:new IG$.callBackObj(e,(function(t){e.down("[name=g_ws]").store.add(t._ditem)}))});IG$.showDlg(e,t)},scope:this}],columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name"},{text:IRm$.r1("B_OPERATION"),dataIndex:"ws_operation"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-config",tooltip:IRm$.r1("L_EDIT"),handler:function(e,t,a){var n=e.store.getAt(t),i=new IG$.mgrdb_editor_soa({instance:this.instance,dbtype:this.down("[name=dbtype]").getValue(),_ditem:n.data,callback:new IG$.callBackObj(this,(function(e){}))});IG$.showDlg(this,i)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,a){var n=e.store;n.getAt(t);n.removeAt(t)},scope:this}]}]}]},{xtype:"fieldset",layout:"anchor",name:"p_ldap",title:IRm$.r1("L_LDAP_CON"),hidden:!0,items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_DB"),name:"ldap_targetdb",displayField:"name",valueField:"uid",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","uid"]}}]},{xtype:"fieldset",layout:"anchor",name:"p_sapbw",title:IRm$.r1("L_SAP_BW_CON"),hidden:!0,items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_DB"),name:"sapbw_targetdb",displayField:"name",valueField:"uid",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","uid"]}}]},{xtype:"fieldset",layout:"anchor",name:"p_essbase",title:IRm$.r1("L_HYP_ESSBASE_CON"),hidden:!0,items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_DB"),name:"essbase_targetdb",displayField:"name",valueField:"uid",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","uid"]}}]}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_DELETE"),hidden:!this.dbinfo,handler:function(){this._confirm("delete")},scope:this},"->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm("confirm")},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.mgrdb_editor.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e._init()}}}),IG$.mgrdb_editor_cache=$s.extend($s.window,{width:500,height:520,layout:"fit",_init:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"helpcontent",payload:{uid:e.dbinfo.uid},mbody:{option:"db_cache_info"}},e,(function(t){var a,n,i,s=t||[],l=e.down("[name=grd]"),o=[];for(a=0;a<s.length;a++){switch((n=s[a]).file_size=n.file_size||"-",i="-",n.pstatus){case"1":i="Active";break;case"2":i="Expired"}n.status=i,o.push(n)}l.store.loadData(o)})),t.send()},_delete:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"helpcontent",payload:{uid:e.dbinfo.uid},mbody:{option:"db_cache_clear"}},e,(function(t){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success"),e._init()})),t.send()},initComponent:function(){$s.apply(this,{title:IRm$.r1("L_CACHE_INFO"),padding:10,items:[{xtype:"panel",padding:5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_CACHE_INFO"),padding:5,flex:1,paddingY:!1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",name:"grd",flex:1,store:{fields:[]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{text:IRm$.r1("B_UPD_DATE"),dataIndex:"udate_fm",width:120},{text:IRm$.r1("B_FILESIZE"),dataIndex:"file_size",dataType:"number",width:80},{text:IRm$.r1("B_STATUS"),dataIndex:"status",width:80}],bbar:[{text:IRm$.r1("B_DELETE"),handler:function(){this._delete()},scope:this},"->",{text:IRm$.r1("B_REFRESH"),handler:function(){this._init()},scope:this}]}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.mgrdb_editor_cache.superclass.initComponent.call(this)}}),IG$.dlgExeStmt=$s.extend($s.window,{width:500,height:520,layout:"fit",_init:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{uid:"/SYS_Config/systemconfig"},mbody:{}},e,(function(t){var a,n=t.data,i=e.down("[name=grd]"),s=[];for(a=0;a<n.length;a++)"PKG"==n[a].type&&s.push(n[a]);i.store.loadData(s)})),t.send()},_confirm:function(){var e,t=this.down("[name=grd]").getSelectionModel().selected,a=[];for(e=0;e<t.length;e++)a.push({name:t.items[e].get("name")});this.callback&&this.callback.execute(a),this.close()},initComponent:function(){$s.apply(this,{title:IRm$.r1("T_DB_CON"),padding:10,items:[{xtype:"panel",padding:5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_ANAL_ENV"),padding:5,flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",name:"grd",flex:1,selType:"checkboxmodel",selModel:{mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1}]}]}]}],buttons:[{xtype:"button",text:IRm$.r1("L_CONFIG_VAR"),handler:function(){IG$.procMenuCommand(this.instance,"CMD_VAR"),this.callback.execute([],!0),this.close()},scope:this},"->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlgExeStmt.superclass.initComponent.call(this)}});
IG$.mgrdb_editor_soa=$s.extend($s.window,{width:600,height:480,layout:"fit",_init:function(){var e=this;e._ditem&&(e.setAllValues(e._ditem),e._ditem.ws_operation&&(e._sel_op={name:e._ditem.ws_operation,bind:e._ditem.ws_bindname,port:e._ditem.ws_portname},e.down("[name=ws_op]").setValue(e._sel_op.name)))},_confirm:function(){var e=this,t=e.down("[name=t_input]");e._ditem||(e._ditem={}),0!=e.getAllValues(e._ditem)&&(e._ditem.ws_operation=e._sel_op.name,e._ditem.ws_bindname=e._sel_op.bind,e._ditem.ws_portname=e._sel_op.port,e._ditem.parameters={},$.each(t.store.data.items,(function(t,a){a.data.name&&(e._ditem.parameters[a.data.name]={name:a.data.name,path:a.data.path,namespace:a.data.namespace,optional:a.data.optional,maxoccur:a.data.maxoccur,minoccur:a.data.minoccur,value:a.data.value,isfixed:a.data.isfixed,hasdefault:a.data.hasdefault})})),e.callback&&e.callback.execute(e),e.close())},_req_wsdl_op:function(){var e=this,t=e.down("[name=ws_wsdl]");if(t.getValue()){t.clearInvalid();var a=new IG$._rpc$,n={option:"webservice",handle:"wsdl_operation",wsdl:e.down("[name=ws_wsdl]").getValue()};a.init(e,{ack:"helpcontent",payload:{},mbody:n},e,(function(t){var a=t&&t.length?t:[];e.down("[name=ws_operations]").store.loadData(a)}),!1),a.send()}else t.markInvalid()},_get_ws_tmpl:function(){var e=this,t=new IG$._rpc$,a={option:"webservice",handle:"wsdl_template",wsdl:e.down("[name=ws_wsdl]").getValue(),opname:e._sel_op.name,bindname:e._sel_op.bind,portname:e._sel_op.port};t.init(e,{ack:"helpcontent",payload:{},mbody:a},e,(function(t){if(t){e.setAllValues(t);var a=[];t.parameters&&$.each(t.parameters,(function(e,t){a.push(t)})),e.down("[name=t_input]").store.loadData(a)}}),!1),t.send()},_addRow:function(e){this.down("[name="+e+"]").store.add({})},initComponent:function(){var e=this;$s.apply(e,{title:IRm$.r1("T_DB_CON"),padding:10,items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},autoScroll:!0,items:[{xtype:"fieldset",title:"WSDL",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),name:"name",required:!0},{xtype:"fieldcontainer",fieldLabel:"WSDL",hidden:"rest"==e.dbtype,layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"ws_wsdl",flex:1,required:"soap"==e.dbtype},{xtype:"button",text:"Load",handler:function(){this._req_wsdl_op()},scope:this}]},{xtype:"textfield",fieldLabel:"Endpoint",name:"ws_endpoint",required:!0},{xtype:"textfield",fieldLabel:"Operation",name:"ws_op",hidden:"rest"==e.dbtype,required:"soap"==e.dbtype,readOnly:!0},{xtype:"container",layout:{type:"hbox",align:"stretch"},hidden:"soap"==e.dbtype,required:"rest"==e.dbtype,items:[{xtype:"combobox",fieldLabel:"Method",name:"ws_method",displayField:"name",valueField:"value",queryMode:"local",editable:!1,flex:1,autoSelect:!0,store:{xtype:"store",fields:["name","bind","port"],data:[{name:"GET",value:"GET"},{name:"POST",value:"POST"}]}},{xtype:"button",text:"Test",handler:function(){},scope:this}]}]},{xtype:"fieldset",title:"Message",height:400,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",fieldLabel:"Operations",layout:{type:"hbox",align:"stretch"},hidden:"rest"==e.dbtype,items:[{xtype:"combobox",name:"ws_operations",displayField:"name",valueField:"name",queryMode:"local",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","bind","port"]},listeners:{change:function(e){var t,a=e.getValue();$.each(e.store.data.items,(function(e,n){if(n.data.name==a)return t=n,!1})),this.down("[name=ws_op]").setValue(t?t.data.name:""),this._sel_op=t.data},scope:this}},{xtype:"button",text:"Template",handler:function(){this._get_ws_tmpl()},scope:this}]},{xtype:"gridpanel",name:"t_input",flex:1,store:{},columns:[{text:IRm$.r1("B_PATH"),dataIndex:"path"}],tbar:["->",{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){this._addRow("t_input")},scope:this}]},{xtype:"textarea",flex:1,readOnly:"rest"==e.dbtype,name:"txt_advanced"}]},{xtype:"fieldset",title:"Output Mapping",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:"Table Data Path",name:"ws_table_path"},{xtype:"textfield",fieldLabel:IRm$.r1("L_TABLE_NAME"),name:"ws_table_name"},{xtype:"gridpanel",name:"ws_data_output",title:"Table output",height:250,store:{},columns:[{text:IRm$.r1("B_PATH"),dataIndex:"path"},{text:"DataType",dataIndex:"datatype"}],tbar:["->",{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){this._addRow("ws_data_output")},scope:this}]},{xtype:"gridpanel",name:"ws_output",height:250,title:"Parameter output",store:{},columns:[{text:IRm$.r1("B_PATH"),dataIndex:"path"},{text:"Parameter name",dataIndex:"parameter_name"}],tbar:["->",{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){this._addRow("ws_output")},scope:this}]}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.mgrdb_editor_soa.superclass.initComponent.call(this)}});
IG$.ExcelFileUploader=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,ufiles:null,width:360,autoHeight:!0,processUploadedFile:function(e){var l=this,a=l.down("[name=uploadmode]"),i=l.down("[name=delimiter]"),t=l.down("[name=deletemode]"),n=l.down("[name=targetsheet]"),d=l.down("[name=file_encoding]"),o=l.down("[name=header_count]"),m=l.down("[name=skip_header]"),r=l.down("[name=skip_column]"),s=l.down("[name=unpivot_def]");l.uploadmode=a.getValue(),l.deletemode=t.getValue(),l.delimiter=i.getValue(),l.targetsheet=n.getValue(),l.file_encoding=d.getValue(),l.fileuid=e,l.header_count=o.getValue(),l.skip_header=m.getValue(),l.skip_column=r.getValue(),l.unpivot_def=s.getValue(),l.callback&&l.callback.execute(l),l.close()},_confirm:function(){var e=this,l=e.down("[name=mform]"),a=e.down("[name=orig_filename]"),i=e.down("[name=photo]");e.down("[name=file_encoding]");if(l.getForm().isValid()){l.getForm();document.charset="UTF-8";var t=i.getRawValue();t.indexOf("\\")>-1&&(t=t.substring(t.lastIndexOf("\\")+1)),a.setValue(t),l.submit({url:ig$.servlet,waitMsg:"Uploading your data file",success:function(l,a){var i=l.errorReader.jsonData,t=i&&i.result?i.result.uid:null;e.processUploadedFile(t),e.__cprog=0}})}else e.__cprog=0},initComponent:function(){var e=this;e.title=IRm$.r1("T_DATA_UPLOAD"),$s.apply(e,{layout:"fit",items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},bodyPadding:10,items:[{xtype:"form",name:"mform",layout:"anchor",items:[{xtype:"hiddenfield",name:"_mts_",value:IG$._g$a},{xtype:"textfield",name:"orig_filename",hidden:!0,fieldLabel:IRm$.r1("L_ORIG_NAME")},{xtype:"fileuploadfield",name:"photo",fieldLabel:IRm$.r1("L_DATA"),msgTarget:"side",allowBlank:!1,anchor:"100%",buttonText:IRm$.r1("L_SELECT_FILE"),buttonConfig:{margin:"0 2 0"}},{xtype:"combobox",fieldLabel:IRm$.r1("B_DELIMITER"),hidden:"rcs"==e.mode,name:"delimiter",queryMode:"local",autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"value",store:{fields:["name","value"],data:[{name:",",value:","},{name:"Tab",value:"tab"},{name:"space",value:"space"},{name:"|",value:"|"}]}},{xtype:"combobox",name:"file_encoding",hidden:!(window.ig$.file_encoding&&window.ig$.file_encoding.length>0),fieldLabel:IRm$.r1("L_ENCODING"),editable:!1,queryMode:"local",labelField:"name",valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"],data:window.ig$.file_encoding||[]},listeners:{afterrender:function(e){window.ig$.file_encoding&&window.ig$.file_encoding.length>0&&e.select(window.ig$.file_encoding[0].value)}}},{xtype:"fieldset",title:IRm$.r1("B_ADVANCED"),layout:"anchor",items:[{xtype:"numberfield",fieldLabel:IRm$.r1("L_SKIP_HEADER"),name:"skip_header",value:0},{xtype:"numberfield",fieldLabel:IRm$.r1("L_SKIP_COLUMN"),name:"skip_column",value:0},{xtype:"numberfield",fieldLabel:IRm$.r1("L_HEADER_COUNT"),name:"header_count",value:1},{xtype:"textfield",fieldLabel:IRm$.r1("L_UNPIVOT_DEF"),name:"unpivot_def",emptyText:"Ex: COLUMN_1,3-10;COLUMN_2,3,5,6"}]},{xtype:"fieldset",title:IRm$.r1("B_REPLACE_DATA_OPTIONS"),hidden:!("rcs"!=e.mode&&e.ufiles&&e.ufiles.length>0),layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"checkbox",name:"uploadmode",hidden:!(e.ufiles&&e.ufiles.length>0),hideLabel:!0,boxLabel:IRm$.r1("L_FILE_APPEND"),listeners:{change:function(e,l,a,i){var t=e,n=this.down("[name=deletemode]"),d=this.down("[name=targetsheet]"),o=t.getValue();d.setVisible(o),n.setVisible(o)},scope:this}},{xtype:"combobox",fieldLabel:IRm$.r1("L_DATA_FILE"),name:"targetsheet",queryMode:"local",hidden:!0,autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"uid",store:{fields:["name","uid","type","nodepath"],data:e.ufiles}},{xtype:"checkbox",name:"deletemode",hidden:!0,fieldLabel:" ",hideLabel:!0,boxLabel:IRm$.r1("L_FILE_DELETE")}]}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.__cprog?IG$.alertmsg(ig$.appname,IRm$.r1("M_PROC_WAIT"),null,null,0,"warning"):(this.__cprog=1,this._confirm())},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){var l,a=this.down("[name=delimiter]"),i=this.down("[name=targetsheet]"),t=this.ufiles,n=0;if(a.setValue(","),t&&t.length>0){for(l=0;l<t.length;l++)if(1==t[l].selected){n=l;break}i.setValue(t[n].uid)}e.down("[name=mform]").getForm().errorReader=new IG$.m2ER}}}),IG$.ExcelFileUploader.superclass.initComponent.apply(this,arguments)}});
IG$.p$DataMgr=$s.extend(IG$.v$pnl,{closable:!0,hideMode:"offsets",layout:"fit",bodyPadding:0,iconCls:"icon-dataset",_init:function(){var e=this;e.uid?e.loadContent():(e._mc=e._mc||{},e.loadUserDB())},loadContent:function(){var e=new IG$._rpc$;e.init(this,{ack:"content",payload:{uid:this.uid,revision:this.revision},mbody:{option:"content"}},this,(function(e){var t=this;t._mc=e.content||{},t.down("[name=t_save]").setVisible(t._mc.writable),t.loadJoins(),t.loadUserDB(!0)})),e.send()},loadJoins:function(){var e,t,a,n=this._mc.joins,i=this.down("[name=m2]"),s=[];if(n&&n.length)for(a=0;a<n.length;a++)(t={stable:(e=n[a]).source?e.source.tableuid:null,sfield:e.source?e.source.uid:null,stablename:e.source?e.source.tablename:null,stablelabel:e.source?e.source.tablelabel:null,sfieldname:e.source?e.source.name:null,ttable:e.target?e.target.tableuid:null,tfield:e.target?e.target.uid:null,ttablename:e.target?e.target.tablename:null,ttablelabel:e.target?e.target.tablelabel:null,tfieldname:e.target?e.target.name:null,oprel:e.join}).sdesc=(t.stablelabel||t.stablename)+"."+t.sfieldname,t.tdesc=(t.ttablelabel||t.ttablename)+"."+t.tfieldname,s.push(t);i.store.loadData(s)},showLinkEditor:function(e){var t,a,n,i=this.down("[name=m1]"),s=this.down("[name=m2]"),l=[];for(a=0;a<i.store.data.items.length;a++)n=i.store.data.items[a],l.push({name:n.get("name"),uid:n.get("uid")});t=new IG$.dsjoin({instance:this.instance,tables:l,srcrec:e,callback:new IG$.callBackObj(this,(function(t){this._mc;e?(e.set("stable",t.stable),e.set("sfield",t.sfield),e.set("stablename",t.stablename),e.set("sfieldname",t.sfieldname),e.set("stablelabel",t.stablelabel),e.set("ttable",t.ttable),e.set("tfield",t.tfield),e.set("ttablename",t.ttablename),e.set("tfieldname",t.tfieldname),e.set("ttablelabel",t.ttablelabel),e.set("sdesc",(t.stablelabel||t.stablename)+"."+t.sfieldname),e.set("tdesc",(t.ttablelabel||t.ttablename)+"."+t.tfieldname),e.set("oprel",t.oprel)):(t.sdesc=(t.stablelabel||t.stablename)+"."+t.sfieldname,t.tdesc=(t.ttablelabel||t.ttablename)+"."+t.tfieldname,s.store.add(t))}))}),IG$.showDlg(this,t)},loadUserDB:function(e){var t=new IG$._rpc$,a=this.bobj_datasource?this.bobj_datasource.uid:null;t.init(this,{ack:"userdb",payload:{address:"/Connections",option:"list"},mbody:{}},this,(function(t){var n,i,s=this,l=t.children,o=[];if(l&&l.length){for(n=0;n<l.length;n++)l[n].attributes&&"T"==l[n].attributes.attrb1&&!l[n].scid&&(o.push(l[n]),a&&a==l[n].uid&&(i=l[n]));if(s.bobj_uid)return s._mc.datasource=i||null,void s._startapp();var d;if(o.length){if(s._mc.datasource)for(n=0;n<o.length;n++)if(o[n].uid==s._mc.datasource.uid){d=o[n];break}if(!d&&s._mc.datasource)return void IG$.ShowError(IRm$.r1("E_DS_NOT_ALLOW_UPLOAD"),s);if(!e||e&&!s._mc.datasource_selected)return dlg=new IG$.dlg_select_ds({instance:s.instance,datasource:s._mc.datasource,callback:new IG$.callBackObj(s,(function(e){s._mc.datasource=e?{uid:e.data.uid,name:e.data.name}:null,s._mc.datasource||IG$.alertmsg(ig$.appname,"File upload will be on temporary filespaces!",null,s,1,"info",null,null,null,0),s._startapp()}))}),void IG$.checkLogin(s,dlg);s._startapp()}else e||(IG$.alertmsg(ig$.appname,"File upload will be on temporary filespaces!",null,s,1,"info",null,null,null,0),s._mc.datasource=null),s._startapp()}else e&&s._startapp()}),!1),t.send()},_startapp:function(){var e=this,t=e.down("[name=_m5]"),a=e.down("[name=gldfls]"),n=e.down("[name=dbareq]");a.store.loadData([]),t.store.loadData(e._mc.datafiles),n.setVisible(!(!1!==ig$.features.ig_n_dataset_dba||!e._mc.datasource)),e._set_ds(),e.uid?e.getTbls():e.uploadFile()},getTbls:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{uid:e.uid},mbody:{subfolder:"T"}},e,(function(t){var a,n,i=t&&t.children?t.children:null,s=e.down("[name=m1]"),l=e.down("[name=m1f]"),o=e.down("[name=t_btn]"),d=e.down("[name=t_btn_cnt]"),r=d.down("[name=physical_name]"),c=d.down("[name=locale_name]"),m=[];if(i)for(n=0;n<i.length;n++)a=i[n],m.push(a);s.store.loadData(m),l.store.loadData([]),o.setDisabled(!0),r.setValue(""),c.setValue(""),d.setDisabled(!0)})),t.send()},uploadFile:function(e){var t=this,a=new IG$.ExcelFileUploader({instance:t.instance,callback:new IG$.callBackObj(t,t.rs_uploadFile,e)});t.uid?IG$.checkLogin(t,a):t.saveAsContent(!1)},rs_uploadFile:function(e,t){this.loadFileToTbl({fileuid:e.fileuid,datalabel:e.datalabel,uploadmode:e.uploadmode,delimiter:e.delimiter,targetsheet:e.targetsheet,file_encoding:e.file_encoding,skip_header:e.skip_header,skip_column:e.skip_column,header_count:e.header_count,unpivot_def:e.unpivot_def},t)},loadColumnInfo:function(e,t){var a=new IG$.dlg_cols({instance:this.instance,uid:this.uid,ptr_pp:this,_m5sel:this._m5sel,ptr_rec:e,ptr_records:t});IG$.checkLogin(this,a)},previewData:function(e){var t=this,a=new IG$._rpc$,n=(e.get("files"),e.get("uid"));n?(a.init(t,{ack:"uploadcontent",payload:{uid:n,sheetname:e.get("sheetname"),option:"preview_mdt",count:"100"},mbody:t._mc,meta_type:"dataset"},t,(function(e){if(IG$.dlgLoadPreview){var a=new IG$.dlgLoadPreview({instance:t.instance,dataset:e});IG$.showDlg(t,a)}else{var n=ig$.bootconfig.scmap.igcn;IG$.getScriptCache(n,new IG$.callBackObj(this,(function(){if(IG$.dlgLoadPreview){var a=new IG$.dlgLoadPreview({instance:t.instance,dataset:e});IG$.showDlg(t,a)}else IG$.ShowError(IRm$.r1("L_ERR_L_MOD"))})))}})),a.send()):IG$.alertmsg(ig$.appname,"No file is registered on this item!",null,null,0,"warning")},pstatus_map:{1:"WAITING",9:"REJECTed - {DESC}",2:"ACCEPTed and created table"},requestTableList:function(){var e=this,t=new IG$._rpc$,a=e.down("[name=dbareq]");a.setVisible(!1===ig$.features.ig_n_dataset_dba),t.init(e,{ack:"uploadcontent",payload:{uid:e._m5sel?e._m5sel.get("uid"):"",mode:"ALL"},mbody:{option:"reqdba_lists"}},e,(function(e){var t;for(e=e||[],t=0;t<e.length;t++)e[t].status=this.pstatus_map[e[t].pstatus];a.store.loadData(e)})),t.send()},loadFileToTbl:function(e,t){this._ltb;var a=this.down("[name=_m5]"),n=new IG$._rpc$;n.init(this,{ack:"uploadcontent",payload:{fileuid:e.fileuid,datalabel:e.datalabel,uploadmode:e.uploadmode,delimiter:e.delimiter,targetsheet:e.targetsheet,file_encoding:e.file_encoding,skip_header:""+(e.skip_header||0),skip_column:""+(e.skip_column||0),header_count:""+(e.header_count||1),unpivot_def:e.unpivot_def},mbody:{option:"register_mdt"}},this,(function(n){var i,s,l,o,d,r,c=this._mc,m=[];if(c.datafiles=c.datafiles||[],n.results&&n.results.length){for(i=0;i<n.results.length;i++)if(l=n.results[i],s={uid:l.uid,name:n.name,filename:n.name,filedate:l.filedate,sheetid:i,sheetname:l.name||"sheet_"+i,pname:l.pname,columns:[],files:[]},!(t&&t.get("sheetname")!=s.sheetname&&n.results.length>1)){if(t){s=t.data,r={uid:e.fileuid,name:n.name,sheetname:s.sheetname,memo:l.filedate},s.files.push(r),o=1;break}$.each(n.results[i].headers,(function(e,t){var a=t;s.columns.push(a)})),s.files.push({uid:e.fileuid,name:n.name,sheetname:s.sheetname,memo:l.filedate}),c.datafiles.push(s),d=a.store.add(s),m.push(d)}t&&!o&&IG$.alertmsg(ig$.appname,"Same sheet item not found for this upload!",null,null,0,"warning"),m.length?this.loadColumnInfo(null,m):r&&this.loadDatasetData(t,r)}})),n.send()},loadDatasetData:function(e,t){var a=this,n=new IG$._rpc$,i={children:[],items:[]};a.uid?(i.children.push({uid:t.uid,name:t.name,sheetname:t.sheetname,memo:t.memo}),n.init(a,{ack:"uploadcontent",payload:{uid:a.uid,fuid:e.get("uid"),option:"insert_mdt"},mbody:i,meta_type:"metrics"},a,(function(e){IG$.alertmsg(ig$.appname,"Data insert completed (record count : "+(e.datacount||"")+")",null,null,0,"success")})),n.send()):IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),a)},saveAsContent:function(e){var t=this,a=new IG$.metaSelectDlg({instance:t.instance,mode:"newitem",tree_options:{rootuid:t.bobj_uid||"/"},callback:new IG$.callBackObj(t,t.saveNewContent,e)});IG$.checkLogin(t,a)},saveNewContent:function(e,t){$s.apply(this._mc,{name:e.name,address:e.nodepath+"/"+e.name,pid:e.uid}),this.uid=e.uid,this.saveContent(!0)},saveContent:function(e){var t,a,n,i=this._mc,s=new IG$._rpc$,l=i,o=this.down("[name=m2]");for(t=e?{pid:i.pid,address:i.address,name:i.name,type:"DataSet"}:{uid:i.uid},l.joins=[],n=0;n<o.store.data.items.length;n++)a=o.store.data.items[n],l.joins.push({source:{uid:a.get("sfield"),name:a.get("sfieldname"),tableuid:a.get("stable"),tablename:a.get("stablename"),tablelabel:a.get("stablelabel")},target:{uid:a.get("tfield"),name:a.get("tfieldname"),tableuid:a.get("ttable"),tablename:a.get("ttablename"),tablelabel:a.get("ttablelabel")},join:a.get("oprel")});l.datasource_selected=!0,s.init(this,{ack:"writecontent",payload:t,mbody:l,meta_type:"dataset"},this,(function(e){this.uid=e.uid,this._mc.uid=e.uid,this._mc.name=e.name,this.setTitle(e.name),IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),s.send()},_load_ds:function(){var e=this,t=e.instance.mainPanel;return e._mc&&e._mc.datasource&&e._mc.datasource.uid&&t.navigateApp(e._mc.datasource.uid,"userdb",e._mc.datasource.name,null,!1,!0,{}),!0},_rmTs:function(e){IG$.deleteMetaObject.call(this,e.get("uid"),e)},rdeleteMetaObject:function(e,t){t[0],t[1];IG$.alertmsg(ig$.appname,IRm$.r1("M_DELETED"),null,this,0,"success"),this.getTbls()},_rmDs:function(e){var t,a,n=this,i=n.down("[name=_m5]"),s=n.down("[name=m3]"),l=n._mc.datafiles,o=-1,d=e.get("uid"),r=i.store;for(a=0;a<l.length;a++)l[a].uid==d&&(t=l[a],o=a);if(t&&t.dataset_meta){var c=new IG$._rpc$;c.init(n,{ack:"deletecontent",payload:{uid:t.dataset_meta.uid},mbody:{}},n,(function(){l.splice(o,1),r.remove(e),s.store.loadData([]),this.getTbls()})),c.send()}else l.splice(o,1),r.remove(e),s.store.loadData([])},createItem:function(e,t){var a=this,n=a._s1;n&&IG$._createMetaObject.call(a,e,n.get("uid"),n.get("nodepath"),n,new IG$.callBackObj(a,(function(e,t){a._s1&&a.load_fields(a._s1)})))},load_fields:function(e){var t=this,a=new IG$._rpc$,n=e.get("uid");n&&(a.init(t,{ack:"content",payload:{uid:n},mbody:{subfolder:"T"}},t,(function(a){var n=a&&a.children?a.children:null,i=t.down("[name=m1f]"),s=t.down("[name=t_btn]"),l=t.down("[name=t_btn_cnt]"),o=l.down("[name=physical_name]"),d=l.down("[name=locale_name]");$.each(n,(function(e,t){t.pname=t.attributes&&t.attributes.attrb3?t.attributes.attrb3:""})),n.sort((function(e,t){return e.pname&&t.pname&&"column_"==e.pname.substring(0,7)&&"column_"==t.pname.substring(0,7)?parseInt(e.pname.substring(7))-parseInt(t.pname.substring(7)):e.pname?1:t.pname?-1:0})),i.store.loadData(n),s.setDisabled(!1),l.setDisabled(!1);var r=e.get("attributes");o.setValue(r?r.attrb3:""),d.setValue(e.get("name"))})),a.send())},edit_dimension:function(e){var t=this.instance.mainPanel,a=e.get("type").toLowerCase();"link"==a&&(a=e.get("rawtype").toLowerCase()),t&&"folder"!=a&&"table"!=a&&"inlineview"!=a&&t.navigateApp.call(t,e.get("uid"),a,e.get("name"),e.get("nodepath"),!0,1==e.get("writable"),{cubeuid:this.uid,obj_uid:this.uid,callback:new IG$.callBackObj(this,(function(t){t&&e.set("name",t.name)}))})},_set_ds:function(){var e=this.down("[name=tbdatasource]"),t=this._mc;e.setText(t&&t.datasource?t.datasource.name:"InMemory")},load_files:function(e){var t,a,n,i=this.down("[name=gldfls]"),s=[],l=this.down("[name=_m5]").store,o=e.data.attributes?e.data.attributes.attrb3:null;if(o)for(t=0;t<l.data.items.length;t++)(e=l.data.items[t]).get("pname")==o&&(a={columns:(n=e.data).columns,dataset_meta:n.dataset_meta,filename:n.filename,files:n.files,name:n.name,pname:n.pname,sheetid:n.sheetid,sheetname:n.sheetname,uid:n.uid},s.push(a));i.store.loadData(s)},initComponent:function(){var e=this;$s.apply(e,{layout:"fit",tbar:[{xtype:"button",iconCls:"icon-toolbar-save",name:"t_save",text:IRm$.r1("B_SAVE"),tooltip:IRm$.r1("L_SAVE_REPORT"),handler:function(){this.uid?this.saveContent():this.saveAsContent(!1)},scope:this},"-",{iconCls:"icon-upload",tooltip:IRm$.r1("B_UPLOAD"),text:IRm$.r1("B_UPLOAD"),name:"tb_upload",handler:function(){this.uploadFile()},scope:this},"-",{iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),text:IRm$.r1("B_REFRESH"),handler:function(){this._init()},scope:this},"->",{iconCls:"icon-report",text:IRm$.r1("M_REPORT"),hidden:e.bobj_uid,handler:function(){var t=e.instance.mainPanel;if(e.uid){var a=e._mc.uid;t.navigateApp.call(t,null,"report","New Report",null,!0,!0,{cubeuid:a,load_cube:{cube_objects:[{uid:e._mc.uid,name:e._mc.name,cubeuid:a,type:e._mc.type||"DataSet"}],ds_object:{uid:a,name:e._mc.datasource?e._mc.datasource.name:e._mc.name}}})}else IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),e)},scope:this},{xtype:"button",hidden:ig$.$l_>5||e.bobj_uid,text:IRm$.r1("L_SEL_DB"),handler:function(){var e=this;IG$.confirmMessages(ig$.appname,e._mc.name+" "+IRm$.r1("M_CONFIRM_DS_CHANGE"),(function(t){"yes"==t&&e.loadUserDB()}))},scope:this}],bbar:[{xtype:"toolbar",items:[{xtype:"button",text:"",name:"tbdatasource",tooltip:IRm$.r1("L_SK_DB")}]}],items:[{xtype:"panel",layout:{type:"hbox",stretch:"align"},items:[{xtype:"gridpanel",hidden:!0,title:IRm$.r1("L_UPLOADED_FILE"),flex:1,name:"_m5",store:{fields:["filename","uid","sheetname"]},selType:"checkboxmodel",selModel:{mode:"MULTI"},columns:[{text:IRm$.r1("B_NAME"),flex:1,tdCls:"igc-td-link",dataIndex:"filename"},{text:IRm$.r1("L_SHEET_NAME"),flex:1,dataIndex:"sheetname",tdCls:"itc-td-link"},{text:IRm$.r1("L_PHYSICAL_NAME"),flex:1,dataIndex:"pname",tdCls:"itc-td-link"},{xtype:"actioncolumn",width:80,items:[{iconCls:"icon-grid-config",tooltip:"Config item",handler:function(e,t,a){var n=e.store.getAt(t);this.loadColumnInfo(n)},scope:this},{iconCls:"icon-upload",tooltip:"Upload item",handler:function(e,t,a){var n=e.store.getAt(t);this.uploadFile(n)},scope:this},{iconCls:"icon-history",tooltip:"History",handler:function(e,t,a){var n,i=e.store.getAt(t);n=new IG$.dlg_file_history({instance:this.instance,uid:this._mc.uid,rec:i,mc:this._mc}),IG$.checkLogin(this,n)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,a){var n=this,i=e.store.getAt(t);IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("M_CONFIRM_DELETE"),(function(e){"yes"==e&&n._rmDs(i)}))},scope:this}]}],listeners:{cellclick:function(e,t,a,n,i,s){var l,o=this;o._m5sel=n,1==a?o.loadColumnInfo(n):2==a?o.previewData(n):3==a&&(l=new IG$.dlg_file_history({instance:o.instance,mc:o._mc,uid:o._mc.uid,rec:n}),IG$.checkLogin(o,l))},scope:this}},{xtype:"panel",layout:{type:"vbox",align:"stretch"},flex:1,items:[{xtype:"gridpanel",name:"m1",title:IRm$.r1("L_TABLE_LIST"),flex:2,store:{xtype:"store",fields:["type","name","uid"]},columns:[{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:80},{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",flex:1},{xtype:"actioncolumn",width:30,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,a){var n=e.store.getAt(t);this._rmTs(n)},scope:this}]}],listeners:{cellclick:function(e,t,a,n,i,s){var l=this;l._s1=n,l.load_files(l._s1),l.load_fields(l._s1)},scope:this}},{xtype:"gridpanel",title:IRm$.r1("L_UPLOADED_FILE"),flex:1,name:"gldfls",store:{fields:["filename","uid","sheetname"]},selType:"checkboxmodel",selModel:{mode:"MULTI"},columns:[{text:IRm$.r1("B_NAME"),flex:1,tdCls:"igc-td-link",dataIndex:"filename"},{text:IRm$.r1("L_SHEET_NAME"),flex:1,dataIndex:"sheetname",tdCls:"itc-td-link"},{text:IRm$.r1("L_PHYSICAL_NAME"),flex:1,dataIndex:"pname",tdCls:"itc-td-link"},{xtype:"actioncolumn",width:80,items:[{iconCls:"icon-grid-config",tooltip:"Config item",handler:function(e,t,a){var n=e.store.getAt(t);this.loadColumnInfo(n)},scope:this},{iconCls:"icon-upload",tooltip:"Upload item",handler:function(e,t,a){var n=e.store.getAt(t);this.uploadFile(n)},scope:this},{iconCls:"icon-history",tooltip:"History",handler:function(e,t,a){var n,i=e.store.getAt(t);n=new IG$.dlg_file_history({instance:this.instance,mc:this._mc,uid:this._mc.uid,rec:i}),IG$.checkLogin(this,n)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,a){var n=this,i=e.store.getAt(t);IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("M_CONFIRM_DELETE"),(function(e){"yes"==e&&n._rmDs(i)}))},scope:this}]}],listeners:{cellclick:function(e,t,a,n,i,s){var l,o=this;o._m5sel=n,1==a?o.loadColumnInfo(n):2==a?o.previewData(n):3==a&&(l=new IG$.dlg_file_history({instance:o.instance,mc:o._mc,uid:o._mc.uid,rec:n}),IG$.checkLogin(o,l))},scope:this}}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},flex:2,items:[{xtype:"gridpanel",name:"m1f",title:IRm$.r1("L_FIELDS"),flex:2,store:{xtype:"store",fields:["type","name","uid"]},columns:[{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:80},{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",flex:1},{text:IRm$.r1("L_PHYSICAL_NAME"),flex:1,dataIndex:"pname"}],listeners:{cellclick:function(e,t,a,n,i,s){"Field"!=n.get("type")&&this.edit_dimension(n)},scope:this},tbar:[{xtype:"container",border:0,name:"t_btn_cnt",disabled:!0,layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_TABLE_NAME"),name:"physical_name",readOnly:!0,width:220},{xtype:"textfield",name:"locale_name",width:180},{xtype:"button",text:IRm$.r1("B_SAVE"),handler:function(){var e=this,t=e._s1,a=e.down("[name=locale_name]");if(t){if(a.clearInvalid(),!a.getValue())return void a.setInvalid(IRm$.r1("B_REQ"));IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("M_CONFIRM"),(function(n){if("yes"==n){var i=new IG$._rpc$;i.init(e,{ack:"writecontent",payload:{uid:t.get("uid"),name:a.getValue(),type:t.get("type")},mbody:{option:"rename"}},e,(function(){t.set("name",a.getValue())})),i.send()}}))}},scope:this}]},"->",{xtype:"button",name:"t_btn",text:IRm$.r1("L_CREATE_ITEM"),disabled:!0,menu:{xtype:"menu",items:[{text:IRm$.r1("D_FOLDER"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this.createItem("Folder")},scope:this},"-",{text:IRm$.r1("D_CUSTOMMETRIC"),hidden:!1!==ig$.features.ig_n_cm,handler:function(){this.createItem("CustomMetric")},scope:this},{text:IRm$.r1("D_MEASURE"),hidden:!1!==ig$.features.ig_n_ms,handler:function(){this.createItem("Measure")},scope:this},{text:IRm$.r1("D_FORMULA"),hidden:!1!==ig$.features.ig_n_fm,handler:function(){this.createItem("FormulaMeasure")},scope:this},"-",{text:IRm$.r1("D_DATEMETRIC"),hidden:!1!==ig$.features.ig_n_dm,handler:function(){this.createItem("DateMetric")},scope:this},{text:IRm$.r1("D_CHARTMEASURE"),hidden:!1!==ig$.features.ig_n_cms,handler:function(){this.createItem("ChartMeasure")},scope:this},{text:IRm$.r1("D_HIERARCHY"),hidden:!1!==ig$.features.ig_n_hm,handler:function(){this.createItem("Hierarchy")},scope:this},{text:IRm$.r1("D_UDG"),hidden:!1!==ig$.features.ig_n_udg,handler:function(){this.createItem("UDG")},scope:this}]}}]},{xtype:"gridpanel",name:"m2",title:IRm$.r1("L_RELATIONS"),flex:1,store:{xtype:"store",fields:["type","name","uid"]},columns:[{text:IRm$.r1("L_I_FROM"),flex:1,dataIndex:"sdesc"},{text:IRm$.r1("L_I_TO"),flex:1,dataIndex:"tdesc"},{xtype:"actioncolumn",width:45,items:[{iconCls:"icon-grid-config",tooltip:"Config item",handler:function(e,t,a){var n=e.store.getAt(t);this.showLinkEditor(n)},scope:this},{iconCls:"icon-grid-delete",tooltip:"Delete item",handler:function(e,t,a){var n=e.store.getAt(t);e.store.remove(n)}}]}],tbar:[{text:IRm$.r1("L_ADD_JOIN"),handler:function(){this.showLinkEditor()},scope:this}]},{xtype:"gridpanel",name:"dbareq",title:IRm$.r1("L_DBA_REQ"),hidden:!1!==ig$.features.ig_n_dataset_dba,flex:1,store:{fields:[]},tbar:["->",{text:IRm$.r1("B_REFRESH"),handler:function(){this.requestTableList()},scope:this}],columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"cname"},{text:IRm$.r1("L_USERID"),dataIndex:"userid"},{text:IRm$.r1("B_STATUS"),dataIndex:"status"},{text:IRm$.r1("B_DATE"),dataIndex:"createdatefm"},{text:IRm$.r1("L_UPD_DATE"),dataIndex:"updatedatefm"}]}]}]}],listeners:{afterrender:function(e){e._init()},scope:this}}),IG$.p$DataMgr.superclass.initComponent.call(this)}}),IG$.dlg_cols=$s.extend($s.window,{width:680,layout:"fit",padding:5,height:500,f_init:function(){var e,t,a,n,i=this,s=i.down("[name=m3]"),l=i.down("[name=sheets]"),o=i.ptr_rec,d=i.ptr_records,r=[];if(d){if(i._fcreate=1,$.each(d,(function(e,t){r.push({name:t.get("name"),sheetname:t.get("sheetname"),uid:t.get("uid"),memo:t.get("memo")})})),l.setVisible(!0),l.store.loadData(r),1==r.length&&l.getSelectionModel().select(l.store.data.items[0]),e=l.store,d.length)for(a=0;a<e.data.items.length;a++)if((t=e.data.items[a]).get("uid")==r[0].uid){l.getSelectionModel().focus(t,1);break}}else o&&(i._fcreate=0,n=o.get("columns"),s.store.loadData(n),i.updateColumnInfo(o))},updateColumnInfo:function(e){var t=this,a=t.ptr_pp._mc.datasource,n=new IG$._rpc$,i=t.getPhysicalTable(e),s=(t.down("[name=m3]"),t.down("[name=btn_create_req]")),l=t.down("[name=btn_create]"),o=t.down("[name=btn_sys_key]"),d=t.down("[name=btn_sql]");o.setVisible(!0),d.setVisible(!0),s.setVisible(!(!a||i||!1!==ig$.features.ig_n_ds_reqb)),l.setVisible(!i&&!1===ig$.features.ig_n_ds_sddlb),i&&(prop={uid:i.get("uid"),option:"StoredContent"},n.init(t,{ack:"tablecontent",payload:prop,mbody:{option:prop.option}},t,(function(e){}),!1),n.send())},getPhysicalTable:function(e){var t,a,n,i=this.ptr_pp.down("[name=m1]");for(t=0;t<i.store.data.items.length;t++)if((n=(a=i.store.data.items[t]).get("attributes"))&&n.attrb2==e.get("pname"))return a},appendColumn:function(e){var t,a,n=this._m5sel,i=this.down("[name=m3]");for(t=0;t<i.store.data.items.length;t++)if(i.store.data.items[t].get("fieldname").toUpperCase()==e){a=1;break}if(a)IG$.alertmsg(ig$.appname,"Already appended same field information!",null,null,0,"warning");else{var s={meta_type:"dimension",name:e,fieldname:e,fielduid:e,physicalname:e,datatype:"string",datasize:50};i.store.add(s),n.get("columns").push(s)}},updateColumns:function(){var e,t=this._m5sel,a=(this.down("[name=m3]"),{});return t&&(e=t.get("columns"),$.each(e,(function(e,t){a[t.pname]=t}))),t},requestTable:function(){var e,t=this,a=t.ptr_pp,n=new IG$._rpc$;t.uid?(e=t.updateColumns())&&(n.init(t,{ack:"uploadcontent",payload:{uid:a._mc.uid,fuid:e.get("uid")},mbody:{option:"reqdba"}},t,(function(e){if(e&&e.pstatus){var t="Data already requested (";t=(t+=a.pstatus_map[e.pstatus]).replace("{DESC}",e.description||""),t+=")",IG$.alertmsg(ig$.appname,t,null,null,0,"success")}else IG$.alertmsg(ig$.appname,"Requested meta creation to admin! Please save content to update last information!",null,null,0,"success")})),n.send()):IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),t)},createTable:function(e){var t,a,n,i=this,s=(i.ptr_pp,i.down("[name=sheets]")),l=s.store,o=s.getSelectionModel().selected;new IG$._rpc$;if(a=i.updateColumns(),i.uid){if(a){if(l.data.items.length>0){if(0==o.length)return void IG$.alertmsg(ig$.appname,"Select sheets to import data!",null,null,0,"error");n=o.items}else n=[a];for(i._proc_tb=[],t=0;t<n.length;t++)i._proc_tb.push(n[t]);i._proc_tbs(e)}}else IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),i)},_proc_tbs:function(e){var t,a=this,n=a.ptr_pp,i=new IG$._rpc$,s=a._proc_tb;0!=s.length&&(t=s.pop(),i.init(a,{ack:"uploadcontent",payload:{uid:n._mc.uid,fuid:t.get("uid"),option:a._fcreate?"create_tb":"reset_tb"},mbody:n._mc,meta_type:"dataset"},a,(function(t){var a,i,l,o={};for(IG$.alertmsg(ig$.appname,"Content saved successfully!",null,null,0,"success"),n._mc=n._mc||{},a=0;a<n._mc.datafiles.length;a++)o[n._mc.datafiles[a].pname]=n._mc.datafiles[a];for(a=0;a<t.content.datafiles.length;a++)o[(i=t.content.datafiles[a]).pname]&&((l=o[i.pname]).dataset_meta=i.dataset_meta,l.columns=i.columns);0==s.length?(n._startapp.call(n),e&&this.close()):this._proc_tbs(e)})),i.send())},getCreateScript:function(){var e,t=this,a=t.ptr_pp,n=new IG$._rpc$;(e=t.updateColumns())&&(n.init(t,{ack:"uploadcontent",payload:{uid:e.get("uid"),sheetname:e.get("sheetname"),option:"create_script"},mbody:a._mc,meta_type:"dataset"},t,(function(e){var a=new IG$.dlgsqlview({instance:t.instance,sql:e.CREATE});IG$.checkLogin(this,a)})),n.send())},initComponent:function(){$s.apply(this,{title:IRm$.r1("L_CUSTOM_FIELDS"),items:[{xtype:"panel",title:IRm$.r1("L_CUSTOM_FIELDS"),flex:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"sheets",hidden:!0,flex:1,fieldLabel:IRm$.r1("L_SHEET"),store:{data:[]},selType:"checkboxmodel",selModel:{mode:"MULTI"},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"sheetname",tdCls:"igc-td-link",minWidth:120,flex:1}],listeners:{cellclick:function(e,t,a,n,i,s){if(1==a){var l,o,d,r=this.down("[name=m3]"),c=this.ptr_records;for(o=0;o<c.length;o++)if(c[o].get("uid")==n.get("uid")){l=c[o];break}d=l.get("columns"),r.store.loadData(d),this._m5sel=l,this.updateColumnInfo(l)}},scope:this}},{xtype:"gridpanel",name:"m3",flex:2,store:{xtype:"store",fields:[]},columns:[{xtype:"checkcolumn",text:IRm$.r1("B_KEY"),dataIndex:"iskey",width:40},{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",minWidth:120,flex:1},{text:IRm$.r1("L_HEADER_NAME"),dataIndex:"fieldname"},{text:IRm$.r1("L_PHYSICAL_NAME"),dataIndex:"physicalname"},{text:IRm$.r1("L_DATA_TYPE"),dataIndex:"datatype",width:80},{text:IRm$.r1("L_SIZE"),width:60,dataIndex:"datasize"},{text:IRm$.r1("L_PRECISION"),width:60,dataIndex:"decimaldigits"},{xtype:"actioncolumn",width:40,items:[{iconCls:"icon-grid-delete",tooltip:"Delete Item",handler:function(e,t,a){var n,i=e.store.getAt(t),s=this._m5sel.get("columns"),l=0;for(n=0;n<s.length;n++)if(s[n].fieldname==i.get("fieldname")){s.splice(n,1),l=1;break}l&&e.store.removeAt(t)},scope:this}]}],listeners:{cellclick:function(e,t,a,n,i,s){var l;1==a&&(l=new IG$.dlg_column_prop({instance:this.instance,rec:n}),IG$.checkLogin(this,l))},scope:this},bbar:[{xtype:"displayfield",value:" "},{xtype:"button",hidden:!0,name:"btn_sys_key",text:IRm$.r1("L_ADD_SYS_KEY"),menu:{xtype:"menu",items:[{text:IRm$.r1("L_FILENAME"),handler:function(){this.appendColumn("FILENAME")},scope:this},{text:IRm$.r1("L_USERID"),handler:function(){this.appendColumn("USERID")},scope:this},{text:IRm$.r1("L_DATE_IMPORTED"),hidden:!1!==ig$.features.ig_n_fm,handler:function(){this.appendColumn("UPLOAD_DATE")},scope:this}]}},"->",{xtype:"button",name:"btn_update",text:IRm$.r1("B_UPD"),handler:function(){var e,t,a=[],n=this.down("[name=m3]").getSelectionModel().selected;for(t=0;t<n.length;t++)a.push(n.items[t]);a.length&&(e=new IG$.dlg_column_prop({instance:this.instance,rec:a.length>1?null:a[0],records:a.length>1?a:null}),IG$.checkLogin(this,e))},scope:this},{xtype:"button",hidden:!0,name:"btn_create_req",text:IRm$.r1("L_REQ_CRT_TABLE"),handler:function(){this.requestTable()},scope:this},{xtype:"button",hidden:!0,name:"btn_sql",text:IRm$.r1("L_SCRIPT"),handler:function(){this.getCreateScript()},scope:this}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),name:"btn_create",hidden:!0,handler:function(){this.createTable(!0)},scope:this},{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e.f_init()}}}),IG$.dlg_cols.superclass.initComponent.call(this)}}),IG$.dlg_file_history=$s.extend($s.window,{width:400,layout:"fit",padding:5,height:500,loadDatasetData:function(e){var t,a=this,n=new IG$._rpc$,i=a.down("[name=grdupload]").getSelectionModel().selected,s=a.rec,l={children:[],items:[]};if(e||0!=i.length)if(a.uid){if(!e)for(t=0;t<i.items.length;t++)l.children.push({uid:i.items[t].get("uid"),name:i.items[t].get("name"),sheetname:i.items[t].get("sheetname"),memo:i.items[t].get("memo")});n.init(a,{ack:"uploadcontent",payload:{uid:a.uid,fuid:s.get("uid"),option:"insert_mdt"},mbody:l,meta_type:"metrics"},a,(function(e){IG$.alertmsg(ig$.appname,"Data insert completed (record count : "+(e.datacount||"")+")",null,null,0,"success")})),n.send()}else IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),a);else IG$.alertmsg(ig$.appname,"No items selected!",null,null,0,"warning")},previewData:function(e){var t=this,a=new IG$._rpc$,n=t.rec.get("uid"),i=t.rec;a.init(t,{ack:"uploadcontent",payload:{uid:n,sheetname:i.get("sheetname"),count:"100",option:"preview_mdt",sheetid:""+i.get("sheetid"),fileid:e.get("uid")},mbody:t.mc,meta_type:"dataset"},t,(function(e){if(IG$.dlgLoadPreview){var a=new IG$.dlgLoadPreview({instance:t.instance,dataset:e});IG$.showDlg(t,a)}else{var n=ig$.bootconfig.scmap.igcn;IG$.getScriptCache(n,new IG$.callBackObj(this,(function(){if(IG$.dlgLoadPreview){var a=new IG$.dlgLoadPreview({instance:t.instance,dataset:e});IG$.showDlg(t,a)}else IG$.ShowError(IRm$.r1("L_ERR_L_MOD"))})))}})),a.send()},initComponent:function(){var e,t=this.mc;t&&t.datasource&&(e=[{xtype:"button",text:IRm$.r1("L_LD_INTO_TBL"),handler:function(){this.loadDatasetData()},scope:this},{xtype:"button",text:IRm$.r1("L_CLR_TBL"),handler:function(){var e=this;e.uid?IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("L_TB_BN"),(function(t){"yes"==t&&e.loadDatasetData(!0)})):IG$.ShowError(IRm$.r1("E_SAVE_CONTENT"),e)},scope:this}]),$s.apply(this,{title:IRm$.r1("L_FILE_UPLOAD_HIST"),items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"gridpanel",name:"grdupload",selType:"checkboxmodel",selModel:{mode:"MULTI"},flex:1,store:{fields:[]},bbar:e,columns:[{flex:1,text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link"},{xtype:"actioncolumn",width:40,items:[{iconCls:"icon-grid-delete",tooltip:"Delete Item",handler:function(e,t,a){var n,i=e.store.getAt(t),s=this.rec;for(e.store.removeAt(t),n=0;n<s.data.files.length;n++)if(s.data.files[n].uid==i.get("uid")){s.data.files.splice(n,1);break}},scope:this}]}],listeners:{cellclick:function(e,t,a,n,i,s){1==a&&this.previewData(n)},scope:this}}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this.rec&&this.down("[name=grdupload]").store.loadData(this.rec.data.files)}}}),IG$.dlg_file_history.superclass.initComponent.call(this)}}),IG$.dlg_column_prop=$s.extend($s.window,{width:400,layout:"fit",padding:5,autoHeight:!0,initComponent:function(){var e=this;$s.apply(e,{title:IRm$.r1("L_COLUMN_PROP"),items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"fieldset",title:IRm$.r1("L_COLUMN_PROP"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"name",fieldLabel:IRm$.r1("B_NAME"),required:!e.records,disabled:!!e.records},{xtype:"textfield",name:"fieldname",readOnly:!0,fieldLabel:IRm$.r1("L_HEADER_NAME"),required:!e.records,disabled:!!e.records},{xtype:"textfield",name:"physicalname",fieldLabel:IRm$.r1("L_PHYSICAL_NAME"),disabled:!!e.records},{xtype:"combobox",name:"datatype",fieldLabel:IRm$.r1("L_DATA_TYPE"),required:!0,displayField:"name",valueField:"value",store:{data:[{name:"string",value:"VARCHAR"},{name:"number",value:"NUMERIC"},{name:"decimal",value:"NUMERIC"},{name:"date",value:"DATE"}]},listeners:{change:function(e,t,a,n){var i=this.down("[name=decimaldigits]"),s=this.down("[name=dateformatcnt]");i.setVisible("NUMERIC"==t),s.setVisible("DATE"==t)},scope:this}},{xtype:"numberfield",name:"datasize",fieldLabel:IRm$.r1("L_DATA_SIZE"),required:!e.records},{xtype:"numberfield",name:"decimaldigits",hidden:!0,fieldLabel:IRm$.r1("L_DATA_PREC")},{xtype:"container",layout:{type:"hbox",align:"stretch"},name:"dateformatcnt",hidden:!0,items:[{xtype:"textfield",name:"dataset_dateformat",fieldLabel:IRm$.r1("L_DATE_FORMAT")},{xtype:"button",text:IRm$.r1("B_EXAMPLE"),handler:function(){IG$.show_tmpl_hlp(this,"dateformat","dataset_dateformat",!1)},scope:this}]},{xtype:"checkbox",boxLabel:IRm$.r1("B_ENABLED"),fieldLabel:IRm$.r1("L_IS_KEY"),name:"iskey",disabled:!!e.records}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){var e,t,a=this,n={};if(a.rec){if(a.getAllValues(a.rec.data))return;a.rec.refresh()}else if(a.records){if(a.getAllValues(n))return;for(e=0;e<a.records.length;e++)(t=a.records[e]).set("datatype",n.datatype),n.datasize>0&&t.set("datasize",n.datasize)}a.close()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this.rec&&e.setAllValues(this.rec.data)}}}),IG$.dlg_column_prop.superclass.initComponent.call(this)}}),IG$.dsjoin=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:420,autoHeight:!0,callback:null,_curLink:null,_init:function(){var e,t,a,n=this,i=[{name:IRm$.r1("B_SELECT"),uid:""}],s=[{name:IRm$.r1("B_SELECT"),uid:""}],l=n.srcrec?n.srcrec.data:null;if(n.tables){for(a=0;a<n.tables.length;a++)i.push({name:n.tables[a].name,uid:n.tables[a].uid}),s.push({name:n.tables[a].name,uid:n.tables[a].uid});(e=n.down("[name=stable]")).store.loadData(i),(t=n.down("[name=ttable]")).store.loadData(s),e.setValue(l?l.stable:""),t.setValue(l?l.ttable:"")}n.down("[name=oprel]").setValue(l?l.oprel:"")},_confirm:function(){var e=this,t={};e.getAllValues(t)||($.each(["stable","sfield","ttable","tfield"],(function(a,n){var i,s,l;for(i=e.down("[name="+n+"]").store,s=0;s<i.data.items.length;s++)if((l=i.data.items[s]).get("uid")==t[n]){t[n+"name"]=l.get("name"),t[n+"label"]=l.get("name");break}})),e.callback&&e.callback.execute(t),e.close())},_get_columns:function(e,t,a){var n=this,i=new IG$._rpc$;e?(i.init(n,{ack:"content",payload:{uid:e},mbody:{subfolder:"T"}},n,(function(e){var i,s,l,o=e&&e.children?e.children:null,d=n.down("[name="+t+"]"),r=[{name:IRm$.r1("B_SELECT"),uid:""}];if(o)for(s=0;s<o.length;s++)(i=o[s]).uid==a&&(l=i.uid),r.push(i);d.store.loadData(r),d.setValue(l||"")})),i.send()):n.down("[name="+t+"]").store.loadData([])},initComponent:function(){$s.apply(this,{padding:10,title:IRm$.r1("L_JOIN_REL_EDITOR"),items:[{xtype:"form",layout:{type:"vbox",align:"stretch"},padding:10,items:[{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},name:"sfield_cnt",items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_SOURCE_FIELD"),name:"stable",queryMode:"local",autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"uid",required:!0,store:{fields:["name","uid"]},listeners:{change:function(e,t,a,n){var i=e.getValue();this._get_columns(i,"sfield",this.srcrec?this.srcrec.get("sfield"):"")},scope:this}},{xtype:"combobox",name:"sfield",fieldLabel:" ",queryMode:"local",autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"uid",required:!0,store:{fields:["name","uid"]}}]},{xtype:"fieldcontainer",layout:{type:"vbox",align:"stretch"},name:"tfield_cnt",items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_TARGET_FIELD"),name:"ttable",queryMode:"local",autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"uid",required:!0,store:{fields:["name","uid"]},listeners:{change:function(e,t,a,n){var i=e.getValue();this._get_columns(i,"tfield",this.srcrec?this.srcrec.get("tfield"):"")},scope:this}},{xtype:"combobox",name:"tfield",fieldLabel:" ",queryMode:"local",autoSelect:!0,autoScroll:!0,editable:!1,labelField:"name",displayField:"name",valueField:"uid",required:!0,store:{fields:["name","uid"]}}]},{xtype:"fieldset",layout:{type:"vbox",align:"stretch"},defaults:{labelWidth:150},title:IRm$.r1("L_OPTIONS"),items:[{xtype:"combobox",name:"oprel",fieldLabel:IRm$.r1("L_SRC_TO_TGT_IS"),queryMode:"local",autoSelect:!0,editable:!1,valueField:"op",displayField:"name",labelField:"name",required:!0,$w:390,store:{fields:["name","op","desc"],data:[{name:"Inner equal",op:"INNER JOIN",desc:"Show only match values"},{name:"Left outer",op:"LEFT OUTER",desc:"Show all source values even not match"},{name:"Right outer",op:"RIGHT OUTER",desc:"Show all target values even not match"},{name:"Auto natural",op:"NATURAL",desc:"Automatic join with column foreign key"},{name:"Full outer",op:"FULL OUTER",desc:"Show all source and target values"}]},listeners:{change:function(e){var t,a,n,i=e.getValue(),s=this.down("[name=op_desc]");for(a=0;a<e.store.data.items.length;a++)if((n=e.store.data.items[a]).get("op")==i){t=n;break}t&&s.setValue("* "+t.get("desc"))},scope:this}},{xtype:"displayfield",name:"op_desc"}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this._init()}}}),IG$.dsjoin.superclass.initComponent.apply(this,arguments)}});
IG$.dlg_select_ds||(IG$.dlg_select_ds=$s.extend($s.window,{width:500,height:520,layout:"fit",padding:5,_init:function(){var e,t=new IG$._rpc$,i=this.datasource;i&&this.down("[name=opt_dbtype]").setValue("db"),t.init(this,{ack:"userdb",payload:{address:"/Connections",option:"list"},mbody:{}},this,(function(t){var l,s=t.children,n=this.down("[name=dsource]"),d=[];if(s&&s.length)for(l=0;l<s.length;l++)(1==this.sel_mode||s[l].attributes&&"T"==s[l].attributes.attrb1)&&(i&&i.uid==s[l].uid&&(e=s[l]),d.push(s[l]));if(n.store.loadData(d),e){var o=n.store._pull[e.id];o&&n.getSelectionModel().select(o,!0)}}),!1),t.send()},_confirm:function(e){var t=this,i=t.down("[name=dsource]"),l=t.down("[name=opt_dbtype]").getValue().cb_dbtype,s=e?null:i.getSelectionModel().selected;"db"==l||1==t.sel_mode?e?(t.callback&&t.callback.execute(e),t.close()):s&&s.length?(t.callback&&t.callback.execute(s.items[0]),t.close()):IG$.ShowError(IRm$.r1("E_SEL_DC"),t):(t.callback&&t.callback.execute(),t.close())},initComponent:function(){$s.apply(this,{title:IRm$.r1("T_SEL_DB"),items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_STORAGE_OPTIONS"),hidden:1==this.sel_mode,layout:{type:"vbox",align:"stretch"},items:[{xtype:"radiogroup",name:"opt_dbtype",fieldLabel:IRm$.r1("L_DATA_STORAGE"),padding:"0 5",plain:!0,items:[{boxLabel:IRm$.r1("L_USE_TEMP"),name:"cb_dbtype",inputValue:"h2",checked:!0},{boxLabel:IRm$.r1("L_USE_STG"),name:"cb_dbtype",inputValue:"db"}],listeners:{change:function(e,t,i){this.down("[name=mview]").setDisabled(!t||!t.cb_dbtype||"db"!=t.cb_dbtype)},scope:this}}]},{xtype:"fieldset",name:"mview",title:IRm$.r1("L_STAGING_DB"),flex:1,layout:{type:"vbox",align:"stretch"},paddingY:10,disabled:1!=this.sel_mode,items:[{xtype:"gridpanel",name:"dsource",flex:1,selType:"checkboxmodel",selModel:{mode:"SINGLE",checkSelector:".x-grid-cell"},store:{fields:[]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link"},{text:IRm$.r1("B_DESC"),dataIndex:"description"}],listeners:{cellclick:function(e,t,i,l,s,n){var d=this.down("[name=opt_dbtype]").getValue();1!=this.sel_mode&&1==i&&(d&&"db"==d.cb_dbtype?this._confirm(l):IG$.ShowError(IRm$.r1("E_CHECK_DTYPE"),this))},scope:this}}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlg_select_ds.superclass.initComponent.call(this)}}));
IG$.mgrUserDuty=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:500,autoHeight:!0,bodyPadding:10,bodyStyle:{background:"#ffffff"},_confirm:function(){if(this.callback){var e,t=this.down("[name=gridduty_sel]"),s=[];for(e=0;e<t.store.data.length;e++)s.push(t.store.data.items[e]);this.callback.execute(s)}this.close()},loadDutyList:function(){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/Auth"},mbody:{option:"select"}},this,this.rs_loadDutyList,!1),e.send()},rs_loadDutyList:function(e){var t,s,i=[],o=[],d=this.down("[name=gridduty]"),l=this.down("[name=gridduty_sel]"),a={};if(this.sel)for(t=0;t<this.sel.length;t++)a[this.sel[t].sid]=this.sel[t];if(e)for(t=0;t<e.length;t++)a[(s=e[t]).sid]?o.push(s):i.push(s);d.store.loadData(i),l.store.loadData(o)},moveDuty:function(e){var t,s=this.down("[name=gridduty"+(0==e?"_sel":"")+"]"),i=this.down("[name=gridduty"+(1==e?"_sel":"")+"]"),o=s.getSelectionModel().getSelection();if(o.length>0)for(t=0;t<o.length;t++)s.store.remove(o[t]),i.store.add(o[t])},initComponent:function(){this.title=IRm$.r1("L_MGR_UD");var e=[{xtype:"form",layout:"anchor",defaults:{anchor:"100%"},border:0,bodyPadding:5,items:[{xtype:"displayfield",value:IRm$.r1("L_UD_DESC")},{xtype:"panel",border:0,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"gridduty",border:1,flex:1,height:300,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},multiSelect:!0,store:{fields:["name","dutytype","sid","status","type"]},columns:[{header:IRm$.r1("B_NAME"),dataIndex:"name",flex:1,sortable:!0,hideable:!1},{header:IRm$.r1("B_TYPE"),dataIndex:"type",flex:1,sortable:!0,hideable:!1}]},{xtype:"container",bodyPadding:"0 4 0 4",border:0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:">>",handler:function(){this.moveDuty(!0)},scope:this},{xtype:"button",text:"<<",handler:function(){this.moveDuty(!1)},scope:this},{xtype:"container",flex:1}]},{xtype:"gridpanel",name:"gridduty_sel",flex:1,border:1,height:300,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},multiSelect:!0,store:{fields:["name","dutytype","sid","status","type"]},columns:[{header:IRm$.r1("B_NAME"),dataIndex:"name",flex:1,sortable:!0,hideable:!1},{header:IRm$.r1("B_TYPE"),dataIndex:"type",flex:1,sortable:!0,hideable:!1}]}]}]}],t=[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}];$s.apply(this,{items:e,buttons:t}),IG$.mgrUserDuty.superclass.initComponent.apply(this,arguments)},listeners:{afterrender:function(e){this.loadDutyList()}}});
IG$.groupPrivSetting=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:400,autoHeight:!0,plain:!0,bodyPadding:10,bodyStyle:{background:"#ffffff"},_confirm:function(){this.callback&&this.callback.execute(),this.close()},loadPrivilege:function(e){var t=new IG$._rpc$;t.init(this,{ack:"usercontent",payload:{address:"/usergroup",gid:e,action:"privilege"},mbody:{option:"standard"}},this,this.rs_loadPrivilege,!1),t.send()},rs_loadPrivilege:function(e){},setGroupActive:function(e){var t,a=this,i=new IG$._rpc$;a.groupname;t={gid:a.gid},i.init(a,{ack:"usercontent",payload:{address:"/usergroup",action:e},mbody:t},a,a.rs_setGroupActive,!1,[e]),i.send()},rs_setGroupActive:function(e,t){var a=this,i=t[0],n=a.ugroup,s=a.down("[name=btn_erase]");switch(i){case"activate":n.set("status","Active"),n.set("active","1"),s.setVisible(!1);break;case"delete":n.set("status","Blocked"),n.set("active","0"),s.setVisible(!0);break;case"erase":n.parentNode.removeChild(n),a.callback&&a.callback.execute(),a.close()}},initComponent:function(){var e=this;$s.apply(e,{title:IRm$.r1("L_GROUP_PRIV_SETTINGS"),items:[{xtype:"form",layout:"anchor",defaults:{anchor:"100%"},border:0,items:[{xtype:"displayfield",value:"Check to allow each priviege."},{xtype:"textfield",readOnly:!0,fieldLabel:IRm$.r1("L_GROUP_NAME"),name:"groupname"},{xtype:"fieldset",title:IRm$.r1("L_ENABLE_DISABLE"),name:"p_activate",hidden:!1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"button",iconCls:"icon-toolbar-activate",flex:1,text:IRm$.r1("B_ACTIVATE"),handler:function(){this.setGroupActive("activate")},scope:e},{xtype:"container",width:10},{xtype:"button",iconCls:"icon-toolbar-deprivation",flex:1,text:IRm$.r1("B_DEPRIVATE"),handler:function(){this.setGroupActive("delete")},scope:e}]}]}],buttons:[{text:IRm$.r1("L_ERASE_GROUP"),name:"btn_erase",hidden:"1"==e.ugroup.get("active"),handler:function(){this.setGroupActive("erase")},scope:e},"->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:e},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:e}],listeners:{afterrender:function(e){var t=this;t.gid&&(t.loadPrivilege(t.gid),t.down("[name=groupname]").setValue(t.groupname||""))}}}),IG$.groupPrivSetting.superclass.initComponent.apply(e,arguments)}}),IG$.TenantSetting=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:400,autoHeight:!0,plain:!0,bodyPadding:10,bodyStyle:{background:"#ffffff"},_confirm:function(){this.close()},setTenantActive:function(e){var t=this,a=new IG$._rpc$,i={},n=(t.down("[name=tenantname]"),t.gid,t.mts);("rename"==e?t.getAllValues(i):0)||(i.mts=n.get("uid"),a.init(t,{ack:"usercontent",payload:{address:"/tenants/"+n.get("name"),action:e},mbody:i},t,(function(a,s){if("rename"==e)for(var o in i)n.set(o,i[o]);t.rs_setTenantActive(a,s)}),!1,[e]),a.send())},rs_setTenantActive:function(e,t){var a=t[0],i=this.mts,n=this.down("[name=btn_erase]");switch(a){case"activate":i.set("pstatname","Active"),i.set("pstatus","1"),n.setVisible(!1);break;case"delete":i.set("pstatname","Blocked"),i.set("pstatus","0"),n.setVisible(!0);break;case"erase":i.remove(),this.close();break;case"rename":this.close()}},loadTemplates:function(){var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{},mbody:{option:"timezone"}},this,(function(e){var t,a,i,n=this,s=[],o=[],l=n.down("[name=a1]"),r=n.down("[name=a2]");if(s.push({name:IRm$.r1("B_SELECT"),value:""}),e.app_tmpl)for(a=0;a<e.app_tmpl.length;a++)i=e.app_tmpl[a],s.push(i);if(l.store.loadData(s),o.push({name:IRm$.r1("B_SELECT"),value:""}),e.themes)for(t=e.themes,a=0;a<t.length;a++)(i=t[a]).name=i.value,o.push(i);r.store.loadData(o),n.mts&&n.setAllValues(n.mts.data)})),e.send()},initComponent:function(){var e=this;$s.apply(e,{title:IRm$.r1("L_TENANT_SETTINGS"),items:[{xtype:"form",layout:"anchor",defaults:{anchor:"100%"},border:0,padding:5,items:[{xtype:"fieldset",title:IRm$.r1("L_GENERAL_INFO"),layout:"anchor",items:[{xtype:"textfield",readOnly:e.mts&&"A"==e.mts.get("pstatus"),fieldLabel:IRm$.r1("B_NAME"),required:!0,name:"name",mapname:"name"},{xtype:"textfield",fieldLabel:IRm$.r1("L_TENANT_NAME"),name:"tenantname",required:!0},{xtype:"textfield",fieldLabel:IRm$.r1("L_LOGO_IMAGE"),name:"logoimage"}]},{xtype:"fieldset",title:IRm$.r1("B_OPTIONS"),layout:"anchor",items:[{xtype:"combobox",fieldLabel:IRm$.r1("B_TEMPLATES"),name:"a1",editable:!1,queryMode:"local",valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"]}},{xtype:"combobox",fieldLabel:IRm$.r1("L_THEMS"),name:"a2",editable:!1,queryMode:"local",valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"]}}]},{xtype:"fieldset",title:IRm$.r1("L_LICENSE_INFO"),layout:"anchor",items:[{xtype:"textfield",name:"turl",labelPosition:"top",fieldLabel:IRm$.r1("B_URL"),readOnly:!0},{xtype:"numberfield",name:"userlimit",fieldLabel:IRm$.r1("L_ALLOWED_USERS"),value:5},{xtype:"textfield",name:"reg_date",fieldLabel:IRm$.r1("L_REG_DATE"),editable:!1},{xtype:"datefield",fieldLabel:IRm$.r1("L_EXPIRE_ON"),name:"expire_date",required:!0}]},{xtype:"container",height:10}]}],buttons:[{xtype:"button",iconCls:"icon-toolbar-activate",flex:1,tooltip:IRm$.r1("L_ACTIVATE"),hidden:e.mts&&"A"==e.mts.get("pstatus"),handler:function(){this.setTenantActive("activate")},scope:e},{xtype:"button",iconCls:"icon-toolbar-deprivation",flex:1,tooltip:IRm$.r1("L_DEPRIVATE"),hidden:e.mts&&"A"==e.mts.get("pstatus"),handler:function(){this.setTenantActive("delete")},scope:e},{text:IRm$.r1("L_ERASE_TENANT"),name:"btn_erase",hidden:"1"==e.mts.get("pstatus")||"A"==e.mts.get("pstatus"),handler:function(){this.setTenantActive("erase")},scope:e},"->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this.setTenantActive("rename")},scope:e},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:e}],listeners:{afterrender:function(e){var t=this;if(t.mts){var a=t.down("[name=turl]"),i=t.mts.get("name");t.setAllValues(t.mts.data),i=(i=i.split(" ")).join("%20"),a.setValue("http://hostname.com/amplix/?lang=en_US&mts="+i),t.loadTemplates()}}}}),IG$.TenantSetting.superclass.initComponent.apply(e,arguments)}});
IG$.mgrUserEditor=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:580,height:550,plain:!0,bodyPadding:10,initapp:function(){this.down("[name=gid]").store.loadData(this.groupinfo),this.buildCustomForm(),this.updateUserDetail(),this.loadTemplates(),this.loadAuthModule()},buildCustomForm:function(){var e,t,a,n=this.down("[name=c_area]"),s=IG$.uform;for(e=0;e<s.length;e++)a={xtype:(t=s[e]).type,fieldLabel:t.displayname,name:t.fieldname},n.add(a)},updateUserDetail:function(){var e,t,a,n=this,s=me.instance,i=n.userinfo,d=s.dlgLogin.logininfo,o=n.down("[name=userid]"),l=n.down("[name=username]"),r=n.down("[name=email]"),u=n.down("[name=password]"),m=n.down("[name=password_plain]"),p=n.down("[name=gid]"),c=n.down("[name=pupdatedate]"),h=IRm$.r1("L_LAST_UPD"),f=n.down("[name=duties]"),_=i&&i.auth?i.auth:[],y=n.down("[name=btnaddduty]"),g=n.down("[name=fieldstatus]");if(y.setVisible(!i||d.userid!=i.id),o.setReadOnly(!!i),o.setValue(i&&i.id||""),l.setValue(i&&i.name||""),u.setValue(i?"":IG$.generateUniqueTest(10)),m.setValue(u.getValue()),r.setValue(i&&i.email||""),p.setValue(i?i.gid||"":n.currentGroup||""),g.setVisible(!!i),h=i&&i.updatedate?h+i.updatedatefm:h,c.setValue(h),f.store.loadData(_),IG$.uform)for(e=0;e<IG$.uform.length;e++)a=IG$.uform[e],(t=n.down("[name="+a.fieldname+"]"))&&t.setValue(i&&i.additional_info?i.additional_info[a.fieldname]:"")},confirmChanges:function(e){var t,a,n,s,i,d,o,l,r,u=this,m=u.instance,p=this,c=m.dlgLogin.logininfo,h=p.down("[name=userid]"),f=p.down("[name=username]"),_=p.down("[name=email]"),y=p.down("[name=password]"),g=p.down("[name=password_plain]"),I=p.down("[name=gid]"),b=p.down("[name=duties]"),w=u._password_mode?g.getValue():y.getValue(),x=!1,v=u.userinfo;if("confirm"==e){if(!m.rsaPublicKeyModules)return(R=new IG$._rpc$).init(u,{ack:"security",payload:{},mbody:{}},u,(function(e){var t=e?e.p1:null,a=e?e.p2:null;t&&a&&(m.rsaPublicKeyModules=t,m.rsaPublicKeyExpoenent=a,m.rsa_kinfo=e.p3,this.confirmChanges("confirm"))}),null),void R.send();if(t="usercontent",a={address:"/user/"+h.getValue(),updatemode:"change"},n={},$.each([h,f,I],(function(e,t){t.clearInvalid(),t.getValue()||(t.markInvalid("Required"),x=!0)})),x)return;if(w&&(w=IG$.encryptKey(m,[w])[0],a.keyvar=IG$.rsa_kinfo),n={sid:v?v.sid:null,wid:v?v.wid:null,id:h.getValue(),name:f.getValue(),password:w,email:_.getValue(),gid:I.getValue(),a1:u.down("[name=a1]").getValue(),ssomod:u.down("[name=ssomod]").getValue(),additional_info:{}},IG$.uform)for(i=0;i<IG$.uform.length;i++)if(d=(l=IG$.uform[i]).fieldname,o=u.down("[name="+d+"]")){if(!l.optional&&(o.clearInvalid(),!o.getValue()))return void o.markInvalid("Required");n.additional_info[d]=o.getValue()}for(n.duties=[],i=0;i<b.store.data.items.length;i++)s=b.store.data.items[i],n.duties.push({dutytype:s.get("dutytype"),name:s.get("name"),sid:s.get("sid"),status:s.get("status")});r="user"}else{if("delete"!=e)return;if(h.getValue()==c.userid)return void IG$.ShowError(IRm$.r1("E_REMOVE_SELF"),p);t="usercontent",a={address:"/user/"+h.getValue(),updatemode:"delete"},n={sid:u.userinfo?u.userinfo.sid:""},r="user"}var R;(R=new IG$._rpc$).init(this,{ack:t,payload:a,mbody:n,meta_type:r},this,this.rs_confirmChanges,null),R.send()},rs_confirmChanges:function(e){this.callback&&this.callback.execute(),IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success"),this.close()},setUserActive:function(e,t){var a,n=new IG$._rpc$;"activate"==t||"admin"!=e.name?(a={option:"changestatus",status:t,uid:e.sid},n.init(this,{ack:"usercontent",payload:{address:"/user/"+e.name},mbody:a},this,this.rs_setUserActive,!1,t),n.send()):IG$.alertmsg(ig$.appname,IRm$.r1("M_NA"),null,null,0,"error")},rs_setUserActive:function(e,t){this.drow&&this.drow.set("status","1"==t?"Active":"Blocked"),IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")},toolbarHandler:function(e){var t,a=this,n=a.userinfo;switch(e){case"cmd_activate_user":n&&a.setUserActive(n,"1");break;case"cmd_deprivate_user":n&&a.setUserActive(n,"2");break;case"cmd_add_duty":var s,i,d=[],o=a.down("[name=duties]").store.data.items;for(i=0;i<o.length;i++)s=o[i],d.push({dutytype:s.get("dutytype"),name:s.get("name"),sid:s.get("sid"),type:s.get("type"),status:s.get("status")});t=new IG$.mgrUserDuty({instance:a.instance,sel:d,callback:new IG$.callBackObj(a,a.rs_addDuty)}),IG$.checkLogin(a,t)}},rs_addDuty:function(e){var t,a,n=this.down("[name=duties]"),s=[];for(a=0;a<e.length;a++)t=e[a],s.push({dutytype:t.get("dutytype"),name:t.get("name"),sid:t.get("sid"),type:t.get("type"),status:t.get("status")});n.store.loadData(s)},loadTemplates:function(){var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{},mbody:{option:"timezone"}},this,(function(e){var t,a,n,s=[],i=this.down("[name=a1]"),d=this.userinfo;for(t=e.app_tmpl,s.push({name:IRm$.r1("B_SELECT"),value:""}),a=0;a<t.length;a++)(n=t[a]).name=n.value,s.push(n);i.store.loadData(s),i.setValue(d&&d.a1||"")})),e.send()},loadAuthModule:function(){var e=this,t=new IG$._rpc$,a=e.down("[name=ssomod]"),n=e.userinfo?e.userinfo:null;if(IG$._ssomod){var s,i=IG$._ssomod,d=[{name:"Select Module",value:""}];for(s in i)d.push({name:s,value:s}),a.store.loadData(d),a.setValue(n&&n.ssomod||"")}else t.init(e,{ack:"usercontent",payload:{address:"/Features"},mbody:{option:"auth_module"}},e,(function(t){var s,i=t?t.authorization:{},d=[{name:"Select Module",value:""}];e.down("[name=dmodule]");for(s in i)d.push({name:s,value:s});IG$._ssomod=i,a.store.loadData(d),a.setValue(n&&n.ssomod||"")})),t.send()},initComponent:function(){this.title=IRm$.r1("T_REG_USER"),$s.apply(this,{items:[{xtype:"panel",layout:"anchor",bodyPadding:4,autoScroll:!0,defaults:{anchor:"100%"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_USERID"),name:"userid"},{xtype:"textfield",fieldLabel:IRm$.r1("L_USERNAME"),name:"username"},{xtype:"textfield",fieldLabel:IRm$.r1("L_EMAIL"),name:"email"},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_INPUT_PASSWORD"),layout:"hbox",items:[{xtype:"textfield",name:"password",readOnly:!1,inputType:"password",flex:1},{xtype:"textfield",name:"password_plain",hidden:!0,readOnly:!1,flex:1},{xtype:"button",name:"pgetpwd",text:IRm$.r1("B_GENERATE"),handler:function(){var e=this.down("[name=password]"),t=this.down("[name=password_plain]"),a=IG$.generateUniqueTest(10);e.setValue(a),t.setValue(a)},scope:this},{xtype:"button",name:"btn_pwd",text:IRm$.r1("B_SHOW"),handler:function(){var e=this,t=e.down("[name=btn_pwd]"),a=e.down("[name=password]"),n=e.down("[name=password_plain]");e._password_mode=e._password_mode||0,0==e._password_mode?(e._password_mode=1,n.setValue(a.getValue())):(e._password_mode=0,a.setValue(n.getValue())),t.setText(1==e._password_mode?IRm$.r1("B_HIDE"):IRm$.r1("B_SHOW")),a.setVisible(0==e._password_mode),n.setVisible(1==e._password_mode)},scope:this}]},{xtype:"combobox",fieldLabel:IRm$.r1("L_GROUP_NAME"),labelField:"name",valueField:"gid",name:"gid",queryMode:"local",displayField:"name",valueField:"gid",editable:!1,autoSelect:!0,store:{fields:["name","gid"]}},{xtype:"container",name:"c_area",layout:{type:"vbox",align:"stretch"}},{xtype:"combobox",name:"a1",fieldLabel:IRm$.r1("L_APPL_TMPL"),queryMode:"local",hidden:ig$.$l_>5,editable:!1,valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"]}},{xtype:"displayfield",value:IRm$.r1("L_LAST_UPD"),name:"pupdatedate"},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_USER_DUTY"),layout:"hbox",items:[{xtype:"gridpanel",fieldLabel:IRm$.r1("L_USER_DUTY"),flex:1,height:160,hideLabel:!0,name:"duties",store:{xtype:"store",fields:["dutytype","name","sid","status"]},columns:[{header:IRm$.r1("B_NAME"),flex:1,sortable:!1,hideable:!1,dataIndex:"name"}]},{xtype:"button",iconCls:"icon-toolbar-add",tooltip:"Add Duty",name:"btnaddduty",hidden:!0,handler:function(){this.toolbarHandler("cmd_add_duty")},scope:this}]},{xtype:"fieldset",title:IRm$.r1("L_SSO"),hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"combobox",name:"ssomod",fieldLabel:IRm$.r1("L_SSO_MODULE"),displayField:"name",valueField:"value",store:{fields:["name","value"]},readOnly:!1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("B_STATUS"),name:"fieldstatus",hidden:!0,layout:"hbox",items:[{xtype:"button",text:IRm$.r1("L_ACTIVATE"),name:"btnactuser",handler:function(){this.toolbarHandler("cmd_activate_user")},scope:this},{xtype:"button",text:IRm$.r1("L_DEPRIVATE"),name:"btndeprivuser",handler:function(){this.toolbarHandler("cmd_deprivate_user")},scope:this}]}]}],buttons:[{xtype:"button",text:IRm$.r1("L_E_DEL"),handler:function(){this.confirmChanges("delete")},scope:this},"->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this.confirmChanges("confirm")},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this.initapp()}}}),IG$.mgrUserEditor.superclass.initComponent.call(this)}}),IG$.dlgSelUsers=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:480,height:550,plain:!0,bodyPadding:10,initapp:function(){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/user"},mbody:{option:"get"}},this,(function(e){var t,a=e||[],n=this.cusers,s={};if(n){for(t=0;t<n.length;t++)s[n[t].get("sid")]=1;for(t=0;t<a.length;t++)a[t].selected=!!s[a[t].sid]}this.down("[name=grdusers]").store.loadData(a)})),e.send()},initComponent:function(){this.title=IRm$.r1("T_USERS"),$s.apply(this,{items:[{xtype:"panel",layout:"anchor",bodyPadding:4,autoScroll:!0,defaults:{anchor:"100%"},items:[{xtype:"gridpanel",name:"grdusers",store:{fields:[]},selType:"checkboxmodel",selModel:{mode:"MULTI"},columns:[{text:IRm$.r1("B_ID"),flex:1,dataIndex:"id"},{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"},{text:IRm$.r1("B_EMAIL"),flex:1,dataIndex:"email"},{text:IRm$.r1("L_GROUP_NAME"),flex:1,dataIndex:"groupname"},{text:IRm$.r1("B_ACTIVE"),width:40,dataIndex:"active"}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){var e=this,t=e.down("[name=grdusers]").getSelectionModel().selected;e.callback&&e.callback.execute(e,t),e.close()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this.initapp()}}}),IG$.dlgSelUsers.superclass.initComponent.call(this)}});
IG$.mgrUser=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,layout:"border",userinfo:null,groupinfo:null,iconCls:"icon-group",currentGroup:null,init_f:function(){this.loadCustForm()},loadCustForm:function(){var t=this.instance,e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/userform"},mbody:{option:"standard"}},this,(function(e){var i,n,s=t.dlgLogin.logininfo,r=[];if(e&&e.length)for(i=0;i<e.length;i++)"textinput"==(n=e[i]).type&&(n.type="textfield"),r.push(n);IG$.uform=r,1==s.hasDutyUID(IG$.dutymap[1],"A")&&ig$.$l_<5&&this.down("[name=v_tenant]").show(),this.loadMTS(),this.getDuties(),this.loadUsrGrp("",null)}),!1),e.send()},loadMTS:function(){var t=new IG$._rpc$;t.init(this,{ack:"usercontent",payload:{address:"/tenants",action:"get"},mbody:{option:"select"}},this,(function(t){var e,i,n=[];if(t)for(e=0;e<t.length;e++){switch((i=t[e]).status){case"A":i.pstatname="App";break;case"1":i.pstatname="Active";break;default:i.pstatname="Disabled"}n.push(i)}this.down("[name=mtsgrd]").store.loadData(n)}),!1),t.send()},getDuties:function(){var t=new IG$._rpc$;t.init(this,{ack:"usercontent",payload:{address:"/Auth"},mbody:{option:"select"}},this,(function(t){var e,i,n=[],s=this.down("[name=gridduty]");if(t)for(e=0;e<t.length;e++)(i=t[e]).active=1==i.status?"Active":"Disabled",n.push(i);s.store.loadData(n)}),!1),t.send()},createDuty:function(){var t=new IG$.makeItem({instance:this.instance,itemtype:"Auth",callback:new IG$.callBackObj(this,this.rs_createDuty)});IG$.showDlg(this,t)},rs_createDuty:function(t){this.getDuties()},createMTS:function(){var t=new IG$.makeItem({instance:this.instance,itemtype:"tenant",callback:new IG$.callBackObj(this,(function(t){this.loadMTS()}))});IG$.showDlg(this,t)},getDutyUsrs:function(t){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/user"},mbody:{option:"get",sid:t}},this,this.rs_getUsrs,null,!0),e.send()},loadUsrGrp:function(t,e){var i=this.instance,n=new IG$._rpc$,s=i.dlgLogin.logininfo;0==s.hasDutyUID(IG$.dutymap[1],"A")&&1==s.hasDutyUID(IG$.dutymap[3],"A")&&(t=auth.gid),this.groupinfo=[],n.init(this,{ack:"usercontent",payload:{address:"/usergroup",action:"get",pid:t},mbody:{option:"standard"}},this,this.rs_loadUsrGrp,null,[t,e]),n.send()},rs_loadUsrGrp:function(t,e){e[0],e[1];var i,n,s=this.down("[name=grouptree]");if(t){for(i={name:"Groups",expanded:!0,children:[]},n=0;n<t.length;n++)i.children.push(this.parseUsrGrp(t[n],null,0));s.store.setRootNode(i),s.store.getRootNode().expand()}},parseUsrGrp:function(t,e,i){var n,s,r={};for($s.defaults(r,{gid:t.gid,name:t.name,updatedate:t.updatedate,description:t.description,groupid:t.groupid,active:t.active,loadData:!1}),s=0;s<i;s++)r.name=t.name,r.depth=i;switch(this.groupinfo.push(t),t.active){case 1:r.status="Active";break;case 2:r.status="Blocked";break;default:r.status="Error"}if(e&&(e.expanded=!0,e.children=e.children||[],e.children.push(r)),t.subgroups)for(n=0;n<t.subgroups.length;n++)this.parseUsrGrp(t.subgroups[n],r,i+1);return r},getUsrs:function(t){var e=new IG$._rpc$;e.init(this,{ack:"usercontent",payload:{address:"/user"},mbody:{option:"get",gid:t}},this,this.rs_getUsrs,null),e.send()},rs_getUsrs:function(t,e){var i,n,s=[],r=this.down("[name=usergrid]");if(t)for(i=0;i<t.length;i++){switch((n=t[i]).active){case 1:n.status="Active",n.change="Block user";break;case 3:n.status="Email Valid",n.change="Activate user";break;case 4:n.status="Email Process",n.change="Deprivate";break;default:n.status="Blocked",n.change="Activate"}s.push(n)}r.store.loadData(s)},getUsrDtl:function(t,e){var i=new IG$._rpc$;i.init(this,{ack:"usercontent",payload:{address:"/user"},mbody:{option:"detail",uid:t}},this,(function(t,e){var i=this;if(t){var n,s=t;if(s.auth=[],t.duties)for(n=0;n<t.duties.length;n++)s.auth.push(t.duties[n]);i=this;var r=new IG$.mgrUserEditor({instance:i.instance,groupinfo:i.groupinfo,userinfo:s,drow:e,currentGroup:i.currentGroup,callback:new IG$.callBackObj(i,i.rs_modifyUsr)});IG$.checkLogin(i,r)}}),null,e),i.send()},getSelection:function(){var t=this.down("[name=grouptree]").getSelectionModel();return t&&t.selected&&t.selected.items&&t.selected.items.length>0?t.selected.items[0]:null},toolbarHandler:function(t){var e,i,n=this;switch(t){case"cmd_add_group":(e=n.getSelection())?(i=new IG$.makeItem({instance:n.instance,itemtype:"Group",parentuid:e.get("gid"),parentnodepath:"",callback:new IG$.callBackObj(n,n.rs_addGrp,e)}),IG$.showDlg(n,i)):IG$.ShowError(IRm$.r1("M_SEL_ITEM"),this);break;case"cmd_edit_group":(e=n.getSelection())?e.isRoot()?IG$.ShowError(IRm$.r1("M_NOT_EDITABLE"),this):(i=new IG$.makeItemEditor({instance:n.instance,uid:e.get("gid"),itemname:e.get("name"),itemtype:"Group",groupid:e.get("groupid"),group_active:e.get("active"),callback:new IG$.callBackObj(n,n.rs_addGrp,e)}),IG$.showDlg(n,i)):IG$.ShowError(IRm$.r1("M_SEL_ITEM"),this);break;case"cmd_add_user":e=n.getSelection(),i=new IG$.mgrUserEditor({instance:n.instance,groupinfo:n.groupinfo,userinfo:null,currentGroup:n.currentGroup,callback:new IG$.callBackObj(n,n.rs_modifyUsr)}),IG$.checkLogin(n,i);break;case"cmd_add_existing_user":var s=n.down("[name=gridduty]").$selected_cell,r=n.down("[name=usergrid]");if(!s)return void IG$.ShowError(IRm$.r1("M_SEL_ITEM"),n);IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM"),(function(t){"yes"==t&&(i=new IG$.dlgSelUsers({instance:n.instance,groupinfo:n.groupinfo,cusers:r.store.data.items,callback:new IG$.callBackObj(n,(function(t,e){var i,n=this,r=new IG$._rpc$,a=[];for(i=0;i<e.length;i++)a.push({sid:e.items[i].get("sid")});r.init(n,{ack:"usercontent",payload:{address:"/batch_users",mode:"role",target_id:s.get("sid")},mbody:a,meta_type:"list"},n,(function(t){n.getDutyUsrs(s.get("sid"))})),r.send()}))}),IG$.checkLogin(n,i))}));break;case"cmd_sync_user":IG$.procMenuCommand(n.instance,"CMD_SYNC_USER");break;case"cmd_new_duty":this.createDuty();break;case"cmd_add_mts":this.createMTS();break;case"cmd_edit_mts":var a=this.down("[name=mtsgrd]").getSelectionModel().selected;a&&a.length>0?(i=new IG$.TenantSetting({instance:n.instance,mts:a.items[0],callback:new IG$.callBackObj(n,(function(){this.loadMTS()}))}),IG$.checkLogin(this,i)):IG$.ShowError(IRm$.r1("M_SEL_ITEM"),this);break;case"cmd_remove_duty":n._remove_duty()}},_remove_duty:function(){var t,e=this.down("[name=gridduty]").getSelectionModel().selected;if(e&&e.length>0){t=e.items[0];var i=new IG$._rpc$;i.init(this,{ack:"usercontent",payload:{address:"/Auth/"+t.get("name"),sid:t.get("sid"),action:"delete"},mbody:{option:"delete",name:t.get("name"),sid:t.get("sid")},meta_type:this.meta_type||null},this,(function(){IG$.alertmsg(ig$.appname,"Successfully completed!",null,null,0,"success"),this.loadUsrGrp("",null)})),i.send()}},rs_modifyUsr:function(){this.currentGroup&&this.getUsrs(this.currentGroup)},rs_addGrp:function(t,e){this.loadUsrGrp("",null)},setViewMode:function(t){var e,i=this.down("[name=mpanel]");for(e=0;e<i.items.items.length;e++)e!=t&&i.items.items[e].hide();this.down("[name=btn_exist_user]").setVisible(1==t),i.items.items[t].show()},_exp_meta:function(){var t=new IG$.metaExpDlg({instance:me.instance,dmode:"security",meta:{uid:"/security"}});IG$.checkLogin(this,t)},initComponent:function(){ig$.$l_=ig$.$l_||0,$s.apply(this,{items:[{xtype:"panel",name:"mpanel",border:1,layout:{type:"fit",align:"stretch"},region:"west",split:!0,width:400,collapsible:!1,hideHeaders:!0,tbar:[{text:IRm$.r1("B_USER"),toggle:!0,handler:function(){this.setViewMode(0)},scope:this},{text:IRm$.r1("B_ROLE"),toggle:!0,handler:function(){this.setViewMode(1)},scope:this},{text:IRm$.r1("B_TENANT"),name:"v_tenant",hidden:!0,toggle:!0,handler:function(){this.setViewMode(2)},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),hidden:ig$.$l_>5,handler:function(){this._exp_meta()},scope:this}],items:[{xtype:"treepanel",border:0,name:"grouptree",layout:"fit",title:IRm$.r1("T_USER_GROUP"),rootVisible:!0,store:{xtype:"store",fields:["name","active","description","gid","updatedate","loadData","status","groupid"],data:[]},columns:[{xtype:"treecolumn",text:IRm$.r1("B_NAME"),flex:1,sortable:!1,dataIndex:"name"},{text:IRm$.r1("B_DESC"),width:100,sortable:!1,dataIndex:"description"},{text:IRm$.r1("L_GROUPID"),width:80,sortable:!1,dataIndex:"groupid"},{text:IRm$.r1("B_STATUS"),width:60,sortable:!1,dataIndex:"status"}],dockedItems:[{xtype:"toolbar",dock:"top",items:[{iconCls:"icon-toolbar-add",text:IRm$.r1("L_ADD_GROUP"),tooltip:IRm$.r1("B_ADD"),handler:function(){this.toolbarHandler("cmd_add_group")},scope:this},{iconCls:"icon-toolbar-edit",tooltip:IRm$.r1("L_EDIT"),hidden:ig$.$l_>5,handler:function(){this.toolbarHandler("cmd_edit_group")},scope:this},{iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),handler:function(){this.loadUsrGrp("",null)},scope:this}]}],listeners:{itemclick:function(t,e,i,n,s,r){var a=e.get("gid");this.currentGroup=a,this.getUsrs(a)},beforeitemexpand:function(t,e){0==t.hasChildNodes()&&t.get("loadData")},scope:this}},{xtype:"gridpanel",title:IRm$.r1("T_DUTY_LIST"),name:"gridduty",hideHeaders:!1,layout:"fit",hidden:!1,border:0,store:{xtype:"store",fields:["sid","name","dutytype","status","type","active"]},dockedItems:[{xtype:"toolbar",dock:"top",items:[{iconCls:"icon-toolbar-add",text:IRm$.r1("L_ADD_DUTY"),tooltip:"Add duty",handler:function(){this.toolbarHandler("cmd_new_duty")},scope:this},{iconCls:"icon-toolbar-remove",tooltip:IRm$.r1("B_REMOVE"),name:"btn_r_duty",hidden:!0,handler:function(){this.toolbarHandler("cmd_remove_duty")},scope:this},{iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),handler:function(){this.getDuties()},scope:this},{xtype:"button",text:IRm$.r1("B_SHOW_ALL"),hidden:ig$.$l_>5,menu:{xtype:"menu",items:[{text:IRm$.r1("B_SHOW_ALL"),handler:function(){this.down("[name=gridduty]").store.clearFilter()},scope:this},{text:IRm$.r1("L_PREDEFINED"),handler:function(){this.down("[name=gridduty]").store.filter("dutytype","A")},scope:this},{text:IRm$.r1("L_CUSTOM_DUTY"),handler:function(){this.down("[name=gridduty]").store.filter("dutytype","C")},scope:this},{text:IRm$.r1("L_GROUP_DUTY"),handler:function(){this.down("[name=gridduty]").store.filter("dutytype","G")},scope:this},{text:IRm$.r1("L_USER_DUTY"),handler:function(){this.down("[name=gridduty]").store.filter("dutytype","U")},scope:this}]}}]},{xtype:"toolbar",dock:"top",items:[{xtype:"textfield",flex:1,name:"_filter",enableKeyEvents:!0,emptyText:IRm$.r1("L_SEARCH_KWD"),listeners:{keyup:function(t,e,i){13==e.keyCode&&IG$._dofilter(this,"gridduty",["name"])},scope:this}},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH"),handler:function(){IG$._dofilter(this,"gridduty",["name"])},scope:this}]}],columns:[{text:"",width:25,dataIndex:"dutytype"},{xtype:"gridcolumn",text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{text:IRm$.r1("B_DESC"),width:100,sortable:!1,dataIndex:"description"},{xtype:"gridcolumn",text:IRm$.r1("B_STATUS"),dataIndex:"active",width:50}],listeners:{cellclick:function(t,e,i,n,s,r){if(n.get("sid")){n.get("dutytype");var a=n.get("type"),o=this.down("[name=btn_r_duty]");o.setVisible(!1),"PreDefined"!=a&&o.setVisible(!0),this.getDutyUsrs(n.get("sid"))}},scope:this}},{xtype:"gridpanel",border:0,title:IRm$.r1("T_M_TENANT"),name:"mtsgrd",hidden:!1,hideHeaders:!0,store:{xtype:"store",fields:["name","pstatus","uid","pstatname","a1","a2"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{text:IRm$.r1("B_STATUS"),width:60,dataIndex:"pstatname"}],dockedItems:[{xtype:"toolbar",dock:"top",items:[{iconCls:"icon-toolbar-add",text:IRm$.r1("L_ADD_TENANT"),tooltip:IRm$.r1("B_ADD"),handler:function(){this.toolbarHandler("cmd_add_mts")},scope:this},{iconCls:"icon-toolbar-edit",tooltip:IRm$.r1("L_EDIT"),handler:function(){this.toolbarHandler("cmd_edit_mts")},scope:this}]}]}]},{xtype:"panel",region:"center",layout:"fit",border:1,bodyPadding:2,items:[{xtype:"panel",flex:1,border:!1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",title:IRm$.r1("B_USER"),name:"usergrid",border:0,flex:1,store:{xtype:"store",fields:["name","active","gid","groupname","id","sid","updatedate","status","email"]},columns:[{text:IRm$.r1("B_ID"),flex:1,sortable:!0,hideable:!1,dataIndex:"id",minwidth:120},{text:IRm$.r1("B_NAME"),flex:1,sortable:!0,hideable:!1,dataIndex:"name",minwidth:120},{text:IRm$.r1("L_GROUP_NAME"),flex:1,sortable:!0,hideable:!1,dataIndex:"groupname",minwidth:120},{text:IRm$.r1("L_AUTH"),flex:1,sortable:!0,hideable:!1,dataIndex:"authmodule",minwidth:120,hidden:ig$.$l_>5},{text:IRm$.r1("B_EMAIL"),flex:1,sortable:!0,hideable:!1,dataIndex:"email",minwidth:200},{text:IRm$.r1("B_STATUS"),flex:1,sortable:!0,hideable:!1,dataIndex:"status",minwidth:80}],listeners:{itemclick:function(t,e,i,n,s,r){var a=e.get("sid");this.getUsrDtl(a,e)},scope:this},tbar:[{text:IRm$.r1("L_ADD_USER"),iconCls:"icon-toolbar-add",handler:function(){this.toolbarHandler("cmd_add_user")},scope:this},{text:IRm$.r1("L_ADD_EXISTING_USER"),iconCls:"icon-toolbar-add",name:"btn_exist_user",hidden:!0,handler:function(){this.toolbarHandler("cmd_add_existing_user")},scope:this},{xtype:"button",name:"t_1",text:IRm$.r1("B_SHOW_ALL"),menu:{xtype:"menu",items:[{text:IRm$.r1("B_SHOW_ALL"),handler:function(){this.down("[name=usergrid]").store.clearFilter(),this.down("[name=t_1]").setText(IRm$.r1("B_SHOW_ALL"))},scope:this},{text:IRm$.r1("L_A_USR"),handler:function(){this.down("[name=usergrid]").store.filter("active",1),this.down("[name=t_1]").setText(IRm$.r1("L_A_USR"))},scope:this},{text:IRm$.r1("L_B_USR"),handler:function(){this.down("[name=usergrid]").store.filterBy((function(t,e){return 1!=t.get("active")}),this),this.down("[name=t_1]").setText(IRm$.r1("L_B_USR"))},scope:this}]}},{xtype:"textfield",flex:1,name:"_filter",emptyText:IRm$.r1("L_SEARCH_KWD"),enableKeyEvents:!0,listeners:{keyup:function(t,e,i){13==e.keyCode&&IG$._dofilter(this,"usergrid",["id","name","email"])},scope:this}},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH"),handler:function(){IG$._dofilter(this,"usergrid",["id","name","email"])},scope:this},"->",{xtype:"button",hidden:ig$.$l_>5,text:IRm$.r1("L_SYNC_USER"),handler:function(){this.toolbarHandler("cmd_sync_user")},scope:this}]}]}]}],listeners:{afterrender:function(){this.setViewMode(0),this.init_f()},scope:this}}),IG$.mgrUser.superclass.initComponent.call(this)}});
IG$.mgrSysCfg=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,iconCls:"icon-config",_init:function(){this.down("[name=mform]").getForm().errorReader=new IG$.m2ER,this._load_data()},_load_data:function(){var e=this,t=new IG$._rpc$;e._load_uiconfig(),e._load_deploy(),t.init(e,{ack:"appoption",payload:{address:"sys_config"},mbody:{}},e,(function(t){e._l3(t)}),!1),t.send()},_l3:function(e){var t,a=this,i=a.down("[name=_sso_p]");t=a._mc=e,$.each(["frm_email","frm_email_noti","frm_sch","frm_metadata","frm_python","frm_r","frm_security","frm_mashing","frm_license","frm_assistance"],(function(e,i){a.down("[name="+i+"]").setAllValues(t)})),i.removeAll(),t.sso_modules&&$.each(t.sso_modules,(function(e,t){var i=a._add_sso(t);i.down("[name=sso_name]").setValue(t.name),i.down("[name=sso_desc]").setValue(t.desc),i.down("[name=sso_enabled]").setValue(t.enabled),i.down("[name=sso_authentication_class]").setValue(t.authentication&&t.authentication.options?t.authentication.options.class:""),i.down("[name=sso_authorization_class]").setValue(t.authorization&&t.authorization.options?t.authorization.options.class:"")}))},_load_deploy:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{address:"/SYS_Config/extra_sys_config"},mbody:{}},e,(function(t){e._l2(t)}),!1),t.send()},_l2:function(e){var t,a,i,n=this.down("[name=dpsvr]"),l=[];for(this._extra_sys_config=e,t=this._extra_sys_config.deploy||[],i=0;i<t.length;i++)(a=t[i]).properties=a.properties||{},l.push({name:a.name,server_url:a.properties.server_url,endpoint:a.properties.endpoint});n.store.loadData(l)},_save_deploy:function(e){var t,a,i,n=new IG$._rpc$,l=this._extra_sys_config,s=this.down("[name=dpsvr]");for(l.deploy=[],t=0;t<s.store.data.items.length;t++)(a=s.store.data.items[t]).get("name")&&(i={name:a.get("name"),properties:{server_url:a.get("server_url"),endpoint:a.get("endpoint")}},l.deploy.push(i));if(e)return{address:"/SYS_Config/extra_sys_config",mbody:l};n.init(this,{ack:"writecontent",payload:{address:"/SYS_Config/extra_sys_config"},mbody:l,meta_type:"extra_sys_config"},this,(function(e){}),!1),n.send()},_load_uiconfig:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{address:"/SYS_Config/ui_config"},mbody:{}},e,(function(t){e._l1(t)}),!1),t.send()},_l1:function(e){var t=this;e.config=e.config||{},e.config.arcgis_rest=e.config.arcgis_rest||"MapLayer1,ArcGISDynamicMapServiceLayer,http://sampleserver1.arcgisonline.com/ArcGIS/rest/services/Specialty/ESRI_StatesCitiesRivers_USA/MapServer",e.config.arcgis_css=e.config.arcgis_css||"https://js.arcgis.com/3.33/esri/css/esri.css",e.config.arcgis_js=e.config.arcgis_js||"https://js.arcgis.com/3.33/",e.config.arcgis_version=e.config.arcgis_version||"3.33",e.config.geo_map_center=e.config.geo_map_center||"-118, 34.5",e.config.loading_msg=e.config.loading_msg||ig$.loading_msg,$.each([{id:"arcgis_basemap",fields:["name","url"]},{id:"arcgis_rest",fields:["name","loader","url","option"]},{id:"helper",fields:["name","type","value","issql"]}],(function(a,i){var n=i.id,l=t.down("[name=grd_"+n+"]");if(e.config[n]){var s="helper"!=n?e.config[n].split("\n"):e.config[n],o=[];$.each(s,(function(e,t){if(t){var a,l,s={};if("helper"==n)for(a=t,l=0;l<i.fields.length;l++)s[i.fields[l]]=t[i.fields[l]];else if(a=t.split(","),"arcgis_basemap"==n)s[i.fields[0]]=a[0],a.splice(0,1),s[i.fields[1]]=a.join(",");else for(l=0;l<i.fields.length;l++)s[i.fields[l]]=a[l];o.push(s)}})),l.store.loadData(o)}})),e.config.chart_separator=e.config.chart_separator||IG$._separator,e.config.ec_theme_list=e.config.ec_theme_list||["amplix","dark","DarkBrown","DesertLight","infographic","macarons","roma","shine","vintage"].join(","),t.down("[name=_ui_config]").setAllValues(e.config),t.down("[name=report_screenshot]").setValue(!1!==e.config.report_screenshot)},_save_uiconfig:function(e){var t=this,a=new IG$._rpc$,i={config:{},meta_type:"ui_config"};return t.down("[name=_ui_config]").getAllValues(i.config)?null:($.each([{id:"arcgis_basemap",fields:["name","url"]},{id:"arcgis_rest",fields:["name","loader","url","option"]},{id:"helper",fields:["name","type","value","issql"]}],(function(e,a){var n,l,s=a.id,o=[],r=t.down("[name=grd_"+s+"]").store.data.items;if(r.length)for(l=0;l<r.length;l++){n=r[l];var d,c,m=[];if("helper"==a.id){for(d={},c=0;c<a.fields.length;c++)d[a.fields[c]]=n.get(a.fields[c]);o.push(d)}else{for(c=0;c<a.fields.length;c++)m.push(n.get(a.fields[c])||"");o.push(m.join(","))}}"helper"==a.id?i.config[s]=o:o.length&&(i.config[s]=o.join("\n"))})),$.each(i.config,(function(e,t){""===t&&delete i.config[e]})),e?{address:"/SYS_Config/ui_config",mbody:i}:(a.init(t,{ack:"writecontent",payload:{address:"/SYS_Config/ui_config"},mbody:i,meta_type:"ui_config"},t,(function(e){this._mc=e}),!1),void a.send()))},_update_content:function(){var e=this,t=!0,a=e._mc,i=e.down("[name=_sso_p]");return a||(a=e._mc={}),$.each(["frm_email","frm_email_noti","frm_sch","frm_metadata","frm_python","frm_r","frm_security","frm_mashing","frm_license","frm_assistance"],(function(i,n){if(e.down("[name="+n+"]").getAllValues(a))return t=!1,!1})),a.sso_modules=[],$.each(i._items,(function(e,t){var i={name:t.down("[name=sso_name]").getValue(),desc:t.down("[name=sso_desc]").getValue(),enabled:t.down("[name=sso_enabled]").getValue(),authentication:{options:{class:t.down("[name=sso_authentication_class]").getValue()},parameters:[]},authorization:{options:{class:t.down("[name=sso_authorization_class]").getValue()},parameters:[]}};a.sso_modules.push(i)})),a.meta_type=a.meta_type||"sys_config",t},_test_email:function(){var e=this,t=new IG$._rpc$,a=!0,i=e._mc;if(i||(i=e._mc={}),$.each(["frm_email"],(function(t,n){if(e.down("[name="+n+"]").getAllValues(i))return a=!1,!1})),a){var n=new IG$.dlg_check_email({instance:e.instance,callback:new IG$.callBackObj(e,(function(a,i){t.init(e,{ack:"appoption",payload:{address:"sys_config",option:"check_email",recipients:i},mbody:e._mc,meta_type:"sys_config"},e,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SMTP_TST"),null,null,0,"success")}),!1),t.send()}))});IG$.checkLogin(e,n)}},_save_data:function(){var e=this,t=new IG$._rpc$;e._update_content()&&IG$.confirmMessages(ig$.appname,IRm$.r1("L_SAVE_CHANGES"),(function(a){"yes"==a&&(e._save_uiconfig(),e._save_deploy(),t.init(e,{ack:"appoption",payload:{address:"sys_config",option:"updatecontent"},mbody:e._mc,meta_type:"sys_config"},e,(function(e){this._mc=e}),!1),t.send())}))},_ssocnt:0,_add_sso:function(e){var t,a=this,i="_sso_"+ ++a._ssocnt,n=a.down("[name=_sso_p]"),l={xtype:"fieldset",name:i,title:e.name||"",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"sso_name",fieldLabel:IRm$.r1("L_SHORT_NAME")},{xtype:"checkbox",boxLabel:IRm$.r1("B_ENABLED"),name:"sso_enabled"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"sso_desc",fieldLabel:IRm$.r1("B_DESC")},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"sso_authentication_class",fieldLabel:IRm$.r1("L_AUTHEN_CLASS")},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"sso_authorization_class",fieldLabel:IRm$.r1("L_AUTHOR_CLASS")},{xtype:"container",flex:1}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_DELETE"),handler:function(){var t,i=a._mc.sso_modules,l=a.down("[name="+e._item_name+"]");for(l&&n.remove(l),t=0;t<i.length;t++)if(i[t]==e){i.splice(t,1);break}},scope:this}]}]};return t=n.add(l),e._item_name=i,t},_lic_file:function(e){var t=new IG$._rpc$;t.init(this,{ack:"uploadcontent",payload:{fileuid:e},mbody:{option:"lic_mdt"}},this,(function(e){var t=e.content;this.down("[name=license_data]").setValue(t)})),t.send()},_exp:function(){var e,t,a=this,i={};a._update_content()&&(t=a._save_uiconfig(1))&&(i[t.address]=t.mbody,(t=a._save_deploy(1))&&(i[t.address]=t.mbody,i.sys_config=a._mc,e=new IG$.dlg_syscon({instance:a.instance,meta_content:i,callback:new IG$.callBackObj(a,(function(e){var t;(t=e["/SYS_Config/ui_config"])&&this._l1(t),(t=e["/SYS_Config/extra_sys_config"])&&this._l2(t),(t=e.sys_config)&&this._l3(t)}))}),IG$.showDlg(a,e)))},initComponent:function(){ig$.$l_=ig$.$l_||0,$s.apply(this,{layout:"fit",items:[{xtype:"panel",border:1,layout:{type:"vbox",align:"stretch"},tbar:[{text:IRm$.r1("B_SAVE"),cls:"ig_r_save",handler:function(){this._save_data()},scope:this},{text:IRm$.r1("B_REFRESH"),iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),handler:function(){this._load_data()},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),tooltip:IRm$.r1("L_EXPORT"),handler:function(){this._exp()},scope:this}],items:[{xtype:"tabpanel",layout:"fit",items:[{type:"panel",title:IRm$.r1("L_GENERAL"),layout:{type:"vbox",align:"stretch"},bodyPadding:10,margin:30,autoScroll:!0,items:[{xtype:"fieldset",title:IRm$.r1("L_EMAIL_SETUP"),name:"frm_email",layout:{type:"vbox",align:"stretch"},items:[{xtype:"checkbox",boxLabel:IRm$.r1("B_ENABLED"),name:"email_enabled",fieldLabel:" "},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_SERVER_TYPE"),name:"email_protocol",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"SMTP",value:"SMTP"},{name:"Sendmail",value:"Sendmail"}]}},{xtype:"combobox",fieldLabel:IRm$.r1("L_ENCRYPTION"),name:"email_encryption",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"None",value:""},{name:"STARTTLS",value:"starttls"},{name:"SSL/TLS",value:"ssl/tls"}]}},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_EMAIL_FROM_ADDR"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"email_address",placeholder:"youremail@server.com"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_AUTHEN_METHOD"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"email_auth_type",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"None",value:""},{name:"Login",value:"login"},{name:"Plain",value:"plain"},{name:"NT LAN Manager",value:"nt"}]}},{xtype:"checkbox",boxLabel:"Authentication Required",name:"email_auth"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_SERVER_ADDRESS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"email_server",placeholder:"smtp.server.com"},{xtype:"textfield",name:"email_port",placeholder:"Port number(443)"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_CREDENTIALS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",placeholder:"Userid",name:"email_authuser"},{xtype:"textfield",placeholder:"Password",inputType:"password",name:"email_authpass"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_TEST_EMAIL"),handler:function(){this._test_email()},scope:this}]}]},{xtype:"fieldset",name:"frm_email_noti",title:IRm$.r1("L_EMAIL_NOTI_RCP"),layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_REPORT_HEALTH_CHECK"),name:"email_noti_report_health_check"},{xtype:"textfield",fieldLabel:IRm$.r1("L_SYS_ERROR"),name:"email_noti_system_error"}]},{xtype:"fieldset",title:IRm$.r1("L_GENERAL"),name:"frm_sch",layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_LOG_LEVEL"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,name:"sys_loglevel",store:{xtype:"store",fields:["name","value"],data:[{name:"All",value:"ALL",desc:"The ALL has the lowest possible rank and is intended to turn on all logging."},{name:"Trace",value:"TRACE",desc:"The TRACE Level designates finer-grained informational events than the DEBUG"},{name:"Debug",value:"DEBUG",desc:"The DEBUG Level designates fine-grained informational events that are most useful to debug an application."},{name:"Info",value:"INFO",desc:"The INFO level designates informational messages that highlight the progress of the application at coarse-grained level."},{name:"Warn",value:"WARN",desc:"The WARN level designates potentially harmful situations."},{name:"Error",value:"ERROR",desc:"The ERROR level designates error events that might still allow the application to continue running."},{name:"Off",value:"OFF",desc:"The OFF has the highest possible rank and is intended to turn off logging."}]}},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_SERVER_FULL_RUL"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"server_address",placeholder:"http://"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_SCHEDULE_SERVICE"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,name:"sch_method",store:{xtype:"store",fields:["name","value"],data:[{name:"Embedded Quartz",value:"internal"},{name:"External Agent",value:"external"}]}},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_EXCEL_OUTPUT_TYPE"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,name:"excel_type",store:{xtype:"store",fields:["name","value"],data:[{name:"Excel 2018 (XSLX)",value:"xlsx"},{name:"Excel 2013 (XLS)",value:"xls"}]}},{xtype:"container",flex:1}]}]},{xtype:"fieldset",title:IRm$.r1("L_META_DATA"),name:"frm_metadata",layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"checkbox",fieldLabel:IRm$.r1("L_STORE_METAFILE"),name:"meta_enable_file",boxLabel:IRm$.r1("B_ENABLE")},{xtype:"textfield",placeholder:"meta_files",fieldLabel:IRm$.r1("L_LOCATION"),value:"meta_files"},{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_FILE_NAMERULE"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,name:"meta_name_rule",store:{xtype:"store",fields:["name","value"],data:[{name:"UID",value:"uid"},{name:IRm$.r1("B_NAME"),value:"name"}]}},{xtype:"container",flex:1}]}]},{xtype:"fieldset",title:IRm$.r1("L_PYTHON_INT"),name:"frm_python",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_MODULE_TYPE"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,name:"python_method",store:{xtype:"store",fields:["name","value"],data:[{name:"WebSocket",value:"websocket"},{name:"Static HTML",value:"export"}]}},{xtype:"container",flex:1}]},{xtype:"textfield",fieldLabel:IRm$.r1("L_PYTHON_EXEC"),name:"python_exec"},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_JUPYTER_URL"),name:"python_jupyter",placeholder:"http://localhost:8888/",flex:1},{xtype:"checkbox",name:"python_need_auth",boxLabel:"Need Authentication"}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("B_CREDENTIALS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"python_username",placeholder:"Username"},{xtype:"textfield",name:"python_password",inputType:"password",placeholder:"Password"},{xtype:"container",flex:1}]}]},{xtype:"fieldset",title:IRm$.r1("L_R_INT"),name:"frm_r",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_R_SVR"),name:"r_serve",placeholder:"localhost",flex:1},{xtype:"textfield",fieldLabel:IRm$.r1("L_R_SVR_PORT"),name:"r_serve_port",placeholder:"8787",flex:1},{xtype:"checkbox",name:"r_need_auth",boxLabel:"Need Authentication"}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("B_CREDENTIALS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"r_username",placeholder:"Username"},{xtype:"textfield",name:"r_password",inputType:"password",placeholder:"Password"},{xtype:"container",flex:1}]},{xtype:"textfield",name:"r_tempfolder",fieldLabel:IRm$.r1("L_R_TEMP")}]},{xtype:"fieldset",title:IRm$.r1("L_SECURITY"),hidden:ig$.$l_>5,name:"frm_security",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_MASS_REQ_PROTECT"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"checkbox",fieldLabel:IRm$.r1("L_SNOOZE_MASS_REQ"),name:"sec_enable_snooze",boxLabel:"Snooze"},{xtype:"numberfield",fieldLabel:IRm$.r1("L_SNOOZE_TIME_MIN"),name:"sec_snooze_time",value:2},{xtype:"numberfield",fieldLabel:IRm$.r1("L_SERVER_REQ_MAX_PROTECT"),name:"sec_post_limit_count"}]},{xtype:"checkbox",name:"sec_twoway_auth",fieldLabel:IRm$.r1("L_TWOWAY_AUTH"),boxLabel:IRm$.r1("B_ENABLED")},{xtype:"numberfield",name:"sec_wrong_passwd",fieldLabel:IRm$.r1("L_WRONG_PWD_COUNTS"),value:0},{xtype:"combobox",fieldLabel:IRm$.r1("L_PWD_FAIL_ACTION"),name:"sec_wrong_passwd_action",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"Snooze 5 minutes",value:"snooze5m"},{name:"Snooze 10 minutes",value:"snooze10m"},{name:"Snooze 30 minutes",value:"snooze30m"},{name:"Snooze 1 hour",value:"snooze60m"},{name:"Lock user",value:"lock"}]}},{xtype:"textfield",fieldLabel:IRm$.r1("L_PWD_RULE"),name:"sec_password_rule"},{xtype:"html",height:210,html:["<div class='igc-password-help'><pre>","^\t\t\t\t # start-of-string","(?=.*[0-9])\t   # a digit must occur at least once","(?=.*[a-z])\t   # a lower case letter must occur at least once","(?=.*[A-Z])\t   # an upper case letter must occur at least once","(?=.*[@#$%^&+=])  # a special character must occur at least once","(?=\\S+$)\t\t  # no whitespace allowed in the entire string",".{8,}\t\t\t # anything, at least eight places though","$\t\t\t\t # end-of-string","----- strong password -----"," ^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\S+$).{8,}$","----- median password -----"," ^(?=.*[0-9])(?=.*[a-z])(?=\\S+$).{8,}$","----- weak password -----"," ^(?=\\S+$).{8,}$</pre></div>"].join("\n")},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_MAX_FILE_UPLOAD_MB"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"maxfileupload"},{xtype:"container",flex:1}]},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_BULK_MAX_FIILE_UPLOAD_MB"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"maxfileuploadbulk"},{xtype:"container",flex:1}]},{xtype:"textfield",name:"sec_tenant_post_proc",fieldLabel:IRm$.r1("L_TENANT_POST_CALL_MODULE")}]},{xtype:"fieldset",title:IRm$.r1("L_DEPLOY"),name:"frm_deploy",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",html:'<span style="color:blue;margin: 5px" id="igc-add-row">'+IRm$.r1("L_DEPLOY_TARGET")+'</span> <span class="igc-plus">+</span>',width:115,listeners:{afterrender:function(e){var t=this;$("#igc-add-row",e.el.dom).bind("click",(function(e){e.stopPropagation(),e.preventDefault();var a=new IG$.dlg_esri_basemap({instance:t.instance,grid:t.down("[name=dpsvr]"),mtype:"deploy",title:IRm$.r1("L_DEPLOY")});IG$.showDlg(t,a)}))},scope:this}},{xtype:"gridpanel",name:"dpsvr",store:{},flex:1,height:180,enabledrag:!0,viewConfig:{listeners:{beforedrop:function(e,t,a,i,n){t.copy=!1}}},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",width:200},{text:IRm$.r1("B_URL"),dataIndex:"server_url",flex:1},{xtype:"actioncolumn",width:50,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("B_REMOVE"),handler:function(e,t,a){e.store.removeAt(t)}}]}],listeners:{cellclick:function(e,t,a,i,n,l){if(0==a){var s=new IG$.dlg_esri_basemap({instance:this.instance,rec:i,grid:this.down("[name=dpsvr]"),mtype:"deploy",title:IRm$.r1("L_DEPLOY")});IG$.showDlg(this,s)}},scope:this}}]}]},{xtype:"fieldset",title:IRm$.r1("L_DATA_MASHING"),name:"frm_mashing",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"checkbox",name:"h2_enabled",fieldLabel:IRm$.r1("L_H2_PERSIST_ENABLED"),boxLabel:IRm$.r1("B_ENABLED")},{xtype:"textfield",fieldLabel:IRm$.r1("L_H2_URL_FOR_MASH"),name:"h2_jdbcurl"},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_CREDENTIALS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"h2_userid",placeholder:"Username"},{xtype:"textfield",name:"h2_password",inputType:"password",placeholder:"Password"},{xtype:"container",flex:1}]}]},{xtype:"fieldset",title:IRm$.r1("L_LICENSE"),name:"frm_license",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",popup_editor:!0,name:"license_data"},{xtype:"form",name:"mform",layout:{type:"hbox",align:"stretch"},items:[{xtype:"hiddenfield",name:"_mts_",value:IG$._g$a},{xtype:"textfield",name:"orig_filename",hidden:!0,fieldLabel:IRm$.r1("L_ORIG_NAME")},{xtype:"fileuploadfield",name:"photo",fieldLabel:IRm$.r1("L_DATA"),msgTarget:"side",allowBlank:!1,anchor:"100%",buttonText:IRm$.r1("L_SELECT_FILE"),buttonConfig:{margin:"0 2 0"},listeners:{change:function(){var e=this,t=e.down("[name=orig_filename]"),a=e.down("[name=mform]"),i=e.down("[name=photo]");if(a.getForm().isValid()){var n=i.getRawValue();document.charset="UTF-8",n.indexOf("\\")>-1&&(n=n.substring(n.lastIndexOf("\\")+1)),t.setValue(n),a.submit({url:ig$.servlet,waitMsg:"Uploading your license file",success:function(t,a){var i=t.errorReader.jsonData,n=i&&i.result?i.result.uid:null;e._lic_file(n)}})}},scope:this}},{xtype:"container",flex:1}]},{html:"<div class='t_license'>To request new license, please contact http://www.amplixbi.com. Paste license text file on this text area and good to go with new license information.<br><br>Thank you for your interest and great support! All your feedback is valuable for us, please feel free to contact us.</div>",autoHeight:!0}]},{xtype:"fieldset",title:IRm$.r1("L_ASSIST_BOT"),name:"frm_assistance",hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"abot_nlp_host",fieldLabel:IRm$.r1("L_NLP_SVR_HOST"),placeholder:"localhost"},{xtype:"textfield",name:"abot_nlp_port",fieldLabel:IRm$.r1("L_NLP_SVR_PORT"),placeholder:"3000"},{xtype:"numberfield",name:"abot_agent_thread",fieldLabel:IRm$.r1("L_NLP_AGNTS")},{xtype:"textfield",name:"abot_nickname",fieldLabel:IRm$.r1("L_BOT_NICK")}]}]},{xtype:"panel",title:IRm$.r1("L_UI_CONFIG"),layout:{type:"vbox",align:"stretch"},bodyPadding:10,autoScroll:!0,name:"_ui_config",hidden:!1!==ig$.features.ig_sys_uiconfig,items:[{xtype:"fieldset",title:IRm$.r1("L_GENERAL"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"application_title",fieldLabel:IRm$.r1("L_APPL_TITLE")},{xtype:"textfield",name:"application_title_html",fieldLabel:IRm$.r1("L_APPL_TITLE_HTML")},{xtype:"checkbox",name:"collapse_main_menu",fieldLabel:IRm$.r1("L_COLLAPSE_MAIN_MENU"),boxLabel:IRm$.r1("B_ENABLED")},{xtype:"checkbox",name:"main_navigator",fieldLabel:IRm$.r1("L_NAV_TAB"),boxLabel:"Navigator tab as Default"},{xtype:"numberfield",name:"maxtapcount",fieldLabel:IRm$.r1("L_MAX_TAB_COUNT"),value:15},{xtype:"textfield",name:"home_app_title",fieldLabel:IRm$.r1("L_HOME_TAB_TITLE")},{xtype:"textarea",popup_editor:!0,name:"home_app_desc",height:80,fieldLabel:IRm$.r1("L_HOME_TAB_MSG")},{xtype:"textfield",name:"loading_msg",fieldLabel:IRm$.r1("L_LOADING_MSG")}]},{xtype:"fieldset",title:IRm$.r1("L_HELPER_TMPL"),hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",html:'<span style="color:blue;margin: 5px" id="igc-add-row">'+IRm$.r1("L_HELPER_TMPL")+'</span> <span class="igc-plus">+</span>',width:115,listeners:{afterrender:function(e){var t=this;$("#igc-add-row",e.el.dom).bind("click",(function(e){e.stopPropagation(),e.preventDefault();var a=new IG$.dlg_helper({instance:t.instance,grid:t.down("[name=grd_helper]"),title:IRm$.r1("L_HELPER_TMPL")});IG$.showDlg(t,a)}))},scope:this}},{xtype:"gridpanel",name:"grd_helper",store:{},height:180,columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",width:200},{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:100},{text:IRm$.r1("B_VALUE"),dataIndex:"value",flex:1,minWidth:300},{xtype:"actioncolumn",width:50,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("B_REMOVE"),handler:function(e,t,a){e.store.removeAt(t)}}]}],listeners:{cellclick:function(e,t,a,i,n,l){if(0==a){var s=new IG$.dlg_helper({instance:this.instance,rec:i,grid:this.down("[name=grd_helper]"),title:IRm$.r1("L_HELPER_TMPL")});IG$.showDlg(this,s)}},scope:this}}]}]},{xtype:"fieldset",title:IRm$.r1("L_API_KEYS"),hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"google_map_api_key",fieldLabel:IRm$.r1("L_GMAP_API")},{xtype:"textfield",name:"naver_map_api_key",fieldLabel:IRm$.r1("L_NVMAP_API")}]},{xtype:"fieldset",title:IRm$.r1("L_DEFAULT_OPTIONS"),hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"measure_naming",fieldLabel:IRm$.r1("L_MEASURE_NAMING"),value:"[formula] [field]"},{xtype:"textfield",name:"echarts_theme",fieldLabel:IRm$.r1("L_ECHART_THEM"),value:"amplix"},{xtype:"textarea",popup_editor:!0,height:120,name:"ec_theme_list",fieldLabel:IRm$.r1("L_EC_THEME_LST")},{xtype:"checkbox",name:"report_screenshot",fieldLabel:IRm$.r1("L_REPORT_SCRSHOT"),boxLabel:IRm$.r1("B_ENABLED"),value:!0},{xtype:"textfield",name:"geo_map_center",fieldLabel:IRm$.r1("L_GEO_MAP_CENTER")},{xtype:"combobox",name:"chart_separator",fieldLabel:IRm$.r1("L_CHART_SEP"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"Line",value:"|"},{name:"New Line",value:"nl"},{name:"Comma",value:","},{name:"Colon",value:":"}]}}]},{xtype:"fieldset",title:IRm$.r1("L_EXTRA_OPTIONS"),hidden:ig$.$1_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",popup_editor:!0,height:120,name:"sheet_toolbar",fieldLabel:IRm$.r1("L_SHEET_TOOLBAR")},{xtype:"textarea",popup_editor:!0,height:120,name:"report_script",fieldLabel:IRm$.r1("L_SHEET_SCRIPTS")}]},{xtype:"fieldset",title:IRm$.r1("L_ARCGIS_REST_API"),hidden:ig$.$l_>5,layout:{type:"vbox",align:"stretch"},items:[{xtype:"combobox",name:"arcgis_version",fieldLabel:IRm$.r1("L_API_VERSION"),queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"4.16",value:"4.16",url_js:"https://js.arcgis.com/4.16/",url_css:"https://js.arcgis.com/4.16/esri/themes/light/main.css"},{name:"3.33",value:"3.33",url_js:"https://js.arcgis.com/3.33/",url_css:"https://js.arcgis.com/3.33/esri/css/esri.css"},{name:"3.17",value:"3.17",url_js:"https://js.arcgis.com/3.17/",url_css:"https://js.arcgis.com/3.17/esri/css/esri.css"}]},listeners:{change:function(e,t,a){var i,n,l,s,o=e.store,r=this.down("[name=arcgis_js]"),d=this.down("[name=arcgis_css]");if(a&&t){for(l=0;l<o.data.items.length;l++)(s=o.data.items[l]).get("value")==a?i=s:s.get("value")==t&&(n=s);i&&n&&(i.get("url_js")==r.getValue()&&r.setValue(n.get("url_js")),i.get("url_css")==d.getValue()&&d.setValue(n.get("url_css")))}},scope:this}},{xtype:"textfield",name:"arcgis_css",fieldLabel:IRm$.r1("L_CSS_URL")},{xtype:"textfield",name:"arcgis_js",fieldLabel:IRm$.r1("L_JS_LOADER_URL")},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",html:'<span style="color:blue;margin: 5px" id="igc-add-row">'+IRm$.r1("L_BASE_MAP")+'</span> <span class="igc-plus">+</span>',width:115,listeners:{afterrender:function(e){var t=this;$("#igc-add-row",e.el.dom).bind("click",(function(e){e.stopPropagation(),e.preventDefault();var a=new IG$.dlg_esri_basemap({instance:t.instance,grid:t.down("[name=grd_arcgis_basemap]"),mtype:"basemap",title:IRm$.r1("L_BASE_MAP")});IG$.showDlg(t,a)}))},scope:this}},{xtype:"gridpanel",name:"grd_arcgis_basemap",store:{},flex:1,height:180,enabledrag:!0,viewConfig:{listeners:{beforedrop:function(e,t,a,i,n){t.copy=!1}}},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",width:200},{text:IRm$.r1("B_URL"),dataIndex:"url",flex:1},{xtype:"actioncolumn",width:50,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("B_REMOVE"),handler:function(e,t,a){e.store.removeAt(t)}}]}],listeners:{cellclick:function(e,t,a,i,n,l){if(0==a){var s=new IG$.dlg_esri_basemap({instance:this.instance,rec:i,grid:this.down("[name=grd_arcgis_basemap]"),mtype:"basemap",title:IRm$.r1("L_BASE_MAP")});IG$.showDlg(this,s)}},scope:this}}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",html:'<span style="color:blue;margin: 5px" id="igc-add-row">'+IRm$.r1("L_REST_APIS")+'</span> <span class="igc-plus">+</span>',width:115,listeners:{afterrender:function(e){var t=this;$("#igc-add-row",e.el.dom).bind("click",(function(e){e.stopPropagation(),e.preventDefault();var a=new IG$.dlg_esri_basemap({instance:t.instance,grid:t.down("[name=grd_arcgis_rest]"),mtype:"restapi",title:IRm$.r1("L_REST_APIS")});IG$.showDlg(t,a)}))},scope:this}},{xtype:"gridpanel",name:"grd_arcgis_rest",store:{},flex:1,height:220,enabledrag:!0,viewConfig:{listeners:{beforedrop:function(e,t,a,i,n){t.copy=!1}}},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",width:200},{text:IRm$.r1("B_LOADER"),dataIndex:"loader",width:200},{text:IRm$.r1("B_URL"),dataIndex:"url",flex:1},{text:IRm$.r1("B_OPTION"),dataIndex:"option",width:200},{xtype:"actioncolumn",width:50,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("B_REMOVE"),handler:function(e,t,a){e.store.removeAt(t)}}]}],listeners:{cellclick:function(e,t,a,i,n,l){if(0==a){var s=new IG$.dlg_esri_basemap({instance:this.instance,rec:i,grid:this.down("[name=grd_arcgis_rest]"),mtype:"restapi",title:IRm$.r1("L_REST_APIS")});IG$.showDlg(this,s)}},scope:this}}]}]},{xtype:"fieldset",title:IRm$.r1("L_SVG_DRAW_OPTIONS"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",popup_editor:!0,name:"svg_renderers",fieldLabel:IRm$.r1("L_SVG_RENDERERS"),height:120}]}]},{xtype:"panel",title:IRm$.r1("L_SSO"),hidden:!(!1===ig$.features.ig_sys_sso&&ig$.$l_<5),layout:{type:"vbox",align:"stretch"},bodyPadding:10,autoScroll:!0,name:"_sso_p",tbar:[{text:IRm$.r1("L_ADD_NEW"),handler:function(){var e={};this._add_sso(e),this._mc.sso_module=this._mc.sso_module||[],this._mc.sso_module.push(e)},scope:this},"->",{text:IRm$.r1("L_SSO_DESIGNER"),hidden:!1!==ig$.features.ig_sys_sso_designer,handler:function(){IG$.procMenuCommand(this.instance,"CMD_SCH_PROG","single_sign_on")},scope:this}],items:[]}]}]}],listeners:{afterrender:function(e){e._init()}}}),IG$.mgrSysCfg.superclass.initComponent.call(this)}}),IG$.dlg_check_email=$s.extend($s.window,{width:400,layout:"fit",modal:!0,bodyPadding:5,initComponent:function(){$s.apply(this,{title:IRm$.r1("L_CHECK_EMAIL"),items:[{xtype:"panel",flex:1,layout:{type:"fit"},defaults:{padding:5},items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_RCPTS"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"recipients"}]}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){var e=this.down("[name=recipients]");if(e.clearInvalid(),!e.getValue())return e.markInvalid("Required"),!1;this.callback&&this.callback.execute(this,e.getValue()),this.close()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.dlg_check_email.superclass.initComponent.call(this)}}),IG$.dlg_esri_basemap=$s.extend($s.window,{width:400,layout:"fit",modal:!0,bodyPadding:5,_init:function(){this.mtype;this.rec&&this.setAllValues(this.rec.data)},_confirm:function(){var e=this,t={};e.getAllValues(t)||(e.rec?$.each(t,(function(t,a){e.rec.set(t,a)})):e.grid.store.add(t),e.callback&&e.callback.execute(this,t),e.close())},initComponent:function(){var e=this;$s.apply(e,{items:[{xtype:"panel",flex:1,layout:{type:"fit"},defaults:{padding:5},items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"name",fieldLabel:IRm$.r1("B_NAME"),required:!0},{xtype:"textarea",height:80,name:"url",hidden:"deploy"==e.mtype,fieldLabel:IRm$.r1("B_URL")},{xtype:"combobox",fieldLabel:IRm$.r1("B_LOADER"),name:"loader",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,required:"restapi"==e.mtype,hidden:"restapi"!=e.mtype,store:{xtype:"store",fields:["name","value"],data:[{name:IRm$.r1("B_SELECT"),value:""},{name:"FeatureLayer",value:"FeatureLayer"},{name:"ArcGISDynamicMapServiceLayer",value:"ArcGISDynamicMapServiceLayer"}]}},{xtype:"textarea",height:120,name:"option",hidden:"restapi"!=e.mtype,fieldLabel:IRm$.r1("B_OPTION")},{xtype:"textarea",height:80,name:"server_url",placeholder:"http://localhost:8280",required:"deploy"==e.mtype,hidden:"deploy"!=e.mtype,fieldLabel:IRm$.r1("L_SERVER_HOST")},{xtype:"textarea",height:80,name:"endpoint",required:"deploy"==e.mtype,hidden:"deploy"!=e.mtype,placeholder:"/servlet/krcp",fieldLabel:IRm$.r1("L_ENDPOINT_URL")}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlg_esri_basemap.superclass.initComponent.call(this)}}),IG$.dlg_helper=$s.extend($s.window,{width:400,layout:"fit",modal:!0,bodyPadding:5,_init:function(){this.mtype;this.rec&&this.setAllValues(this.rec.data)},_confirm:function(){var e=this,t={};e.getAllValues(t)||(e.rec?$.each(t,(function(t,a){e.rec.set(t,a)})):e.grid.store.add(t),e.callback&&e.callback.execute(this,t),e.close())},initComponent:function(){$s.apply(this,{items:[{xtype:"panel",flex:1,layout:{type:"fit"},defaults:{padding:5},items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"name",fieldLabel:IRm$.r1("B_NAME"),required:!0},{xtype:"combobox",fieldLabel:IRm$.r1("B_TYPE"),name:"type",queryMode:"local",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:IRm$.r1("B_SELECT"),value:""},{name:"FormatString",value:"formatstring"},{name:"DateFormat",value:"dateformat"},{name:"Grid CSS Style",value:"grid_style"},{name:"Cell Template",value:"cell_tmpl"},{name:"Filter Layout CSS",value:"filter_style"},{name:"Filter Value Format",value:"filter_valueformat"},{name:"Panel Style",value:"panel_style"}]},listeners:{change:function(e,t){this.down("[name=issql]").setVisible("dateformat"==t)},scope:this}},{xtype:"textarea",height:80,name:"value",fieldLabel:IRm$.r1("B_VALUE")},{xtype:"checkbox",name:"issql",hidden:!0,fieldLabel:IRm$.r1("B_ISSQL")}]}]}],buttons:[{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlg_helper.superclass.initComponent.call(this)}}),IG$.dlg_syscon=$s.extend($s.window,{width:500,layout:"fit",modal:!0,bodyPadding:5,_init:function(){var e,t=this.meta_content,a=this.down("[name=txt_meta]");e=JSON.stringify(t,null,2),a.setValue(e)},_confirm:function(){var e,t=this,a=t.down("[name=txt_meta]");(e=JSON.parse(a.getValue()))&&IG$.confirmMessages(ig$.appname,IRm$.r1("L_SAVE_CHANGES"),(function(a){"yes"==a&&(t.callback&&t.callback.execute(e),t.close())}))},initComponent:function(){$s.apply(this,{title:IRm$.r1("L_EXPORT"),items:[{xtype:"panel",flex:1,layout:{type:"fit"},defaults:{padding:5},items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"txt_meta",height:380}]}]}],buttons:[{xtype:"button",text:IRm$.r1("L_META_IMPORT"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlg_syscon.superclass.initComponent.call(this)}});
IG$.mgrColab=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,iconCls:"icon-config",border:1,_init:function(){this._load_data(),this._load_cnt()},_load_cnt:function(){var t=this,e=(this.down("[name=m_navi]"),new IG$._rpc$);e.init(t,{ack:"helpcontent",payload:{uid:"/SYS_NLP",name:"SYS_NLP",type:"Folder",post:"create",duty:"everyone",mode:"s"},mbody:{option:"translate"}},t,(function(e){var n=e&&e.length?e[0].uid:null;n&&(t.tuid=n,t.load_content())})),e.send()},load_content:function(){var t=new IG$._rpc$;t.init(this,{ack:"content",payload:{uid:this.tuid},mbody:{}},this,(function(t){var e,n,i=[];if(t.children)for(n=0;n<t.children.length;n++)"__nlp_prog"==t.children[n].name?e=t.children[n]:i.push(t.children[n]);this.nlp_logic=e,this._load_int_logic(),this.down("[name=grd_nlp]").store.loadData(i)}),!1),t.send()},_load_data:function(){var t=new IG$._rpc$;t.init(this,{ack:"collaborate",payload:{cmd:"channel_info"},mbody:{}},this,(function(t){this.down("[name=grd_channels]").store.loadData(t)}),!1),t.send()},_tbHandler:function(t,e){var n=this,i=n.instance,a=new IG$._rpc$,o=i.mainPanel;switch(t){case"cmd_run":case"cmd_stop":a.init(n,{ack:"collaborate",payload:{cmd:"cmd_stop"==t?"stop_daemon":"start_daemon"},mbody:{}},n,(function(t){this._load_data()}),!1),a.send();break;case"cmd_join":this._join_room(e);break;case"cmd_log":a.init(n,{ack:"helpcontent",payload:{},mbody:{option:"cuddle_log"}},n,(function(t){this.down("[name=cuddler_log]").store.loadData(t)}),!1),a.send();break;case"cmd_log_read":a.init(n,{ack:"helpcontent",payload:{suid:e.get("suid")},mbody:{option:"cuddle_data"}},n,(function(t){var e=this.down("[name=log_cnt_container]"),n=this.down("[name=log_cnt]");e.setVisible(!0),n.store.loadData(t)}),!1),a.send();break;case"cmd_train":a.init(n,{ack:"collaborate",payload:{cmd:"train_doc"},mbody:{}},n,(function(t){this._load_data()}),!1),a.send();break;case"cmd_edit":"NLP"==e.get("type")&&o&&o.navigateApp.call(o,e.get("uid"),"nlp",e.get("name"),e.get("nodepath"),!0,e.get("writable"));break;case"cmd_new_nlp":IG$._createMetaObject.call(n,"NLP",n.tuid,null,null,new IG$.callBackObj(n,(function(){n.load_content()})))}},_join_room:function(t){var e=new IG$.nlpChat({instance:this.instance,channel_name:t.get("channel_name")});IG$.showDlg(this,e)},_load_int_logic:function(){var t=new IG$._rpc$;this.nlp_logic&&(t.init(this,{ack:"content",payload:{uid:this.nlp_logic.uid},mbody:{}},this,(function(t){var e=this.down("[name=intent_prog]"),n=[];t&&t.content&&t.content.programs&&(n=t.content.programs),e.store.loadData(n)}),!1),t.send())},_save_logic:function(){var t,e,n,i=this,a=new IG$._rpc$,o=i.nlp_logic,l={meta_type:"nlplogic",programs:[]},d=i.down("[name=intent_prog]").store;for(t=0;t<d.data.items.length;t++)n={name:(e=d.data.items[t]).get("name"),intent:e.get("intent"),description:e.get("description"),java_source:e.get("java_source")},l.programs.push(n);a.init(i,{ack:"writecontent",payload:{uid:o&&o.uid||null,name:"__nlp_prog",type:"NLPLogic",description:"__nlp_prog",pid:i.tuid},mbody:l,meta_type:"nlplogic"},i,(function(t){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),a.send()},_edit_prog:function(t){var e,n=this.down("[name=intent_prog]");e=new IG$.nlpProg({instance:this.instance,datarec:t,callback:new IG$.callBackObj(this,(function(e){t?(t.data.name=e.name,t.data.java_source=e.java_source,t.data.description=e.description,t.data.intent=e.intent,t.refresh()):n.store.add(e)}))}),IG$.showDlg(this,e)},_compile_logic:function(){},initComponent:function(){$s.apply(this,{layout:"fit",padding:10,items:[{xtype:"panel",padding:0,border:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",height:5},{xtype:"tabpanel",flex:1,items:[{xtype:"panel",border:1,title:"Robo Agents",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"gridpanel",name:"grd_channels",title:"Agents",flex:1,store:{},columns:[{text:IRm$.r1("L_CHN_NAME"),dataIndex:"channel_name",flex:1},{text:IRm$.r1("L_THD_STATUS"),dataIndex:"thread_status",width:80},{text:IRm$.r1("L_ON_SVC"),dataIndex:"service_status",width:80},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,e,n){var i=t.store.data.items[e];this._tbHandler("cmd_join",i)},scope:this}]}],tbar:[{iconCls:"icon-toolbar-runreport",text:IRm$.r1("L_START_DAEMON"),tooltip:"Run threads",handler:function(){this._tbHandler("cmd_run")},scope:this},{text:IRm$.r1("L_STOP_ALL_AGNT"),handler:function(){this._tbHandler("cmd_stop")},scope:this},{text:IRm$.r1("B_REFRESH"),iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),handler:function(){this._load_data()},scope:this}]},{xtype:"gridpanel",name:"grd_nlp",flex:1,store:{},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1,tdCls:"igc-td-link"},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,e,n){var i=t.store.data.items[e];this._tbHandler("cmd_edit",i)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(t,e,n){var i=t.store,a=i.getAt(e);IG$.deleteMetaObject(a.get("uid"),a,new IG$.callBackObj(this,(function(){i.removeAt(e)})))},scope:this}]}],listeners:{cellclick:function(t,e,n,i,a,o){this._tbHandler("cmd_edit",i)},scope:this},tbar:[{text:IRm$.r1("L_TRAIN_AGENT"),handler:function(){this._tbHandler("cmd_train")},scope:this},{text:IRm$.r1("B_REFRESH"),iconCls:"icon-refresh",tooltip:IRm$.r1("B_REFRESH"),handler:function(){this.load_content()},scope:this},"->",{text:IRm$.r1("L_MAKE_NLP"),handler:function(){this._tbHandler("cmd_new_nlp")},scope:this}]}]},{xtype:"panel",border:1,title:"Intent Logic Designer",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",title:"Intent Programs",name:"intent_prog",store:{},flex:1,columns:[{text:IRm$.r1("B_NAME"),width:140,dataIndex:"name"},{text:IRm$.r1("L_INTENT"),flex:1,dataIndex:"intent",tdCls:"igc-td-link"},{text:IRm$.r1("B_DESC"),flex:1,dataIndex:"description"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,e,n){var i=t.store.data.items[e];this._edit_prog(i)},scope:this},{iconCls:"icon-grid-remove",handler:function(t,e,n){t.store.removeAt(e)},scope:this}]}],listeners:{cellclick:function(t,e,n,i,a,o){this._edit_prog(i)},scope:this},tbar:[{text:IRm$.r1("B_SAVE"),handler:function(){this._save_logic()},scope:this},{text:IRm$.r1("L_ADD_PROGRAM"),handler:function(){this._edit_prog()},scope:this},{text:IRm$.r1("B_REFRESH"),handler:function(){this._load_int_logic()},scope:this},"->",{text:IRm$.r1("L_COMPILE"),handler:function(){this._compile_logic()},scope:this}]}]}]},{xtype:"panel",border:1,title:"Agent Work History",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"fieldset",paddingY:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",store:{},fieldLabel:IRm$.r1("B_PERIOD")},{xtype:"datefield",name:"start",width:150},{xtype:"datefield",name:"todate",width:150},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_SEARCH"),handler:function(){this._tbHandler("cmd_log")},scope:this}]}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",title:"Cuddler Stories",name:"cuddler_log",store:{},flex:1,columns:[{text:IRm$.r1("B_DATE"),width:180,dataIndex:"updatedate_fm"},{text:IRm$.r1("L_NICK_NAME"),flex:1,dataIndex:"nickname",tdCls:"igc-td-link"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,e,n){var i=t.store.data.items[e];this._tbHandler("cmd_log_read",i)},scope:this}]}],listeners:{cellclick:function(t,e,n,i,a,o){this._tbHandler("cmd_log_read",i)},scope:this}},{xtype:"container",name:"log_cnt_container",hidden:!0,height:300,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",title:"Cuddler Stories",name:"log_cnt",store:{},flex:1,columns:[{text:IRm$.r1("B_SEQUENCE"),width:120,dataIndex:"seq"},{text:IRm$.r1("B_DATE"),width:140,dataIndex:"fdate"},{text:IRm$.r1("L_INTENT"),flex:1,dataIndex:"intent"},{text:IRm$.r1("L_UTTERANCE"),flex:1,dataIndex:"utterance"},{text:IRm$.r1("L_RESPONSE"),flex:1,dataIndex:"response"}]}]}]}]}]}]}],listeners:{afterrender:function(t){t._init()}}}),IG$.mgrColab.superclass.initComponent.call(this)}}),IG$.nlpProg=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,title:"NLP Intent Program",_init:function(){var t=this,e=t.datarec;e&&(t.down("[name=intent]").setValue(e.get("intent")),t.down("[name=name]").setValue(e.get("name")),t.down("[name=description]").setValue(e.get("description")),e.get("java_source")&&t.down("[name=java_source]").setValue(e.get("java_source").join("\n")))},_confirm:function(){var t=this,e={},n=0;$.each(["intent","name","description","java_source"],(function(i,a){var o=t.down("[name="+a+"]");if(o.clearInvalid(),o.required&&!o.getValue())return o.markInvalid(),void(n=1);e[a]="java_source"==a?o.getValue().split("\n"):o.getValue()})),n||(t.callback&&t.callback.execute(e),t.close())},initComponent:function(){var t=this;$s.apply(t,{padding:5,border:0,items:[{xtype:"panel",layout:"fit",padding:10,autoScroll:!0,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"fieldset",paddingY:40,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_INTENT_NAME"),name:"intent",required:!0},{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),name:"name",required:!0},{xtype:"textarea",height:50,fieldLabel:IRm$.r1("B_DESC"),name:"description"}]},{xtype:"textarea",flex:1,name:"java_source",fieldLabel:IRm$.r1("L_JAVA_SOURCE"),labelPosition:"top",required:!0}]}]}],buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(t){t._init()},scope:this}}),IG$.nlpProg.superclass.initComponent.apply(this,arguments)}});
IG$.nlpEd=$s.extend(IG$.v$pnl,{scroll:!1,closable:!0,border:1,iconCls:"icon-config",_init:function(){this.load_content()},load_content:function(e){var t=this,n=new IG$._rpc$;t.uid?(n.init(t,{ack:"content",payload:{uid:t.uid},mbody:{}},t,(function(e){t._mdoc=e,t._mc=e.content,t._updateNLP()}),!1),n.send()):(t._mc={meta_type:"nlp"},t._updateNLP())},_updateNLP:function(){var e,t,n=this,a=n._mc,i=n.down("[name=nlp_editor]"),l=n.down("[name=grd_corpus]"),s=[];if($s.defaults(a,{corpora:[],slotfills:[],trim_entities:[],htmlcontents:[]}),n.down("[name=b_name]").setValue(n._mdoc?n._mdoc.name:""),n.down("[name=b_desc]").setValue(n._mdoc?n._mdoc.description:""),i.down("[name=locale]").setValue(a.locale||""),a.corpora&&a.corpora.length)for(t=0;t<a.corpora[0].data.length;t++)(e=a.corpora[0].data[t]).cb_type="utterances",n._getD(e),s.push(e);for(t=0;t<a.trim_entities.length;t++)(e=a.trim_entities[t]).cb_type="trimentity",n._getD(e),s.push(e);for(t=0;t<a.slotfills.length;t++)(e=a.slotfills[t]).cb_type="slotfill",n._getD(e),s.push(e);for(t=0;t<a.htmlcontents.length;t++)(e=a.htmlcontents[t]).cb_type="htmlcontent",e.intent=e.name,s.push(e);l.store.loadData(s)},_save_cnt:function(){var e=this,t=new IG$._rpc$;e._mc&&(t.init(e,{ack:"writecontent",payload:{uid:e._mdoc.uid,name:e._mc.name,description:e._mc.description},mbody:e._mc,meta_type:"nlp"},e,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),t.send())},_tbHandler:function(e,t){var n,a=this;new IG$._rpc$;switch(e){case"cmd_save_rule":a._upd()&&a._save_cnt();break;case"cmd_export_rule":break;case"cmd_import_rule":n=new IG$.nlpEdItImp({instance:a.instance,callback:new IG$.callBackObj(a,(function(e){this._imp_corpus(e)}))}),IG$.showDlg(a,n);break;case"cmd_reload_rule":a._load_cnt();break;case"cmd_edit":n=new IG$.nlpEdIt({instance:a.instance,_mc:t.data,callback:new IG$.callBackObj(a,(function(e){this._getD(t.data),t.refresh()}))}),IG$.showDlg(a,n);break;case"cmd_edit_te":n=new IG$.nlpEdItT({instance:a.instance,_mc:t.data,callback:new IG$.callBackObj(a,(function(e){t.refresh()}))}),IG$.showDlg(a,n)}},_imp_corpus:function(e){var t,n,a,i=this.down("[name=grd_corpus]"),l=[],s={};for(t=0;t<e.data.length;t++)s[(n=e.data[t]).intent]||(a={cb_type:"utterances",intent:n.intent,utterances:n.utterances,answers:n.answers},this._getD(a),l.push(a),s[n.intent]=a);i.store.loadData(l)},_upd:function(){var e,t,n,a=this,i=a._mc,l=1,s=a.down("[name=locale]"),o=a.down("[name=grd_corpus]");for($.each(["locale","b_name"],(function(e,t){var n=a.down("[name="+t+"]");n.clearInvalid(),n.getValue()||(l=0,n.markInvalid("Required!"))})),a._mc=i={locale:s.getValue(),name:a.down("[name=b_name]").getValue(),description:a.down("[name=b_desc]").getValue(),corpora:[{locale:s.getValue(),name:"corpora",data:[]}],trim_entities:[],slotfills:[],htmlcontents:[]},t=0;t<o.store.data.items.length;t++)switch(n=null,(e=o.store.data.items[t]).get("cb_type")){case"utterances":n={intent:e.get("intent"),utterances:e.get("utterances"),answers:e.get("answers")},i.corpora[0].data.push(n);break;case"trimentity":n={intent:e.get("intent"),type:e.get("type"),option:e.get("option"),conditions:e.get("conditions"),enum_options:e.get("enum_options"),regex:e.get("regex"),trim_rules:e.get("trim_rules")},i.trim_entities.push(n);break;case"slotfill":n={intent:e.get("intent"),trim_entity:e.get("trim_entity"),mandatory:e.get("mandatory"),fill_message:e.get("fill_message")},i.slotfills.push(n);break;case"htmlcontent":n={name:e.get("intent"),content:e.get("content")},i.htmlcontents.push(n)}return l},_getD:function(e){var t="";switch(e.cb_type){case"utterances":t=(e.utterances&&e.utterances[0]||"")+" -> "+(e.answers&&e.answers[0]||"");break;case"slotfill":t=(e.trim_entity?e.trim_entity:"")+" -> "+(e.fill_message&&e.fill_message.length?e.fill_message[0]:"");break;case"trimentity":switch(t=e.type+": "+(e.option||""),e.type){case"enum":t+=e.enum_options&&e.enum_options.texts&&e.enum_options.texts.length?" -> "+e.enum_options.texts[0]:"";break;case"regex":t+=" -> "+e.regex;break;case"trim":t+=" -> "+(e.trim_rules?e.trim_rules.length+" rules":"")}break;case"htmlcontent":t=e.content?e.content.substring(0,100):""}e._desc=t},initComponent:function(){$s.apply(this,{layout:"fit",padding:5,items:[{xtype:"panel",border:1,layout:"border",padding:5,tbar:[{iconCls:"icon-toolbar-save",tooltip:IRm$.r1("L_SAVE"),handler:function(){this._tbHandler("cmd_save_rule")},scope:this},{text:IRm$.r1("L_EXP_RULES"),handler:function(){this._tbHandler("cmd_export_rule")},scope:this},{text:IRm$.r1("L_IMP_RULES"),handler:function(){this._tbHandler("cmd_import_rule")},scope:this},{text:IRm$.r1("B_REFRESH"),iconCls:"icon-refresh",tooltip:"Reload",handler:function(){this._tbHandler("cmd_reload_rule")},scope:this}],items:[{xtype:"panel",name:"nlp_editor",layout:{type:"vbox",align:"stretch"},region:"center",flex:1,items:[{xtype:"fieldset",layout:{type:"hbox",align:"stretch"},paddingY:10,items:[{xtype:"container",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"b_name",fieldLabel:IRm$.r1("B_NAME"),required:!0},{xtype:"textarea",name:"b_desc",fieldLabel:IRm$.r1("B_DESC")}]},{xtype:"container",width:20},{xtype:"container",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"combobox",name:"locale",fieldLabel:IRm$.r1("B_LANGUAGE"),store:{},displayField:"name",valueField:"value",queryMode:"local",editable:!0,autoSelect:!0,required:!0,store:{fields:["name","value"],data:[{name:"Select Locale",value:""},{name:"US English",value:"en_US"},{name:"Korean",value:"ko_KR"},{name:"Japanese",value:"ja_JP"},{name:"Chinese",value:"cn_CZ"}]}},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("B_INTENTS"),store:{}},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_SRCH_RULES")}]}]}]},{xtype:"gridpanel",flex:1,name:"grd_corpus",store:{},columns:[{text:IRm$.r1("B_TYPE"),dataIndex:"cb_type",width:150},{text:IRm$.r1("L_INTENT"),dataIndex:"intent",tdCls:"igc-td-link",width:200},{text:IRm$.r1("L_MESSAGES"),dataIndex:"_desc"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(e,t,n){var a=e.store.data.items[t];this._tbHandler("cmd_edit",a)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,n){var a=e.store,i=a.getAt(t);IG$.deleteMetaObject(i.get("uid"),i,new IG$.callBackObj(this,(function(){a.removeAt(t)})))},scope:this}]}],listeners:{cellclick:function(e,t,n,a,i,l){this._tbHandler("cmd_edit",a)},scope:this},tbar:[{text:IRm$.r1("L_ADD_SENTENCE"),handler:function(){var e=new IG$.nlpEdIt({instance:this.instance,callback:new IG$.callBackObj(this,(function(e){var t=this.down("[name=grd_corpus]");this._getD(e),t.store.add(e)}))});IG$.showDlg(this,e)},scope:this},{text:IRm$.r1("L_DELETE_CHECKED"),handler:function(){},scope:this}]}]}]}],listeners:{afterrender:function(e){e._init()}}}),IG$.nlpEd.superclass.initComponent.call(this)}}),IG$.nlpEdIt=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,title:"Sentence",init_f:function(){var e=this;e._mc=e._mc||{},e.down("[name=txt_intent]").setValue(e._mc.intent),e.down("[name=cb_type]").setValue(e._mc.cb_type||"utterances"),"utterances"==e._mc.cb_type?(e.down("[name=utterances]").setValue(e._mc.utterances?e._mc.utterances.join("\n"):""),e.down("[name=answers]").setValue(e._mc.answers?e._mc.answers.join("\n"):"")):"slotfill"==e._mc.cb_type?(e.down("[name=mandatory]").setValue(e._mc.mandatory),e.down("[name=trim_entity]").setValue(e._mc.trim_entity),e.down("[name=slot_message]").setValue(e._mc.fill_message?e._mc.fill_message.join("\n"):"")):"trimentity"==e._mc.cb_type?(e.down("[name=te_type]").setValue(e._mc.type),e.down("[name=te_option]").setValue(e._mc.option),e.down("[name=te_texts]").setValue(e._mc.enum_options&&e._mc.enum_options.texts?e._mc.enum_options.texts.join("\n"):""),e.down("[name=t_regex]").setValue(e._mc.regex),e._mc.trim_rules&&e.down("[name=grid_te_rules]").store.loadData(e._mc.trim_rules)):"htmlcontent"==e._mc.cb_type&&e.down("[name=h_content]").setValue(e._mc.content)},_setV:function(e,t){var n=this.down("[name="+e+"]");if(n.getValue())return n.clearInvalid(),n.getValue();!1!==t&&n.markInvalid("Required")},_confirm:function(){var e,t,n=this,a=0,i=n._mc;if((e=n.down("[name=txt_intent]")).clearInvalid(),e.getValue()||(e.markInvalid("Required!"),a=1),i.intent=e.getValue(),(t=n._setV("cb_type"))?i.cb_type=t:a=1,"utterances"==n._mc.cb_type)(t=n._setV("utterances"))?n._mc.utterances=t.split("\n"):a=1,t=n._setV("answers"),n._mc.answers=t?t.split("\n"):null;else if("slotfill"==n._mc.cb_type)t=n._setV("mandatory",!1),n._mc.mandatory=t,(t=n._setV("trim_entity"))?i.trim_entity=t:a=1,(t=n._setV("slot_message"))?i.fill_message=t.split("\n"):a=1;else if("trimentity"==n._mc.cb_type){(t=n._setV("te_type"))?i.type=t:a=1,(t=n._setV("te_option"))?i.option=t:a=1,"enum"==i.type?(t=n._setV("te_texts"),i.enum_options={},t?i.enum_options.texts=t.split("\n"):a=1):"regex"==i.type&&((t=n._setV("t_regex"))?i.regex=t:a=1),i.trim_rules=[];var l,s,o,r=n.down("[name=grid_te_rules]");for(l=0;l<r.store.data.items.length;l++)s={texts:(o=r.store.data.items[l]).get("texts"),type:o.get("type"),left_words:o.get("left_words"),right_words:o.get("right_words"),words:o.get("words")},i.trim_rules.push(s)}else"htmlcontent"==n._mc.cb_type&&((t=n._setV("h_content"))?i.content=t:a=1);a||(n.callback&&n.callback.execute(n._mc),n.close())},_update_rule:function(e){var t=new IG$.nlpEdItT({instance:this.instance,_mc:e.data,callback:new IG$.callBackObj(this,(function(t){e.refresh()}))});IG$.showDlg(this,t)},initComponent:function(){var e=this;$s.apply(e,{padding:5,border:0,items:[{xtype:"panel",layout:"fit",padding:10,autoScroll:!0,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"fieldset",title:"General",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",name:"t_intent",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"txt_intent",fieldLabel:IRm$.r1("B_INTENTS")}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"cb_type",fieldLabel:IRm$.r1("B_TYPE"),displayField:"name",valueField:"value",queryMode:"local",editable:!1,autoSelect:!0,required:!0,store:{field:["name","value"],data:[{name:"Utterances",value:"utterances"},{name:"Trim Entity",value:"trimentity"},{name:"Slot Fill",value:"slotfill"},{name:"Html Content",value:"htmlcontent"}]},listeners:{change:function(e,t,n,a){var i,l;for(i=0;i<e.store.data.items.length;i++)l=e.store.data.items[i].get("value"),this.down("[name=ct_"+l+"]").setVisible(l==t)},scope:this}},{xtype:"container",flex:1}]}]},{xtype:"fieldset",title:"Utterances",name:"ct_utterances",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"utterances",fieldLabel:IRm$.r1("L_UTTERANCE"),labelPosition:"top",height:200},{xtype:"textarea",name:"answers",fieldLabel:IRm$.r1("L_ANSWERS"),labelPosition:"top",height:280}]},{xtype:"fieldset",title:"Slot Fill",name:"ct_slotfill",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"checkbox",name:"mandatory",fieldLabel:IRm$.r1("L_MANDATORY")},{xtype:"container",flex:1}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"trim_entity",fieldLabel:IRm$.r1("L_TRIM_TYPE"),required:!0},{xtype:"container",flex:1}]},{xtype:"textarea",name:"slot_message",fieldLabel:IRm$.r1("L_MESSAGES"),labelPosition:"top",height:250}]},{xtype:"fieldset",title:"Trim Entity",name:"ct_trimentity",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"te_type",fieldLabel:IRm$.r1("L_TRIM_ENTRY_TYPE"),displayField:"name",valueField:"value",queryMode:"local",editable:!1,autoSelect:!0,required:!0,store:{field:["name","value"],data:[{name:"Enumeration",value:"enum"},{name:"RegEx",value:"regex"},{name:"Trim Rule",value:"trim"}]},listeners:{change:function(e,t,n,a){var i,l,s=this.down("[name=ct_trimentity]");for(i=0;i<e.store.data.items.length;i++)l=e.store.data.items[i].get("value"),s.down("[name=te_"+l+"]").setVisible(l==t)},scope:this}},{xtype:"container",flex:1}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"te_option",fieldLabel:IRm$.r1("B_OPTION")}]},{xtype:"container",name:"te_enum",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"te_texts",fieldLabel:IRm$.r1("L_TEXTS"),labelPosition:"top",height:200}]},{xtype:"container",name:"te_regex",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"t_regex",fieldLabel:IRm$.r1("B_REGEX"),labelPosition:"top",height:200}]},{xtype:"container",name:"te_trim",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",height:250,name:"grid_te_rules",store:{},columns:[{text:IRm$.r1("B_TYPE"),dataIndex:"type",tdCls:"igc-td-link"},{text:IRm$.r1("L_LEFT_WORDS"),dataIndex:"left_words"},{text:IRm$.r1("L_RIGHT_WORDS"),dataIndex:"right_words"},{text:IRm$.r1("L_WORDS"),dataIndex:"words"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-dbicon",handler:function(t,n,a){var i=t.store.data.items[n];e._update_rule(i)},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,n){var a=e.store;a.getAt(t);a.removeAt(t)},scope:this}]}],listeners:{cellclick:function(e,t,n,a,i,l){this._update_rule(a)},scope:this},tbar:[{xtype:"button",text:IRm$.r1("L_ADD_NEW"),handler:function(){var e=new IG$.nlpEdItT({instance:this.instance,callback:new IG$.callBackObj(this,(function(e){this.down("[name=grid_te_rules]").store.add(e)}))});IG$.showDlg(this,e)},scope:this}]}]}]},{xtype:"fieldset",title:"Html Content",name:"ct_htmlcontent",hidden:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",name:"h_content",fieldLabel:IRm$.r1("B_CONTENTS"),labelPosition:"top",height:300}]}]}]}],buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(){this.init_f()}}}),IG$.nlpEdIt.superclass.initComponent.apply(this,arguments)}}),IG$.nlpEdItT=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,title:"Sentence",i_fields:[{n:"te_trim_type",m:"type"},{n:"te_left_words",m:"left_words",a:1,required:!1},{n:"te_right_words",m:"right_words",a:1,required:!1},{n:"te_words",m:"words",a:1,required:!1}],init_f:function(){var e,t=this;t._mc=e=t._mc||{},$.each(t.i_fields,(function(n,a){var i=t.down("[name="+a.n+"]"),l=e[a.m];a.a?i.setValue(l?l.join("\n"):""):i.setValue(l)})),e.options&&e.options.skip&&e.options.skip.length&&t.down("[name=te_skip]").setValue(e.options.skip.join("\n"))},_confirm:function(){var e=this,t=0,n=e._mc,a=e.down("[name=te_skip]");$.each(e.i_fields,(function(a,i){var l=e.down("[name="+i.n+"]"),s=l.getValue(),o=!0;"type"!=i.m&&(o=!1,"between"==n.type?"words"==i.m&&(o=!1):"left_words"!=i.m&&"right_words"!=i.m||(o=!1)),!s&&o?(l.markInvalid(),t=1):(l.clearInvalid(),i.a?n[i.m]=s?s.split("\n"):null:n[i.m]=s)})),t||(n.options={},a.getValue()&&(n.options.skip=a.getValue().split("\n")),e.callback&&e.callback.execute(e._mc),e.close())},initComponent:function(){var e=this;$s.apply(e,{padding:5,border:0,items:[{xtype:"panel",layout:"fit",padding:10,autoScroll:!0,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"te_trim_type",fieldLabel:IRm$.r1("L_TRIM_TYPE"),displayField:"name",valueField:"value",queryMode:"local",editable:!1,autoSelect:!0,required:!0,store:{field:["name","value"],data:[{name:"Between",value:"between"},{name:"After",value:"after"},{name:"AfterFirst",value:"afterfirst"},{name:"AfterLast",value:"afterlast"},{name:"Before",value:"before"},{name:"BeforeFirst",value:"beforefirst"},{name:"BeforeLast",value:"beforelast"}]},listeners:{change:function(e,t,n,a){var i=this;"between"==t?(i.down("[name=te_words]").hide(),i.down("[name=te_left_words]").show(),i.down("[name=te_right_words]").show()):(i.down("[name=te_words]").show(),i.down("[name=te_left_words]").hide(),i.down("[name=te_right_words]").hide())},scope:this}},{xtype:"container",flex:1}]},{xtype:"fieldset",title:"Options",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textarea",fieldLabel:IRm$.r1("L_SKIP_WORDS"),name:"te_skip",labelPosition:"top",height:120}]},{xtype:"textarea",name:"te_left_words",fieldLabel:IRm$.r1("L_LEFT_WORDS"),labelPosition:"top",hidden:!0,height:200},{xtype:"textarea",name:"te_right_words",fieldLabel:IRm$.r1("L_RIGHT_WORDS"),labelPosition:"top",hidden:!0,height:200},{xtype:"textarea",name:"te_words",fieldLabel:IRm$.r1("L_WORDS"),labelPosition:"top",hidden:!0,height:200}]}]}],buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(){this.init_f()}}}),IG$.nlpEdItT.superclass.initComponent.apply(this,arguments)}}),IG$.nlpEdItImp=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,title:"Import NLP",_confirm:function(){var e=this.down("[name=te_data]"),t=JSON.parse(e.getValue());this.callback&&this.callback.execute(t),this.close()},initComponent:function(){var e=this;$s.apply(e,{padding:5,border:0,items:[{xtype:"panel",layout:"fit",padding:10,autoScroll:!0,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"te_trim_type",fieldLabel:IRm$.r1("L_TRIM_TYPE"),displayField:"name",valueField:"value",queryMode:"local",editable:!1,autoSelect:!0,required:!0,store:{field:["name","value"],data:[{name:"Between",value:"between"},{name:"AfterLast",value:"afterlast"}]}},{xtype:"container",flex:1}]},{xtype:"textarea",name:"te_data",fieldLabel:IRm$.r1("L_IMP_CONTENT"),labelPosition:"top",height:800}]}]}],buttons:["->",{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.nlpEdItImp.superclass.initComponent.apply(this,arguments)}}),IG$.nlpChat=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,title:"NLP Chat",_init:function(){var e,t=this.down("[name=main_nlp]"),n=$(t.body.dom),a="roboassist.jsp?";n.empty(),a+="start_chat=T",a+="&channel_name="+this.channel_name.substring(1),a+="&_mts_="+IG$._g$a,e=$("<div class='robo_main' id='robo_main'></div>").appendTo(n),$("<iframe id='roboassist' src='./"+a+"'></iframe>").appendTo(e)},initComponent:function(){var e=this;$s.apply(e,{padding:5,border:0,items:[{xtype:"panel",layout:"fit",padding:10,autoScroll:!0,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:5,items:[{html:"<div id='main_nlp'></div>",name:"main_nlp"}]}]}],buttons:["->",{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()},scope:this}}),IG$.nlpChat.superclass.initComponent.apply(this,arguments)}});
IG$.sync_user=$s.extend(IG$.v$pnl,{layout:"fit",iconCls:"icon-group",closable:!0,toolbarHandler:function(e,t){var a=this,n=a.down("[name=msync]").getActiveItem().dname;switch(e){case"cmd_s_run":a.executeAuth(n);break;case"cmd_l_run":IG$.confirmMessages(ig$.appname,IRm$.r1("W_SYNC_"+n.toUpperCase()),(function(e){"yes"==e&&a.executeSync(t,n)}),a)}},loadPool:function(){var e=new IG$._rpc$;e.init(this,{ack:"tablecontent",payload:{address:"/"},mbody:{option:"standard"}},this,(function(e){this._dsource=e,this.loadAuthModule()}),!1),e.send()},loadAuthModule:function(){var e=this,t=(this.down("[name=m_navi]"),new IG$._rpc$);t.init(e,{ack:"usercontent",payload:{address:"/Features"},mbody:{option:"auth_module"}},e,(function(t){var a,n=t?t.authorization:{},l=[{name:"Select Module",value:""}],o=e.down("[name=dmodule]");for(a in n)l.push({name:a,value:a});e._dmodules=n,o.store.loadData(l),o.setValue("")})),t.send()},executeAuth:function(e){var t,a,n=this,l=new IG$._rpc$;$.each(["dmodule"],(function(e,t){var l=n.down("[name="+t+"]");if(l.clearInvalid(),!l.getValue())return a=1,l.markInvalid("required"),!1})),a?IG$.alertmsg(ig$.appname,IRm$.r1("M_ERROR"),null,null,0,"error"):(a=n.checkParams())?n.setParameters():(t={address:"/Authorization/"+e,module:n.down("[name=dmodule]").getValue(),keyword:n.down("[name=keyword]").getValue(),target:e,option:"get_data"},(l=new IG$._rpc$).init(n,{ack:"usercontent",payload:t,mbody:{}},n,(function(t){var a,l=null,o=[];switch(e){case"group":l="g_group1";break;case"user":l="g_user1";break;case"role":l="g_role1"}a=n.down("[name="+l+"]"),$.each(t,(function(e,t){var a,n={name:t.name};if(t.additional_info)for(a in t.additional_info)n[a]=t.additional_info[a];o.push(n)})),a.store.loadData(o)}),!1),l.send())},checkParams:function(){var e,t=this._dmodules[this.down("[name=dmodule]").getValue()],a=!1;if(t.parameters&&t.parameters.length)for(i=0;i<t.parameters.length&&(!(e=t.parameters[i]).isnecessary||(!e.initial_values||e.initial_values&&0==e.initial_values.length?a=!0:e.initial_values[0].value||(a=!0),!a));i++);return a},executeSync:function(e){var t,a,n=this,l=[],o=new IG$._rpc$;if($.each(["dmodule"],(function(e,t){var l=n.down("[name="+t+"]");if(l.clearInvalid(),!l.getValue())return a=1,l.markInvalid("required"),!1})),a)IG$.alertmsg(ig$.appname,IRm$.r1("M_ERROR"),null,null,0,"error");else if(a=n.checkParams())n.setParameters();else{t={address:"/Authorization/"+e,module:n.down("[name=dmodule]").getValue(),keyword:n.down("[name=keyword]").getValue(),target:e,option:"sync_data"};var i,r,s,d=null;switch(e){case"group":d="g_group2";break;case"user":d="g_user2";break;case"role":d="g_role2"}for(i=n.down("[name="+d+"]").store,r=0;r<i.data.items.length;r++)s=i.data.items[r],l.push(s.data);(o=new IG$._rpc$).init(n,{ack:"usercontent",payload:t,mbody:l,meta_type:"list"},n,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SUCCESS"),null,null,0,"success")}),!1),o.send()}},moveGrid:function(e,t){var a,n=this.down("[name="+e+"]"),l=this.down("[name="+t+"]"),o=n.getSelectionModel().getSelection();if(o.length>0)for(a=0;a<o.length;a++)n.store.remove(o[a]),l.store.add(o[a])},setParameters:function(){var e,t,a=this,n=a.down("[name=dmodule]");if(n.clearInvalid(),!n.getValue())return haserror=1,n.markInvalid("required"),!1;t=a._dmodules[n.getValue()],e=new IG$.sync_user_param({instance:a.instance,dsource:a._dsource,dmodule:a._dmodules[n.getValue()],callback:new IG$.callBackObj(a,(function(e){var a=new IG$._rpc$,l=e;a.init(this,{ack:"usercontent",payload:{address:"/Features",option:"auth_module_sync",ssomod:n.getValue()},mbody:l},this,(function(a){var n,l;if(t.parameters)for(n=0;n<t.parameters.length;n++)l=t.parameters[n].name,t.parameters[n].initial_values=[],e[l]&&t.parameters[n].initial_values.push({value:e[l]});IG$.alertmsg(ig$.appname,IRm$.r1("M_SUCCESS"),null,null,0,"success")})),a.send()}))}),IG$.checkLogin(a,e)},initComponent:function(){$s.apply(this,{title:IRm$.r1("T_SYNC_USER"),bodyPadding:0,items:[{xtype:"panel",border:0,bodyPadding:10,layout:{type:"vbox",align:"stretch"},tbar:[{text:IRm$.r1("B_GROUP"),handler:function(){this.down("[name=msync]").setActiveItem(0)},scope:this},{text:IRm$.r1("B_ROLE"),handler:function(){this.down("[name=msync]").setActiveItem(2)},scope:this},"-",{text:IRm$.r1("B_USER"),handler:function(){this.down("[name=msync]").setActiveItem(1)},scope:this},"->",{text:IRm$.r1("B_PARAMETERS"),handler:function(){this.setParameters()},scope:this}],items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_DYN_MODULE"),name:"dmodule",valueField:"value",displayField:"name",queryMode:"local",editable:!1,store:{fields:["name"]}},{xtype:"textfield",fieldLabel:IRm$.r1("B_KEYWORD"),name:"keyword"},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_EXECUTE"),handler:function(){this.toolbarHandler("cmd_s_run")},scope:this}]}]},{xtype:"container",flex:2,name:"msync",layout:"card",items:[{xtype:"fieldset",flex:1,dname:"group",title:"Group Syncronization",layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:"No options are available for this module"},{xtype:"container",flex:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"g_group1",title:"Groups on Remote System",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:">",handler:function(){this.moveGrid("g_group1","g_group2")},scope:this},{xtype:"button",text:"<",handler:function(){this.moveGrid("g_group2","g_group1")},scope:this},{xtype:"container",flex:1}]},{xtype:"gridpanel",name:"g_group2",title:"Selected Groups",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}],bbar:["->",{text:IRm$.r1("B_IMPORT"),handler:function(){this.toolbarHandler("cmd_l_run","group")},scope:this}]}]}]},{xtype:"fieldset",flex:1,dname:"user",title:"User Syncronization",layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:"No options are available for this module"},{xtype:"container",flex:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"g_user1",title:"Remote System Users",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:">",handler:function(){this.moveGrid("g_user1","g_user2")},scope:this},{xtype:"button",text:"<",handler:function(){this.moveGrid("g_user2","g_user1")},scope:this},{xtype:"container",flex:1}]},{xtype:"gridpanel",name:"g_user2",title:"Selected Users",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}],bbar:["->",{text:IRm$.r1("B_IMPORT"),handler:function(){this.toolbarHandler("cmd_l_run","user")},scope:this}]}]}]},{xtype:"fieldset",flex:1,dname:"role",title:"Role Syncronization",layout:{type:"vbox",align:"stretch"},items:[{xtype:"displayfield",value:"No options are available for this module"},{xtype:"container",flex:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"g_role1",title:"Remote System Roles",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}]},{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:">",handler:function(){this.moveGrid("g_role1","g_role2")},scope:this},{xtype:"button",text:"<",handler:function(){this.moveGrid("g_role2","g_role1")},scope:this},{xtype:"container",flex:1}]},{xtype:"gridpanel",name:"g_role2",title:"Selected Roles",flex:1,selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{fields:["name"]},columns:[{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"}],bbar:["->",{text:IRm$.r1("B_IMPORT"),handler:function(){this.toolbarHandler("cmd_l_run","role")},scope:this}]}]}]}]}]}]}),IG$.sync_user.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this.loadPool()}}}),IG$.sync_user_param=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:600,height:500,_init:function(){var e=this,t=e.instance,a=e.down("[name=params]"),n=e.dmodule;n&&n.parameters&&($.each(n.parameters,(function(n,l){var o,i,r,s={xtype:l.type,name:l.name,fieldLabel:l.label||l.name,required:l.isnecessary};if("datasource"==s.xtype)for(s.xtype="combobox",s.valueField="uid",s.displayField="name",s.queryMode="local",s.editable=!1,s.store={data:[{name:"Select Database Instance",uid:""}]},o=t.dlgLogin.jS2,i=0;i<e.dsource.length;i++)l=e.dsource[i],(1==o||0==o&&"IGCBASE"!=l.name.toUpperCase())&&s.store.data.push({uid:l.uid,name:l.name});else"textarea"==s.xtype&&(s.height=150);a.add(s),l.description&&(r={xtype:"textarea",fieldLabel:" ",readOnly:!0,required:!1,value:l.description,height:150},a.add(r))})),setTimeout((function(){$.each(n.parameters,(function(t,a){var n=e.down("[name="+a.name+"]");n&&(a.initial_values&&a.initial_values.length?n.setValue(a.initial_values[0].value):n.setValue(""))}))}),10))},initComponent:function(){var e=this;$s.apply(this,{defaults:{padding:10},title:"SSO Parameters",items:[{xtype:"container",defaults:{padding:10},padding:10,autoScroll:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:"Parameters",name:"params",flex:1,layout:{type:"vbox",align:"stretch"},items:[]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){var e={};this.down("[name=params]").getAllValues(e)||(this.callback&&this.callback.execute(e),this.close())},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.sync_user_param.superclass.initComponent.apply(e,arguments)}});
IG$.makeStyle=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:320,autoHeight:!0,parentnodepath:null,callback:null,processMakeStyleItem:function(){var e,t=this,l=t.m_theme,a=t.down("[name=fitemname]"),n=a.getValue(),i=t.down("[name=basetypeselect]"),s=i.getValue();if(a.clearInvalid(),i.clearInvalid(),n)if(l||s)if(l&&t.themes[n])a.setInvalid("Duplicated");else{if(!l)for(e=0;e<t.styleinfo.length;e++)if(t.styleinfo[e].name==n)return a.setInvalid("Duplicated"),!1;t.callback.execute([n,s]),t.close()}else i.setInvalid("Required Field");else a.setInvalid("Required Field")},_init:function(){var e,t=this,l=[],a=t.m_theme,n=t.down("[name=basetypeselect]");if(!a){for(e=0;e<t.styleinfo.length;e++)t.styleinfo[e].basestylename||l.push({name:t.styleinfo[e].name});n.store.loadData(l)}},initComponent:function(){var e=this;e.title=IRm$.r1("L_MAKESTYLE"),$s.apply(this,{defaults:{bodyStyle:"padding:10px"},items:[{html:IRm$.r1("L_MAKESTYLE"),flex:1,border:0},{xtype:"panel",region:"center",flex:3,border:!0,region:"center",height:120,defaultType:"textfield",layout:"anchor",defaults:{anchor:"100%"},items:[{fieldLabel:IRm$.r1("L_STYLENAME"),labelWidth:130,name:"fitemname",value:"",allowBlank:!1,blankText:IRm$.r1("B_REQ"),enableKeyEvents:!0,listeners:{keyup:function(e,t){13==t.keyCode&&this.processMakeStyleItem.call(this)},scope:this}},{xtype:"combobox",name:"basetypeselect",hidden:!!e.m_theme,fieldLabel:IRm$.r1("L_INHERIT_STYLE_FROM"),labelWidth:130,store:{fields:[{name:"name"}]},displayField:"name",valueField:"name",editable:!1,queryMode:"local",selectOnTab:!1}],listeners:{afterrender:function(){this._init()},scope:this}}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.processMakeStyleItem()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$.makeStyle.superclass.initComponent.apply(this,arguments)}});
IG$.dlg_chart_clr=$s.extend($s.window,{width:500,height:520,layout:"fit",padding:5,_init:function(){this.down("[name=theme_name]").setValue("")},_confirm:function(e){var t,a,n=this,l=n.down("[name=theme_name]"),o=n.chart_color_map;for(t in n._cur_target&&(n._confirm_target(),n._cur_target=null),o)delete o[t];for(a=0;a<l.store.data.items.length;a++)(e=l.store.data.items[a]).$r&&e.$r.value&&(o[e.get("name")]=e.data.data||[]);n.callback&&n.callback.execute(),n.close()},load_colorset:function(){var e,t,a,n,l=this,o=l.down("[name=theme_name]"),s=l.down("[name=dsource]"),i=o.getValue(),r=[];for(l._cur_target&&(l._confirm_target(),l._cur_target=null),a=0;a<o.store.data.items.length;a++)if((e=o.store.data.items[a]).get("value")==i){t=e;break}if(t){for(n=t.data.data,l._cur_target=t,a=0;a<n.length;a++)r.push({value:n[a]});s.store.loadData(r)}},_confirm_target:function(){var e,t,a=this.down("[name=dsource]"),n=this._cur_target,l=[];for(e=0;e<a.store.data.items.length;e++)(t=a.store.data.items[e]).get("value")&&l.push(t.get("value"));n.data.data=l},changeOrder:function(e){var t,a,n=this.down("[name=dsource]"),l=n.getSelectionModel(),o=l.selected;o&&1==o.length&&(a=o.items[0],t=n.store.indexOf(a),-1==e?t>0&&(n.store.remove(a),a=n.store.insert(t-1,a),l.select(a,!0)):t+1<n.store.data.items.length&&(n.store.remove(a),a=n.store.insert(t+1,a),l.select(a,!0)))},initComponent:function(){var e,t=[{name:IRm$.r1("B_SELECT"),value:""}],a=this.chart_color_map;for(e in a)t.push({name:e,value:e,data:a[e]});$s.apply(this,{title:IRm$.r1("L_CHART_COLOR_ORG"),items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_CHART_COLOR"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",name:"m_selector",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"theme_name",fieldLabel:IRm$.r1("B_NAME"),displayField:"name",labelWidth:60,labelAlign:"right",valueField:"value",editable:!1,queryMode:"local",flex:1,store:{fields:["name","value"],data:t},listeners:{change:function(e,t,a,n){this.load_colorset()},scope:this}},{xtype:"button",text:IRm$.r1("L_ADD_NEW"),handler:function(){var e=this.down("[name=m_new_item]"),t=this.down("[name=m_selector]");this.down("[name=theme_new_name]").setValue(""),e.setVisible(!0),t.setVisible(!1)},scope:this},{xtype:"button",text:IRm$.r1("L_REMOVE"),handler:function(){var e,t=this.down("[name=theme_name]"),n=[{name:IRm$.r1("B_SELECT"),value:""}];if(t.clearInvalid(),t.getValue()){for(e in delete a[t.getValue()],a)n.push({name:e,value:e,data:a[e]});t.store.loadData(n),t.setValue(n[1]?n[1].value:"")}else t.markInvalid()},scope:this}]},{xtype:"container",name:"m_new_item",hidden:!0,layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"theme_new_name",fieldLabel:IRm$.r1("B_NAME"),flex:1},{xtype:"button",text:IRm$.r1("B_ADD"),handler:function(){var e,t,a=this.down("[name=m_new_item]"),n=this.down("[name=m_selector]"),l=this.down("[name=theme_new_name]"),o=this.down("[name=theme_name]");for(l.clearInvalid(),e=l.getValue(),t=0;t<o.store.data.items.length;t++)if(o.store.data.items[t].get("value")==e){e=null;break}if(!e)return l.markInvalid(),!1;a.setVisible(!1),n.setVisible(!0),o.store.add({name:e,value:e,data:[]}),o.setValue(e)},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){var e=this.down("[name=m_new_item]"),t=this.down("[name=m_selector]");e.setVisible(!1),t.setVisible(!0)},scope:this}]}]},{xtype:"fieldset",title:IRm$.r1("L_COLOR_SETS"),flex:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"gridpanel",name:"dsource",flex:1,selType:"checkboxmodel",selModel:{mode:"MULTI"},store:{fields:[]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"value",renderer:function(e,t,a){return"<div class='igc-colorset-icon' style='background-color:"+e+";'></div><span>"+e+"</span>"},editor:{type:"color"}},{text:IRm$.r1("B_COLOR"),dataIndex:"value2",width:120,editor:{type:"text"}}],tbar:[{xtype:"button",text:IRm$.r1("L_ADD_NEW"),handler:function(){var e=this._cur_target,t=this.down("[name=dsource]");e&&t.store.add({value:""})},scope:this},{xtype:"button",text:IRm$.r1("L_REMOVE_SELECTED"),handler:function(){var e,t=this.down("[name=dsource]"),a=t.getSelectionModel().selected;for(e=a.length-1;e>=0;e--)t.store.remove(a.items[e])},scope:this},{xtype:"button",iconCls:"ig-btn-up",text:IRm$.r1("B_UP"),width:80,handler:function(){this.changeOrder(-1)},scope:this},{xtype:"button",iconCls:"ig-btn-down",text:IRm$.r1("B_DOWN"),width:80,handler:function(){this.changeOrder(1)},scope:this}],listeners:{cellclick:function(e,t,a,n,l,o){},edit:function(e,t){"value2"==e.column&&t.value&&(t.record.set("value",t.value),t.record.set("value2",""))},scope:this}}]}]}],buttons:["->",{xtype:"button",text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{xtype:"button",text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){e._init()}}}),IG$.dlg_chart_clr.superclass.initComponent.call(this)}}),IG$.styleWizard=$s.extend(IG$.v$pnl,{layout:"border",closable:!0,iconCls:"icon-style",reportoption:null,callback:null,ignoreBase:0,loadGlobalStyle:function(){var e=this.down("[name=p_h]").getLayout(),t=new IG$._rpc$;e.setActiveItem(0),t.init(this,{ack:"appoption",payload:{address:"ReportStyle"},mbody:{}},this,this.rs_loadGlobalStyle,null),t.send()},rs_loadGlobalStyle:function(e){var t,a,n,l,o,s=this,i=e.themes,r=s.down("[name=c_themes]"),c=s.down("[name=stylelist]"),m=s.down("[name=basestyle]"),_=[],d=[],h={},u={},p={},y=[{name:""}],f=[];if(s.themes={},s._mc=e,o=s.allcolorset={},i){for(n={name:IRm$.r1("B_DEFAULT"),leaf:!1,expanded:!0,children:[],type:"default"},h[n.name]=n,d.push(n),n={name:IRm$.r1("B_CUSTOM"),leaf:!1,expanded:!0,children:[],type:"custom"},h[n.name]=n,d.push(n),a=0;a<i.length;a++)(t=i[a]).name,t.c_cset,l={_mc:t,name:t.name,styleinfo:[],base_styles:{},chart_color_set:t.chart_color_set},_.push({name:l.name,value:l.name}),s.themes[l.name]=l,l.chart_color_set&&$.each(l.chart_color_set,(function(e,t){o[e]||(o[e]=t)})),$.each([{name:IRm$.r1("B_DEFAULT"),custom:!1,nodename:"default_styles"},{name:IRm$.r1("B_CUSTOM"),custom:!0,nodename:"custom_styles"}],(function(e,a){var n,o,s,i,r,c=t[a.nodename];if(c)for(o=h[a.name],n=0;n<c.length;n++)i={name:(s=new IG$.clStyleObject(c[n],a.name.toLowerCase(),a.custom)).name,leaf:!0,custom:a.custom,basestylename:a.basestylename},a.custom||(a.basestylename||y.push({name:s.name,value:s.name}),l.base_styles[s.name]=s),l.styleinfo.push(s),r=a.name.toLowerCase()+"_"+s.name,u[r]||(o.children.push(i),u[r]=i,a.custom&&!p[s.name]&&(p[s.name]=c[n],f.push({name:s.name,kname:a.name,custom:a.custom,node:c[n]})))}));$.each(s.themes,(function(e,t){var a,n,l,s,i,r=0;if(!t.chart_color_set)for(a in t.chart_color_set={},IG$.__chartoption.chartcolors)for(t.chart_color_set[a]=[],n=0;n<IG$.__chartoption.chartcolors[a].length;n++)t.chart_color_set[a].push(IG$.__chartoption.chartcolors[a][n]);for(a in o)if(!t.chart_color_set[a])for(t.chart_color_set[a]=[],n=0;n<o[a].length;n++)t.chart_color_set[a].push(o[a][n]);for(a=0;a<f.length;a++){for(l=f[a],r=0,n=0;n<t.styleinfo.length;n++)if((s=t.styleinfo[n]).custom&&s.name==l.name){r=1;break}0==r&&(i=new IG$.clStyleObject(l.node,l.kname.toLowerCase(),l.custom),t.styleinfo.push(i))}}))}m.store.loadData(y),c.store.setRootNode({expanded:!0,text:IRm$.r1("B_STYLE"),name:IRm$.r1("B_STYLE"),children:d}),c.getRootNode().expand(),r.store.loadData(_),r.setValue(_.length?ig$.theme_id||_[0].value:null),s.upd_chart_clr()},upd_chart_clr:function(){var e,t,a=this.down("[name=c_themes]").getValue(),n=this.themes,l=[{name:IRm$.r1("B_SELECT"),value:""}],o=this.down("[name=c_cset]");if(a)for(k in e=n[a].chart_color_set=n[a].chart_color_set||IG$.__chartoption.chartcolors,t=n[a]._mc.c_cset,this.chart_color_map=e,e)l.push({name:k,value:k});o.store.loadData(l),o.setValue(t||"")},loadStyle:function(){var e=this,t=e.down("[name=c_themes]").getValue(),a=e.themes[t],n=e.down("[name=c_cset]"),l=e.down("[name=gs_enable]"),o=e.down("[name=gs_col]"),s=e.down("[name=gs_bs_brd_col]"),i=e.down("[name=gs_opa]"),r=e.down("[name=p_h]"),c=e.down("[name=b_r]");e.__cth&&(e.__cth.c_cset=n.getValue(),e.__cth.gs_enable=l.getValue(),e.__cth.gs_col=o.getValue(),e.__cth.gs_bs_brd_col=s.getValue(),e.__cth.gs_opa=i.getValue(),e.commitStyleItem()),a&&(e.__cth=a,l.setValue(a._mc.gs_enable),o.setValue(a._mc.gs_col),s.setValue(a._mc.gs_bs_brd_col),i.setValue(a._mc.gs_opa),r.getLayout().setActiveItem(0),c.setVisible(!1),e.upd_chart_clr())},editStyleItem:function(e){var t,a,n,l,o=this,s=o.__cth,i=o.down("[name=form_header]"),r=o.down("[name=form_data]"),c=o.down("[name=basestyle]");if(s)for(o.commitStyleItem(),t=0;t<s.styleinfo.length;t++)if(s.styleinfo[t].name==e){if(l=s.styleinfo[t],o._editingstyle=l,"custom"==l.itemtype||l.basestylename){for(a=0;a<s.styleinfo.length;a++)if(s.styleinfo[a].name==l.basestylename){n=s.styleinfo[a];break}o.ignoreBase=!0,c.setValue(n?n.name:""),o.ignoreBase=!1}i.loadStyleData.call(i,l.header,n?n.header:null),r.loadStyleData.call(r,l.data,n?n.data:null);break}},commitStyleItem:function(){var e,t=this,a=t.__cth,n=t._editingstyle,l=t.down("[name=form_header]"),o=t.down("[name=form_data]");o.updateStyleData.call(o),l.updateStyleData.call(l),n&&("custom"==n.itemtype||n.basestylename)&&(e=a.base_styles[n.basestylename])&&n.forceBsStyl(e,!0),a&&$.each(t.themes,(function(e,t){t.name!=a.name&&($.each(t.chart_color_set,(function(e,n){a.chart_color_set[e]||delete t.chart_color_set[e]})),$.each(a.chart_color_set,(function(e,a){var n;if(!t.chart_color_set[e])for(t.chart_color_set[e]=[],n=0;n<a.length;n++)t.chart_color_set[e].push(a[n])})))}))},_confirm:function(e){var t=this,a=t.down("[name=c_cset]"),n=t.down("[name=gs_enable]"),l=t.down("[name=gs_col]"),o=t.down("[name=gs_bs_brd_col]"),s=t.down("[name=gs_opa]");return t.__cth&&(t.__cth.c_cset=a.getValue(),t.__cth.gs_enable=n.getValue(),t.__cth.gs_col=l.getValue(),t.__cth.gs_bs_brd_col=o.getValue(),t.__cth.gs_opa=s.getValue()),t.commitStyleItem(),t.saveStyleItem(e)},saveStyleItem:function(e){var t=new IG$._rpc$,a={},n=this.themes;return a={meta_type:"report_themes",name:"ReportStyle",type:"AppOption",uid:"ReportStyle",themes:[]},$.each(n,(function(e,t){var n,l,o,s={};for(n=0;n<t.styleinfo.length;n++)s[(o=t.styleinfo[n]).name]=o;var i={name:t.name,c_cset:t.c_cset,gs_enable:t.gs_enable,gs_opa:t.gs_opa||.6,gs_col:t.gs_col,gs_bs_brd_col:t.gs_bs_brd_col,default_styles:[],custom_styles:[],chart_color_set:t.chart_color_set};for(n=0;n<t.styleinfo.length;n++)0==(o=t.styleinfo[n]).custom?o.basestylename?(l=s[o.basestylename],i.default_styles.push(o.getData(l))):i.default_styles.push(o.getData()):(l=s[o.basestylename],i.custom_styles.push(o.getData(l)));a.themes.push(i)})),e||(t.init(this,{ack:"appoption",payload:{address:"ReportStyle",option:"updatecontent"},mbody:a,meta_type:"report_themes"},this,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),t.send()),a},_exp:function(){var e,t,a=this;e=a._confirm(1),t=new IG$.dlg_syscon({instance:a.instance,meta_content:e,callback:new IG$.callBackObj(a,(function(e){a.rs_loadGlobalStyle(e)}))}),IG$.showDlg(a,t)},copyThemes:function(e,t){var a,n,l;for(a=0;a<e.styleinfo.length;a++)n=e.styleinfo[a],(l=new IG$.clStyleObject(null,n.itemtype,n.custom)).name=n.name,l.nodename=n.nodename,l.basestylename=n.basestylename,l.header=new IG$.clStyleItem(null,"Header"),l.data=new IG$.clStyleItem(null,"Data"),l.applyBaseStyle.call(l,n),t.styleinfo.push(l)},toolbarHandler:function(e){var t,a=this,n=a.down("[name=stylelist]");a.styleinfo;switch(e){case"cmd_refresh":a.loadGlobalStyle();break;case"cmd_add_custom":var l=new IG$.makeStyle({instance:a.instance,styleinfo:a.__cth.styleinfo,callback:new IG$.callBackObj(a,a.rs__appendCustomStyle)});IG$.checkLogin(a,l);break;case"cmd_add_theme":l=new IG$.makeStyle({instance:a.instance,m_theme:1,themes:a.themes,callback:new IG$.callBackObj(a,(function(e){var t,a,n,l,o=this,s=e[0],i=(e[1],o.down("[name=c_themes]"));if(s){for(n in o.themes){a=o.themes[n];break}if(t={_mc:{},name:s,c_cset:null,gs_enable:!1,gs_opa:.6,styleinfo:[],chart_color_set:null},a&&a.chart_color_set)for(n in t.chart_color_set={},a.chart_color_set)for(t.chart_color_set[n]=[],l=0;l<a.chart_color_set[n].length;l++)t.chart_color_set[n].push(a.chart_color_set[n][l]);o.copyThemes(o.__cth,t),o.themes[t.name]=t,i.store.add({name:s,value:s})}}))});IG$.checkLogin(a,l);break;case"cmd_remove_theme":IG$.confirmMessages(null,null,(function(e){if("yes"==e){var t,n,l=a.down("[name=c_themes]");if(a.__cth&&l.store.data.items.length>1){for(t=0;t<l.store.data.items.length;t++)if((n=l.store.data.items[t]).get("name")==a.__cth.name){l.store.remove(n);break}delete a.themes[a.__cth.name],a.__cth=null,l.setValue(l.store.data.items[0].get("value"))}}}),a,a);break;case"cmd_remove":a.down("[name=b_r]").setVisible(!1);(t=(t=n.getSelectionModel().getSelection())&&t.length>0?t[0]:null)&&1==t.get("custom")&&(stylename=t.get("name"),$.each(a.themes,(function(e,t){var a,n=t.styleinfo;for(a=0;a<n.length;a++)if(n[a].custom&&n[a].name==stylename){n.splice(a,1);break}})),t.remove())}},rs__appendCustomStyle:function(e){var t,a=e[0],n=e[1];if(n&&a){$.each(this.themes,(function(e,t){var l,o,s,i=t.styleinfo;for(l=0;l<i.length;l++)if(i[l].name==n){o=i[l];break}o&&((s=new IG$.clStyleObject(null,"item",!0)).name=a,s.nodename="ItemStyle",s.basestylename=n,s.header=new IG$.clStyleItem(null,"Header"),s.data=new IG$.clStyleItem(null,"Data"),i.push(s),s.applyBaseStyle.call(s,o))}));var l,o,s=this.down("[name=stylelist]").store.getRootNode();for(t=0;t<s.childNodes.length;t++)if("custom"==s.childNodes[t].get("type")){o=s.childNodes[t];break}l={name:a,leaf:!0,custom:!0},o.appendChild(l)}},updateBaseStyle:function(){var e=this,t=e._editingstyle,a=e.down("[name=form_header]"),n=e.down("[name=form_data]"),l=e.down("[name=basestyle]").getValue();bstyle=e.__cth.base_styles[l],t&&bstyle&&(t.basestylename=l,t.forceBsStyl(bstyle),a.loadStyleData(t.header),n.loadStyleData(t.data))},_config_chartcolors:function(){var e=new IG$.dlg_chart_clr({instance:this.instance,chart_color_map:this.chart_color_map,callback:new IG$.callBackObj(this,(function(e){this.upd_chart_clr()}))});IG$.showDlg(this,e)},initComponent:function(){var e=this,t=new IG$.styleEditor({instance:e.instance,title:IRm$.r1("L_STYLE_TITLE"),name:"form_header",htype:"hd",flex:1}),a=new IG$.styleEditor({instance:e.instance,title:IRm$.r1("L_STYLE_DATA"),name:"form_data",htype:"dt",flex:1});e.title=IRm$.r1("T_STYLE_WIZARD"),ig$.$l_=ig$.$l_||0,$s.apply(this,{defaults:{padding:3},dockedItems:[{xtype:"toolbar",dock:"top",plain:!0,items:[{iconCls:"icon-toolbar-save",tooltip:IRm$.r1("L_SAVE_CONTENT"),handler:function(){this._confirm()},scope:this},"-",{xtype:"combobox",fieldLabel:IRm$.r1("L_THEMES"),name:"c_themes",displayField:"name",labelWidth:60,labelAlign:"right",valueField:"value",editable:!1,queryMode:"local",store:{fields:["name","value"]},hidden:ig$.$l_>5,listeners:{change:function(e,t,a,n){this.loadStyle()},scope:this}},{iconCls:"icon-toolbar-add",tooltip:IRm$.r1("L_ADD_THEME"),text:IRm$.r1("L_ADD_THEME"),hidden:ig$.$l_>5,handler:function(){this.toolbarHandler("cmd_add_theme")},scope:this},{iconCls:"icon-toolbar-remove",tooltip:"Remove Theme",hidden:ig$.$l_>5,handler:function(){this.toolbarHandler("cmd_remove_theme")},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),tooltip:IRm$.r1("L_EXPORT"),hidden:ig$.$l_>5,handler:function(){this._exp()},scope:this}]}],items:[{xtype:"panel",width:270,border:1,region:"west",layout:"anchor",padding:5,title:ig$.$l_<5?IRm$.r1("L_GENERAL_OPTIONS"):null,items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},hidden:ig$.$l_>5,items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"displayfield",value:"Chart Style"},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_SET"),handler:function(){this._config_chartcolors()},scope:this}]},{xtype:"combobox",name:"c_cset",flex:1,displayField:"name",labelWidth:60,valueField:"value",editable:!1,queryMode:"local",store:{fields:["name","value"]}}]},{xtype:"fieldset",title:IRm$.r1("L_GRID_STRIPES"),anchor:"100%",layout:"anchor",paddingY:30,hidden:ig$.$l_>5,items:[{xtype:"checkbox",fieldLabel:IRm$.r1("L_GS_ENABLED"),name:"gs_enable",boxLabel:IRm$.r1("B_ENABLED")},{xtype:"fieldcontainer",anchor:"100%",fieldLabel:IRm$.r1("L_ALT_COLOR"),layout:"hbox",items:[{xtype:"textfield",name:"gs_col",width:60},{xtype:"splitter"},{xtype:"splitbutton",width:30,menu:{showSeparator:!1,items:[{xtype:"colorpicker",listeners:{select:function(e,t){this.down("[name=gs_col]").setValue("#"+t)},scope:e}},"-"]}}]},{xtype:"fieldcontainer",anchor:"100%",fieldLabel:IRm$.r1("L_BASE_BRD_CLR",null,"Base Border"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"gs_bs_brd_col",width:60},{xtype:"splitter"},{xtype:"splitbutton",width:30,menu:{showSeparator:!1,items:[{xtype:"colorpicker",listeners:{select:function(e,t){this.down("[name=gs_bs_brd_col]").setValue("#"+t)},scope:e}},"-"]}}]},{xtype:"numberfield",fieldLabel:IRm$.r1("B_OPACITY"),name:"gs_opa",width:200,minValue:0,maxValue:1,step:.1,value:.4}]},{xtype:"treepanel",title:IRm$.r1("B_STYLE"),name:"stylelist",preventHeader:!0,flex:1,split:!0,border:1,rootVisible:!1,hideHeaders:!0,autoScroll:!0,store:{xtype:"treestore",fields:["name","text","custom"],root:{expanded:!0,name:"Style",children:[]},folderSort:!1},columns:[{xtype:"treecolumn",text:IRm$.r1("B_TEXT"),flex:1,sortable:!1,dataIndex:"name"}],listeners:{itemclick:function(e,t,a,n,l){var o,s=this,i=t.get("name"),r=s.down("[name=b_r]"),c=s.down("[name=p_h]"),m=s.down("[name=p_d]"),_=(s.down("[name=p_dc]"),s.down("[name=basestyle]")),d=s.__cth?s.__cth.styleinfo:null,h=!1,u=!1;if(d){for(o=0;o<d.length;o++)if(d[o].name==i){h=!0;break}h&&(1==t.get("custom")&&(u=!0),m.setTitle("Edit : "+i),s.editStyleItem.call(s,i)),c.getLayout().setActiveItem(h?1:0),r.setVisible(u&&ig$.$l_<5),_.setVisible(u&&h)}},scope:this},tbar:[{iconCls:"icon-refresh",tooltip:IRm$.r1("L_REFRESH"),handler:function(){this.toolbarHandler("cmd_refresh")},scope:this},"-",{iconCls:"icon-toolbar-add",tooltip:"Add Custom Style",text:IRm$.r1("L_ADD_STYLE"),hidden:ig$.$l_>5,handler:function(){this.toolbarHandler("cmd_add_custom")},scope:this},{iconCls:"icon-toolbar-remove",tooltip:"Remove Style",name:"b_r",hidden:!0,handler:function(){this.toolbarHandler("cmd_remove")},scope:this}]}]},{xtype:"panel",region:"center",layout:"card",name:"p_h",items:[{html:'<div style="padding: 10px">'+IRm$.r1("L_CLICK_STYLE_TO_EDIT")+"</div>"},{xtype:"panel",layout:{type:"vbox",align:"stretch"},name:"p_dc",items:[{xtype:"combobox",name:"basestyle",fieldLabel:IRm$.r1("L_BASE_STYLE"),queryMode:"local",displayField:"name",valueField:"name",editable:!1,autoSelect:!0,hidden:!0,store:{fields:[{name:"name"}]},listeners:{change:function(){this.ignoreBase||this.updateBaseStyle()},scope:this}},{xtype:"tabpanel",title:IRm$.r1("B_EDIT"),name:"p_d",layout:{type:"fit",align:"stretch"},items:[a,t]}]}]}],listeners:{afterrender:function(){"g"==this.styletype&&this.loadGlobalStyle()}}}),IG$.styleWizard.superclass.initComponent.apply(this,arguments)}});
IG$.cubeStyle=$s.extend($s.window,{modal:!0,layout:"border",closable:!1,resizable:!0,width:720,height:500,reportoption:null,callback:null,globalstyle:null,globalstylemap:null,styleinfo:null,loadGlobalStyle:function(){var e=new IG$._rpc$;e.init(this,{ack:"appoption",payload:{address:"ReportStyle"},mbody:{}},this,this.rs_loadGlobalStyle,null),e.send()},rs_loadGlobalStyle:function(e){var t,l,a,n,o,s=e.themes[0],i=[{name:"Select Item",value:""}],m=(ig$.theme_id,["default_styles","custom_styles"]);if(this.globalstyle=[],this.globalstylemap={},s){for(n=0;n<m.length;n++)if(t=s[a=m[n]])for(o=0;o<t.length;o++)l=t[o],this.globalstyle.push(l),i.push({name:l.name,value:l.name}),this.globalstylemap[l.name]=l;for(a in this.globalstylemap)(l=this.globalstylemap[a]).basestylename&&this.globalstylemap[l.basestylename]&&this.globalstylemap[l.basestylename]}this.down("[name=base_style]").store.loadData(i),this.loadLocalStyle()},loadLocalStyle:function(){var e,t,l,a,n=this,o=n.down("[name=stylelist]"),s=[];if(n.down("[name=c_cset]").setValue(n.c_cset||""),n.styleinfo){for(a={name:"LocalStyle",leaf:!1,children:[]},s.push(a),e=0;e<n.styleinfo.length;e++)l={name:(t=n.styleinfo[e]).name,leaf:!0,custom:!1},t.basestylename&&n.globalstylemap[t.basestylename]&&n.globalstylemap[t.basestylename],a.children.push(l);o.store.setRootNode({expanded:!0,text:IRm$.r1("B_STYLE"),name:IRm$.r1("B_STYLE"),title:IRm$.r1("B_STYLE"),children:s})}},editStyleItem:function(e){var t,l=this,a=l.down("[name=form_header]"),n=l.down("[name=form_data]");for(l.commitStyleItem(),t=0;t<l.styleinfo.length;t++)if(l.styleinfo[t].name==e){l._edtItem=l.styleinfo[t],l._valForm=1,l.down("[name=sname]").setValue(l.styleinfo[t].name),l.down("[name=base_style]").setValue(l.styleinfo[t].basestylename||""),a.loadStyleData.call(a,l.styleinfo[t].header),n.loadStyleData.call(n,l.styleinfo[t].data),l._valForm=0;break}},commitStyleItem:function(){var e=this,t=e.down("[name=form_header]"),l=e.down("[name=form_data]"),a=e.down("[name=sname]").getValue();nvalue=e.down("[name=base_style]").getValue(),e._edtItem&&nvalue&&a&&(e._edtItem.basestylename=nvalue,e._edtItem.name=a,l.updateStyleData.call(l),t.updateStyleData.call(t))},_confirm:function(){var e,t,l=this;for(l.commitStyleItem(),e=0;e<l.styleinfo.length;e++)(t=l.styleinfo[e]).basestylename&&l.globalstylemap[t.basestylename]&&l.globalstylemap[t.basestylename];l.c_cset=l.down("[name=c_cset]").getValue(),l.callback&&l.callback.execute(l),l.close()},toolbarHandler:function(e){switch(e){case"cmd_add_custom":var t=new IG$.makeStyle({instance:this.instance,styleinfo:this.globalstyle,callback:new IG$.callBackObj(this,this.rs__appendCustomStyle)});IG$.checkLogin(this,t);break;case"cmd_delete":var l,a=this.down("[name=stylelist]").getSelectionModel().selected,n=a&&a.length>0?a.items[0]:null;if(n)for(l=0;l<this.styleinfo.length;l++)if(n.get("name")==this.styleinfo[l].name){this.styleinfo.splice(l,1),n.remove();break}}},rs__appendCustomStyle:function(e){var t=e[0],l=e[1];if(l&&t&&this.globalstylemap[l]){var a,n,o,s=this.down("[name=stylelist]"),i=s.store.getRootNode();o=i.childNodes[i.childNodes.length-1],n={name:t,leaf:!0,custom:!0},(a={}).name=t,a.nodename="ItemStyle",a.basestylename=l,a.header={},a.data={},this.styleinfo.push(a);var m=[s.store._record(n)];s.store._appendNode(m,o)}},initComponent:function(){var e,t=this,l=new IG$.styleEditor({instance:me.instance,title:IRm$.r1("L_STYLE_TITLE"),name:"form_header",htype:"hd"}),a=new IG$.styleEditor({instance:me.instance,title:IRm$.r1("L_STYLE_DATA"),name:"form_data",htype:"dt"}),n=[{name:IRm$.r1("B_DEFAULT"),value:""}],o=IG$.__chartoption.chartcolors;for(e in o)n.push({name:e,value:e});t.title=IRm$.r1("T_STYLE_WIZARD"),$s.apply(this,{defaults:{bodyStyle:"padding:3px"},items:[{xtype:"treepanel",title:IRm$.r1("B_STYLE"),name:"stylelist",preventHeader:!0,region:"west",width:160,split:!0,border:!1,rootVisible:!1,hideHeaders:!0,autoScroll:!0,store:{xtype:"treestore",fields:["name","text","type","pname","region","custom"],root:{expanded:!0,name:"Style",children:[]},folderSort:!1},useArrows:!0,dockedItems:[{xtype:"toolbar",dock:"top",plain:!0,items:[{iconCls:"icon-toolbar-add",tooltip:"Add Custom Style",text:IRm$.r1("L_ADD_NEW"),handler:function(){this.toolbarHandler("cmd_add_custom")},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("B_DELETE"),handler:function(){this.toolbarHandler("cmd_delete")},scope:this}]}],columns:[{xtype:"treecolumn",text:IRm$.r1("B_TEXT"),flex:2,sortable:!1,dataIndex:"name"},{xtype:"actioncolumn",width:26,items:[{iconCls:"icon-grid-delete",tooltip:"Delete item",handler:function(e,t,l){e.store.getAt(t)},getClass:function(e,t,l,a,n,o){return 0==a||0==l.isLeaf()||l.data&&0==l.data.custom?"idv-hd-val":""}}]}],listeners:{afterrender:function(){},itemclick:function(e,l,a,n,o){var s=l.get("name");0==l.isRoot()&&s&&t.editStyleItem.call(t,s)}}},{xtype:"form",region:"center",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"sname",fieldLabel:IRm$.r1("B_NAME")},{xtype:"combobox",fieldLabel:IRm$.r1("L_INHERIT"),name:"base_style",displayField:"name",valueField:"value",editable:!1,queryMode:"local",store:{fields:["name","value"]},listeners:{change:function(e,t,l){var a,n=this,o=n.down("[name=base_style]").getValue(),s=n.down("[name=form_header]"),i=n.down("[name=form_data]");n._valForm||o&&(a=n.globalstylemap[o])&&(s.loadStyleData.call(s,a.header),i.loadStyleData.call(i,a.data))},scope:this}},{xtype:"combobox",fieldLabel:IRm$.r1("L_CHART_STYLE"),name:"c_cset",displayField:"name",valueField:"value",editable:!1,queryMode:"local",store:{fields:["name","value"],data:n}},{xtype:"tabpanel",plain:!0,flex:1,items:[a,l]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(){this.loadGlobalStyle()}}}),IG$.cubeStyle.superclass.initComponent.apply(this,arguments)}});
IG$.folderManager=$s.extend($s.gridpanel,{loadRoot:function(e){var t,a,n=this;n.root=e,n.mpath=[n.root],a=n.root,(t=new IG$._rpc$).init(n,{ack:"content",payload:{uid:a.uid,nodepath:a.nodepath,name:a.name,type:a.type},mbody:{}},n,n.rs_loadRoot,null),t.send()},topWS:function(){this.loadRoot({uid:"/",nodepath:"/",name:"Workspace",type:"Folder"})},naviFolder:function(e){var t,a=e.get("type").toLowerCase();/(folder|cube|parent|table)/.test(a)&&(meta={uid:e.get("uid"),type:e.get("type"),nodepath:e.get("nodepath"),name:e.get("oname")||e.get("name"),manage:e.get("manage"),writable:e.get("writable")},".."==e.get("name")&&(delete meta.type,delete meta.name,delete meta.nodepath,null==meta.uid&&(meta.uid="/")),(t=new IG$._rpc$).init(this,{ack:"content",payload:{uid:meta.uid,nodepath:meta.nodepath,name:meta.name,type:meta.type},mbody:{subfolder:"T"}},this,this.rs_loadRoot,null),t.send())},rs_loadRoot:function(e){var t,a,n=e,o=e.children||[],i=[],r={},l=n.nodepath.split("/");if(this.cpath={uid:n.uid,name:n.name,nodepath:n.nodepath,type:n.type,writable:n.writable,manage:n.manage},l.length>1&&l[1]&&(r.oname=n.name,r.name="..",r.uid=n.uid==n.pid?null:n.pid,r.type="parent",i.push(r)),o){for(t=0;t<o.length;t++)(a=o[t]).iconcls=IG$.get_metatype_icon(a.type.toLowerCase(),a),i.push(a);IG$.sortMeta(i)}this.store.loadData(i)},refresh:function(){var e,t=this.cpath;(e=new IG$._rpc$).init(this,{ack:"content",payload:{uid:t.uid,nodepath:t.nodepath,name:t.name,type:t.type},mbody:{}},this,this.rs_loadRoot,null),e.send()},_createMetaObject:function(e,t,a,n){var o=new IG$.makeItem({instance:this.instance,parentnodepath:a,itemtype:e,parentuid:t});o.callback=new IG$.callBackObj(this,this.r_createMetaObject,n),IG$.checkLogin(this,o)},r_createMetaObject:function(e){this.refresh()},_renameMetaObject:function(e,t,a,n){var o=new IG$.makeItemEditor({instance:this.instance,itemname:e,uid:t,nodepath:a,itemtype:n,callback:new IG$.callBackObj(this,this.r_renameMetaObject,null)});IG$.checkLogin(this,o)},r_renameMetaObject:function(e){this.refresh()},toolbarHandler:function(e){var t=this;switch(e){case"cmd_new_folder":t._createMetaObject("Folder",t.cpath.uid,t.cpath.nodepath,null);break;case"cmd_refresh":t.refresh();break;case"cmd_gotop":t.loadRoot(t.root);break;case"cmd_top_ws":t.topWS();break;case"cmd_delete":t.deleteMetaObject();break;case"cmd_rename":var a,n=t.getSelectionModel();n.selected.items.length>0&&".."!=(a=n.selected.items[0]).get("name")&&(a.get("writable")||a.get("manage"))&&t._renameMetaObject(a.get("name"),a.get("uid"),a.get("nodepath"),a.get("type"))}},deleteMetaObject:function(){var e,t,a=this,n=[],o=0;if((t=a.getChecked()).length>0){for(e=0;e<t.length;e++)if(".."!=t[e].name&&(t[e].manage||t[e].writable))n.push({uid:t[e].uid,option:"delete"}),o++;else if(".."!=t[e].name){o=0,IG$.ShowError(IRm$.r1("E_PRIV_ERR")+t[e].name,a);break}o>0&&(req=new IG$._rpc$,req.init(a,{ack:"batchcontent",payload:n,mbody:{option:"delete"}},a,a.rdeleteMetaObject,null),req.send())}},rdeleteMetaObject:function(e){this.refresh()},getChecked:function(){var e,t,a=[];for(e=0;e<this.store.data.items.length;e++)this.store.data.items[e].get("selected")&&(t=this.store.data.items[e],a.push({uid:t.get("uid"),type:t.get("type"),nodepath:t.get("nodepath"),name:t.get("name"),manage:t.get("manage"),writable:t.get("writable")}));return a},initComponent:function(){var e=this;$s.apply(this,{name:"grd",store:{xtype:"store",fields:["uid","name","oname","nodepath","type","writable","manage","updatedate","updatedatafm","selected","iconcls"]},selType:"checkboxmodel",selModel:{mode:"MULTI",checkSelector:"cell"},columns:[{xtype:"templatecolumn",text:"",dataIndex:"iconcls",width:28,renderer:function(e){return"<div class='igc_g_icon "+e+"'></div>"}},{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1,tdCls:"igc-td-link",minWidth:200},{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:60},{text:IRm$.r1("L_LAST_UPD"),dataIndex:"updatedatefm",width:140}],dockedItems:[{xtype:"toolbar",dock:"top",items:[{xtype:"textfield",flex:1,name:"_filter",emptyText:IRm$.r1("L_SEARCH_KWD"),enableKeyEvents:!0,listeners:{keyup:function(e,t,a){13==t.keyCode&&IG$._dofilter(this,"grd",["name"])},scope:this}},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH"),handler:function(){IG$._dofilter(this,"grd",["name"])},scope:this}]},{xtype:"toolbar",dock:"top",items:[{xtype:"splitbutton",text:IRm$.r1("B_NEW"),menu:[{text:IRm$.r1("B_FOLDER"),handler:function(){this.toolbarHandler("cmd_new_folder")},scope:this}]},{text:IRm$.r1("B_RENAME"),handler:function(){this.toolbarHandler("cmd_rename")},scope:this},{iconCls:"icon-toolbar-remove",handler:function(){var e=this;IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("B_CD_CHS"),(function(t){"yes"==t&&e.toolbarHandler("cmd_delete")}))},scope:this},"->",{iconCls:"icon-tb-refresh",handler:function(){this.toolbarHandler("cmd_refresh")},scope:this},{xtype:"button",name:"t_btn",text:IRm$.r1("B_SHORTCUR"),disabled:!0,menu:{xtype:"menu",items:[{text:IRm$.r1("L_GO_TOP"),handler:function(){this.toolbarHandler("cmd_gotop")},scope:this},{text:IRm$.r1("L_WORKSPACE"),handler:function(){this.toolbarHandler("cmd_top_ws")},scope:this}]}}]}],listeners:{cellclick:function(t,a,n,o,i,r){2==n&&e.naviFolder.call(e,o)}}}),IG$.folderManager.superclass.initComponent.apply(this,arguments)}}),IG$.dlgFolderMgr=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:950,autoHeight:!0,dbscan:1,_init:function(){var e=this.grd_l,t=this.grd_r;e.loadRoot.call(e,this.root),t.loadRoot.call(t,this.root)},moveChecked:function(e,t){var a,n=this.grd_l,o=this.grd_r;if(a=e?n.getChecked.call(n):o.getChecked.call(o),n.cpath.uid!=o.cpath.uid){if(a&&a.length>0){var i,r,l=[],d=0;for(r=0;r<a.length;r++)".."!=a[r].name&&(a[r].writable||a[r].manage)&&(l.push({uid:a[r].uid}),d++);d>0&&((i=new IG$._rpc$).init(this,{ack:"helpcontent",payload:l,mbody:{option:1==t?"copy":"move",target:e?o.cpath.uid:n.cpath.uid}},this,this.r_moveSelItems,null,null),i.send())}}else IG$.alertmsg(ig$.appname,IRm$.r1("E_DUP_FOLDER"),null,null,1,"error")},r_moveSelItems:function(e){var t=this.grd_l,a=this.grd_r;IG$.alertmsg(ig$.appname,IRm$.r1("M_SUCCESS"),null,this,0,"success"),t.refresh.call(t),a.refresh.call(a)},initComponent:function(){var e=this;e.title=IRm$.r1("T_MGR_FOLDER"),e.grd_l=new IG$.folderManager({instance:e.instance,name:"grd_l",height:500,flex:1}),e.grd_r=new IG$.folderManager({instance:e.instance,name:"grd_r",height:500,flex:1});var t=60;$s.apply(this,{layout:"fit",items:[{xtype:"panel",layout:{type:"hbox",align:"stretch"},border:0,padding:10,items:[e.grd_l,{width:60,layout:{type:"vbox",align:"stretch",pack:"center"},items:[{xtype:"container",flex:1},{xtype:"displayfield",value:"Move"},{xtype:"button",text:">>",$w:t,tooltip:"Move items",handler:function(){this.moveChecked(!0,!1)},scope:this},{xtype:"button",text:"<<",$w:t,tooltip:"Move items",handler:function(){this.moveChecked(!1,!1)},scope:this},{xtype:"container",height:10},{xtype:"displayfield",value:"Copy"},{xtype:"button",text:">",$w:t,tooltip:"Copy items",handler:function(){this.moveChecked(!0,!0)},scope:this},{xtype:"button",text:"<",$w:t,tooltip:"Copy items",handler:function(){this.moveChecked(!1,!0)},scope:this},{xtype:"container",flex:1}]},e.grd_r]}],buttons:[{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this._init()}}}),IG$.dlgFolderMgr.superclass.initComponent.apply(this,arguments)}});
IG$.MetaEditorPanel=$s.extend($s.panel,{autoScroll:!1,layout:"fit",closable:!0,loadMetaContent:function(){if(this.uid){var t=new IG$._rpc$;t.init(this,{ack:"content",payload:{uid:this.uid},mbody:{option:"diagnostics"}},this,(function(t){content=JSON.stringify(t,null,2),tb_info=this.down("[name=tb_info]"),metaview=this.down("[name=metaview]"),tb_info.setValue(t.nodepath),metaview.setValue(content)}),null),t.send()}else IG$.alertmsg(ig$.appname,"Select item object!",null,null,0,"error")},saveContent:function(){var t,n,i=this.down("[name=metaview]"),a=new IG$._rpc$;try{t=JSON.parse(i.getValue())}catch(t){return void IG$.alertmsg(ig$.appname,"Error on json format! "+t,null,null,0,"error")}if(t&&t.content){if(!(n=t.content.meta_type))return void IG$.alertmsg(ig$.appname,"Item "+t.type+" can not be imported! "+e,null,null,0,"error");a.init(this,{ack:"writecontent",payload:{uid:this.uid},mbody:t.content,meta_type:n},this,(function(t){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),a.send()}},initComponent:function(){$s.apply(this,{padding:6,items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},tbar:[{text:IRm$.r1("L_SAVE_CONTENT"),handler:function(){this.saveContent()},scope:this},{text:IRm$.r1("L_REFRESH"),handler:function(){this.loadMetaContent()},scope:this},{xtype:"textfield",width:400,name:"tb_info",readOnly:!0}],padding:6,items:[{xtype:"textarea",name:"metaview",flex:1}]}],listeners:{afterrender:function(t){t.loadMetaContent()}}}),IG$.MetaEditorPanel.superclass.initComponent.call(this)}});
IG$.sysmon=$s.extend(IG$.v$pnl,{region:"center",layout:"fit",closable:!0,resizable:!1,autoHeight:!0,callback:null,bodyPadding:10,iconCls:"icon-ing-docdef",in$t:function(){this.down("[name=status]").setValue(""),this.down("[name=usr_status]").setValue(""),this.down("[name=e_stat]").setValue("F")},loadJobList:function(t,e){var a=new IG$._rpc$,i=this.down("[name=status]"),n=this.down("[name=ellapsetime]"),l=this.down("[name=bufsize]");a.init(this,{ack:"helpcontent",payload:{vopt:e||"1"},mbody:{option:"sysmon",ellapsetime:""+n.getValue(),bufsize:l.getValue(),status:i.getValue()}},this,this.rs_loadJobList,!1,[t,e]),a.send()},rs_loadJobList:function(t,e){var a,i,n,l,s,d=this,o=e[0],r=e[1],u=[],m=d.down("[name=grdjoblist]"),c=d.down("[name=grd_sql]"),x=d.down("[name=grd_esql]");if("2"==r){if(a=t.sql)for(n=0;n<a.length;n++){for(i=a[n],s={},l=0;l<i.length;l++)s["c"+l]=i[l];u.push(s)}if(c.store.loadData(u),u=[],a=t.sqlexec)for(n=0;n<a.length;n++){for(i=a[n],s={},l=0;l<i.length;l++)s["c"+l]=i[l];u.push(s)}x.store.loadData(u)}else m.store.loadData(t);o&&o>0&&(d.rtimer=setTimeout((function(){d.loadJobList.call(d,o,r)}),o))},getJobDetail:function(t){var e=new IG$._rpc$;e.init(this,{ack:"helpcontent",payload:{jobid:t},mbody:{option:"jobdetail"}},this,this.rs_getJobDetail,!1),e.send()},rs_getJobDetail:function(t){var e=t&&t.length?t[0]:null,a=this.down("[name=grdjobdetail]");this.jobdetail=e,a.store.loadData(e?e.runs:null)},cancelQuery:function(){var t=new IG$._rpc$;this.jobdetail&&this.jobdetail.uid&&(t.init(this,{ack:"olapservice",payload:{jobid:this.jobdetail.uid,option:"cancel"},mbody:{}},this,this.rcancelQuery,null),t.showerror=!1,t.send())},rcancelQuery:function(){this.jobdetail&&this.jobdetail.uid&&this.getJobDetail(this.jobdetail.uid)},refreshControl:function(t,e){var a=this,i=a.down("[name=btn_start]"),n=a.down("[name=btn_stop]"),l=a.down("[name=btn_refresh]"),s=a.down("[name=rsec]"),d=1e3*s.getValue();n.setDisabled(!t),i.setDisabled(t),l.setDisabled(t),s.setDisabled(t),clearTimeout(a.rtimer),a.rtimer=-1,1==t&&(a.rtimer=setTimeout((function(){a.loadJobList.call(a,d,e)}),d))},emailstatus:{A:"Waiting",F:"Failed",S:"Success",P:"Processing"},getEmailContent:function(){var t=this,e=t.down("[name=grd_email]"),a=new IG$._rpc$;a.init(t,{ack:"helpcontent",payload:{stat:t.down("[name=e_stat]").getValue()},mbody:{option:"mail_stat"}},t,(function(a){var i,n=a,l=t.emailstatus;for(i=0;i<n.length;i++)n[i].stat=l[n[i].status]||"Unknown";e.store.loadData(n)}),!1),a.send()},showMailDetail:function(t){var e=this,a=new IG$._rpc$;a.init(e,{ack:"helpcontent",payload:{sid:t},mbody:{option:"mail_content"}},e,(function(t){var a=IG$.XGetNode(t,"/smsg/mail"),i=e.emailstatus,n={},l=e.down("[name=m_d1]"),s=e.down("[name=m_d2]"),d=$("#ig_mail",s.body.dom);a&&((n=IG$.XGetAttrProp(a)).subject=IG$.XGetSubNodeText(a,"subject"),n.content=IG$.XGetSubNodeText(a,"content"),n.stat=i[n.mstat]||"Unknown"),d.contents().find("html").html(n?n.content:""),l.show()}),!1),a.send()},get_useraudit:function(){var t=this,e=t.down("[name=aud_user]"),a={userid:e.down("[name=aud_usr_name]").getValue(),email:e.down("[name=aud_usr_email]").getValue(),status:e.down("[name=usr_status]").getValue(),sub_option:"get_audit_user"},i=new IG$._rpc$;i.init(t,{ack:"helpcontent",payload:a,mbody:{option:"audit_user"}},t,(function(e){t.down("[name=grd_aud_user]").store.loadData(e)}),!1),i.send()},initComponent:function(){var t=this,e=t.instance;ig$.$l_=ig$.$l_||0,$s.apply(this,{items:[{xtype:"tabpanel",items:[{title:IRm$.r1("L_AUD_USER"),xtype:"panel",name:"aud_user",padding:5,layout:{type:"vbox",align:"stretch"},hidden:!1!==ig$.features.ig_audit_user,items:[{xtype:"fieldset",title:IRm$.r1("L_AUD_USER_FLT"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),name:"aud_usr_name"},{xtype:"textfield",fieldLabel:IRm$.r1("B_EMAIL"),name:"aud_usr_email"},{xtype:"combobox",fieldLabel:IRm$.r1("B_STATUS"),queryMode:"local",name:"usr_status",labelAlign:"right",displayField:"name",valueField:"value",editable:!1,store:{fields:["name","value"],data:[{name:IRm$.r1("B_ALL"),value:""},{name:IRm$.r1("B_FAIL"),value:"E"},{name:IRm$.r1("B_SUC"),value:"S"}]}},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_SEARCH"),handler:function(){this.get_useraudit()},scope:this}]},{xtype:"gridpanel",name:"grd_aud_user",flex:1,store:{},title:IRm$.r1("L_AUD_USER_GRID"),columns:[{text:IRm$.r1("B_NAME"),dataIndex:"uname",tdCls:"igc-td-link"},{text:IRm$.r1("B_ID"),dataIndex:"userid"},{text:IRm$.r1("B_EMAIL"),dataIndex:"email"},{text:IRm$.r1("L_LAST_ACC_DT"),dataIndex:"cdate_user",width:160},{text:IRm$.r1("L_SS_LOCKED"),dataIndex:"login_snooze",width:80,tdCls:"igc-td-link"},{text:IRm$.r1("B_STATUS"),dataIndex:"status",width:120,renderer:function(t,e,a){return"S"==a.get("status")?IRm$.r1("B_SUC"):IRm$.r1("B_FAIL")}},{text:IRm$.r1("L_LAST_ACCESSED"),dataIndex:"lhostip"}],listeners:{cellclick:function(t,e,a,i,n,l){var s=this;if(0==a){var d,o=i.get("tuid");o&&(d=new IG$.usrAudDet({instance:s.instance,tuid:o,rec:i}),IG$.checkLogin(s,d))}else 4==a&&"T"==i.get("login_snooze")&&IG$.confirmMessages(ig$.appname,IRm$.r1("L_RELEASE_LOCK"),(function(t){if("yes"==t){var e=new IG$._rpc$;e.init(s,{ack:"helpcontent",payload:{sessid:i.get("sessid"),tuid:i.get("tuid"),sub_option:"release_lock"},mbody:{option:"audit_user"}},s,(function(t){s.get_useraudit()}),!1),e.send()}}))},scope:this}}]},{xtype:"container",title:"Report Logs",hidden:ig$.$l_>5||!1!==ig$.features.ig_audit_rpt,layout:{type:"vbox",align:"stretch"},padding:5,items:[{xtype:"fieldset",title:"System Monitoring and Control",layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldcontainer",layout:{type:"hbox",align:"stretch",defaultMargins:{top:0,left:0,right:10,bottom:0}},items:[{xtype:"numberfield",labelAlign:"right",name:"rsec",fieldLabel:IRm$.r1("L_AUTO_REF_SEC"),value:60},{xtype:"button",name:"btn_start",text:"Start",handler:function(){this.down("[name=rsec]").getValue()>0&&this.refreshControl(!0)},scope:this},{xtype:"button",name:"btn_stop",text:"Stop",disabled:!0,handler:function(){this.refreshControl(!1)},scope:this},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_REFRESH"),name:"btn_refresh",handler:function(){this.loadJobList()},scope:this}]},{xtype:"fieldcontainer",layout:{type:"hbox",defaultMargins:{top:0,left:0,right:10,bottom:0}},items:[{xtype:"combobox",queryMode:"local",fieldLabel:IRm$.r1("B_CONDITIONS"),name:"status",labelAlign:"right",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:IRm$.r1("B_ALL"),value:""},{name:"STAT_START",value:"STAT_START"},{name:"STAT_FAILED_ERROR",value:"STAT_FAILED_ERROR"},{name:"STAT_PREPARE_STATEMENT",value:"STAT_PREPARE_STATEMENT"},{name:"STAT_BEFORE_EXECUTE_QRY",value:"STAT_BEFORE_EXECUTE_QRY"},{name:"STAT_END_QUERY_EXECUTION",value:"STAT_END_QUERY_EXECUTION"},{name:"STAT_CANCELED",value:"STAT_CANCELED"},{name:"STAT_FINISHED_WITH_ERROR",value:"STAT_FINISHED_WITH_ERROR"},{name:"STAT_FINISHED",value:"STAT_FINISHED"}]}},{xtype:"numberfield",name:"ellapsetime",labelAlign:"right",fieldLabel:IRm$.r1("L_ELLAPSED_THEN_SEC"),labelWidth:180,value:60},{xtype:"numberfield",name:"bufsize",labelAlign:"right",fieldLabel:IRm$.r1("L_BUF_SIZE"),minValue:10,maxValue:1e3,value:100}]}]},{xtype:"gridpanel",name:"grdjoblist",flex:1,store:{xtype:"store",fields:["uid","userid","status","statuscode","totalellapsed","haserror","errormsg","starttime","endtime","objectname","objectpath","objectuid"]},columns:[{xtype:"gridcolumn",text:"UserID",dataIndex:"userid",flex:1},{xtype:"gridcolumn",text:IRm$.r1("B_STATUS"),dataIndex:"status",width:120},{xtype:"gridcolumn",text:IRm$.r1("B_NAME"),dataIndex:"objectname",width:120},{xtype:"gridcolumn",text:IRm$.r1("B_PATH"),dataIndex:"objectpath",width:200},{xtype:"gridcolumn",text:"JobID",hidden:!0,dataIndex:"uid",width:80},{xtype:"gridcolumn",text:"Ellapsed",width:60,dataIndex:"totalellapsed"},{xtype:"gridcolumn",text:"Start",width:80,dataIndex:"starttime"},{xtype:"gridcolumn",text:"End",width:80,dataIndex:"endtime"},{xtype:"gridcolumn",text:"Error",width:40,dataIndex:"haserror"}],listeners:{itemclick:function(t,e,a,i,n,l){var s=e.get("uid");this.getJobDetail(s)},scope:this}},{xtype:"fieldset",collapsible:!1,flex:1,layout:"fit",title:"Action Detail",items:[{xtype:"gridpanel",name:"grdjobdetail",store:{xtype:"store",fields:["status","statuscode","ellapsed"]},buttons:[{xtype:"button",text:"Cancel Job",handler:function(){this.cancelQuery()},scope:this},{xtype:"button",text:"Open in folder",handler:function(){e.mainPanel&&window.api&&this.jobdetail&&this.jobdetail.objectpath&&api.navigateTree.call(api,{name:this.jobdetail.objectname,nodepath:this.jobdetail.objectpath,uid:this.jobdetail.objectuid})},scope:this}],columns:[{xtype:"gridcolumn",flex:1,text:"Action type",dataIndex:"status"},{xtype:"gridcolumn",text:"Ellapsed time",dataIndex:"ellapsed"}]}]}]},{xtype:"container",title:"JDBC Monitoring",hidden:ig$.$l_>5||!1!==ig$.features.ig_audit_jdbc,layout:"border",items:[{xtype:"panel",region:"north",layout:"vbox",items:[{xtype:"button",text:IRm$.r1("B_REFRESH"),handler:function(){this.loadJobList(null,"2")},scope:this}]},{xtype:"container",flex:1,layout:{type:"vbox",align:"stretch"},region:"center",items:[{xtype:"gridpanel",flex:1,title:"SQL Details",name:"grd_sql",store:{xtype:"store",fields:["c0","c1","c2","c4","c5"]},columns:[{text:"No.",dataIndex:"c0",width:40},{text:"Date",dataIndex:"c1"},{text:"ExecTime",dataIndex:"c2",width:50},{text:"SQL",dataIndex:"c4",flex:1},{text:"Error",dataIndex:"c5",flex:1}]},{xtype:"gridpanel",flex:1,title:"Exec SQL",name:"grd_esql",store:{xtype:"store",fields:["c0","c1","c2","c4"]},columns:[{text:"No.",dataIndex:"c0",width:40},{text:"Date",dataIndex:"c1"},{text:"ExecTime",dataIndex:"c2",width:50},{text:"SQL",dataIndex:"c4",flex:1}]}]},{xtype:"container",region:"east",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",flex:1,title:"Request Count"},{xtype:"panel",flex:1,title:"Running"}]}]},{xtype:"container",title:"Email Sender Logs",hidden:ig$.$l_>5||!1!==ig$.features.ig_audit_email,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",layout:"hbox",items:[{xtype:"fieldcontainer",flex:1,layout:"hbox",items:[{xtype:"combobox",queryMode:"local",fieldLabel:IRm$.r1("B_STATUS"),name:"e_stat",labelAlign:"right",displayField:"name",valueField:"value",editable:!1,autoSelect:!0,store:{xtype:"store",fields:["name","value"],data:[{name:"Failed",value:"F"},{name:"Sending",value:"P"},{name:"Waiting",value:"A"},{name:"Success",value:"S"},{name:IRm$.r1("B_ALL"),value:""}]}}]},{xtype:"button",text:"Run",handler:function(){this.getEmailContent()},scope:this}]},{xtype:"gridpanel",flex:1,title:"Email Logs",name:"grd_email",store:{xtype:"store",fields:["sid","iuid","snder","email","cdate","mdate","mstat","stat","msgtype","subject"]},columns:[{text:"Sender",dataIndex:"snder",width:120},{text:"Email",dataIndex:"email",width:120},{text:"Modified Date",dataIndex:"mdate",width:50},{text:"Created Date",dataIndex:"cdate",width:50},{text:"Subject",dataIndex:"subject",tdCls:"igc-td-link",flex:1},{text:"Status",dataIndex:"stat",width:80}],listeners:{cellclick:function(t,e,a,i,n,l){4==a&&this.showMailDetail(i.get("sid"))},scope:this}},{xtype:"panel",layout:"fit",hidden:!0,flex:1,name:"m_d1",items:[{name:"m_d2",html:"<div class='igc-mail-detail'><iframe id='ig_mail' class='igc-mail-detail-if'></iframe></div>"}]}]}]}],listeners:{afterrender:function(t){this.in$t()}}}),IG$.sysmon.superclass.initComponent.apply(this,arguments)}}),IG$.usrAudDet=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:650,height:520,init_f:function(){var t=new IG$._rpc$;t.init(this,{ack:"helpcontent",payload:{tuid:this.tuid,sub_option:"get_audit_user_detail"},mbody:{option:"audit_user"}},this,(function(t){var e=this.down("[name=grd_hist]");t&&$.each(t,(function(t,e){e.status_desc&&(e.status_desc=IRm$.r1(e.status_desc))})),e.store.loadData(t)}),null),t.send()},initComponent:function(){var t=this,e=t.rec;e&&(t.title=IRm$.r1("L_USR_AUD_TITLE",e.get("uname")+"("+e.get("cdate_user")+")")),$s.apply(this,{defaults:{padding:10},items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},padding:10,defaults:{anchor:"100%"},items:[{xtype:"gridpanel",name:"grd_hist",flex:1,store:{},columns:[{text:IRm$.r1("B_TYPE"),dataIndex:"status_desc",width:120},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1},{text:IRm$.r1("L_LAST_ACC_DT"),dataIndex:"cdate_user",width:140}]}]}],buttons:["->",{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(t){this.init_f()}}}),IG$.usrAudDet.superclass.initComponent.apply(this,arguments)}});
IG$.sys_resource=$s.extend(IG$.v$pnl,{region:"center",layout:"fit",closable:!0,resizable:!1,autoHeight:!0,callback:null,bodyPadding:10,iconCls:"icon-ing-docdef",in$t:function(){this.getSvrInfo()},getRcs:function(){var e=new IG$._rpc$;e.init(this,{ack:"infosvr",payload:{address:"/resources"},mbody:{option:"getrs"}},this,this.rs_getRcs,!1),e.send()},getSvrInfo:function(){var e=new IG$._rpc$;e.init(this,{ack:"infosvr",payload:{address:"/serverinfo"},mbody:{option:"getrs"}},this,this.rs_getSvrInfo,!1),e.send()},rs_getRcs:function(e){this.setMemory(e.meminfo),this.setDisk(e.diskinfo),this.setOS(e.osinfo)},rs_getSvrInfo:function(e){this.licinfo=e,this.getRcs()},formatMem:function(e){var t="b",s=e;return s>1e3&&(t="M",(s/=1e3)>1e3&&(t="G",s/=1e3)),s.toFixed(0)+" "+t},setMemory:function(e){var t,s,a=this,i=a.down("[name=g_mem]"),l=[];if(!a.m_charts){var n=a.down("[name=p_mem]"),r=$(".idv-rcs-mem",n.el.dom),d=[{name:"free",title:"Free Memory"},{name:"allocated",title:"Allocated"},{name:"appfree",title:"Application Free"},{name:"max",title:"Max Memory",chart:!1},{name:"totalfree",title:"Free Total",chart:!1}];r.empty(),a.clen=0,$.each(d,(function(e,t){if(0!=t.chart){var s=$("<div class='idv-rcs-pnl'><div class='idv-rcs-title'>"+t.title+"</div><div class='idv-rcs-chart'></div></div>").appendTo(r);t.el=s,t.dc=$(".idv-rcs-chart",t.el),t.clabel=$("<div class='idv-rcs-label'></div>").appendTo(t.dc),t.chart=t.dc.easyPieChart({size:IG$.j$ext._w(t.dc)}),a.clen++}})),a.m_charts=d,a.resizeMemChart()}if(t=a.m_charts,e){s=e;var o=Number(s.totalfree),c=Number(s.max);$.each(t,(function(e,t){var i,n=Number(s[t.name]);switch(l.push({name:t.title,value:n}),t.name){case"free":case"appfree":t.value=100*n/o,i=a.formatMem(n)+"<br>"+a.formatMem(o);break;case"allocated":t.value=100*n/c,i=a.formatMem(n)+"<br>"+a.formatMem(c)}t.chart&&(t.chart.data("easyPieChart").update(t.value),t.clabel.html(i))}))}i.store.loadData(l)},resizeMemChart:function(){var e,t,s,a=this.down("[name=p_mem]"),i=$(a.body.dom),l=$(".idv-rcs-mem",i),n=IG$.j$ext._w(i),r=IG$.j$ext._h(i),d=this.m_charts,o=0;if(IG$.j$ext._w(l,n),IG$.j$ext._h(l,r),d)for(t=n/this.clen,e=0;e<d.length;e++)(s=d[e]).chart&&(IG$.j$ext._w(s.el,t),IG$.j$ext._h(s.el,r),s.el.css("left",o),s.dc.css({left:(t-90)/2,top:(r-90)/2+20}),o+=t)},setDisk:function(e){var t,s,a,i,l=this,n=l.down("[name=g_disk]"),r=[],d=l.down("[name=p_dsk]"),o=$(".idv-rcs-dsk",d.el.dom);if(l.dlen=0,l.m_dsks=[],l.h_dsks=l.h_dsks||{},e){for(a=0;a<e.length;a++)p=e[a],l.h_dsks[p.name]?s=l.h_dsks[p.name]:((s={el:t=$("<div class='idv-rcs-pnl-dsk'><div class='idv-rcs-title'>"+p.name+"</div><div class='idv-rcs-chart'></div></div>").appendTo(o),dc:$(".idv-rcs-chart",t)}).clabel=$("<div class='idv-rcs-label'></div>").appendTo(s.dc),s.chart=s.dc.easyPieChart({size:IG$.j$ext._w(s.dc)}),l.h_dsks[p.name]=s),i=Number(p.total)-Number(p.usable),i=Number(p.total)>0?100*i/Number(p.total):0,s.chart.data("easyPieChart").update(i),s.clabel.text(p.name+" : "+i.toFixed(0)+"%"),l.dlen++,r.push(p),l.m_dsks.push(s);l.resizeDiskChart()}n.store.loadData(r)},resizeDiskChart:function(){var e,t,s,a=this.down("[name=p_dsk]"),i=$(a.body.dom),l=$(".idv-rcs-dsk",i),n=IG$.j$ext._w(i),r=IG$.j$ext._h(i),d=this.m_dsks;if(IG$.j$ext._w(l,n),IG$.j$ext._h(l,r),d)for(e=0;e<d.length;e++)(s=d[e]).chart&&(IG$.j$ext._w(s.el,n),t=IG$.j$ext._h(s.el),s.dc.css({left:(n-90)/2,top:(t-90)/2+20}))},setOS:function(e){var t,s,a,i=this.down("[name=p_os]"),l=$(".idv-os-pnl",i.el.dom),n=this.licinfo;if(l.empty(),e){for(a in ul=$("<ul class='idv-os-ul'></ul>").appendTo(l),e)t=$("<li><span class='idv-os-type'>"+a+"</span> : <span class='idv-os-val'>"+e[a]+"</span></li>"),ul.append(t);if(ul=$("<div class='idv-lic-dv'><span>License Information</span></div>").appendTo(l),ul=$("<ul class='idv-lic-ul'></ul>").appendTo(ul),n){for(s in n)"access_ip"!=s&&"update_history"!=s&&(t=$("<li><span class='idv-os-type'>"+s+"</span> : <span class='idv-os-val'>"+n[s]+"</span></li>"),ul.append(t));if(n.access_ip)for(ul=$("<div class='idv-lic-dv'><span>Accessed IP</span></div>").appendTo(l),a=0;a<n.access_ip.length;a++)t=$("<li><span class='idv-os-val'>"+n.access_ip[a]+"</span></li>"),ul.append(t)}}},initComponent:function(){var e=this;e.title=IRm$.r1("T_SYS_RES"),$s.apply(this,{tbar:[{xtype:"button",iconCls:"icon-refresh",tooltip:IRm$.r1("L_REFRESH"),handler:function(){this.getSvrInfo()},scope:this}],items:[{xtype:"panel",layout:"border",border:0,items:[{xtype:"panel",region:"north",height:200,border:0,layout:{type:"hbox",align:"stretch"},items:[{xtype:"panel",name:"p_mem",title:"Memory Resources",layout:"fit",flex:1,html:"<div class='idv-rcs-mem'></div>",listeners:{resize:function(){this.resizeMemChart()},scope:this}}]},{xtype:"panel",region:"center",border:1,layout:{type:"hbox",align:"stretch"},flex:1,items:[{xtype:"panel",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"gridpanel",title:"Memory",name:"g_mem",flex:1,store:{xtype:"store",fields:["name","value"]},columns:[{xtype:"gridcolumn",text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"},{xtype:"gridcolumn",text:IRm$.r1("B_VALUE"),dataIndex:"value",flex:1}]},{xtype:"gridpanel",title:"Disk",name:"g_disk",flex:1,store:{xtype:"store",fields:["name","total","free","usable"]},columns:[{xtype:"gridcolumn",text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"},{xtype:"gridcolumn",text:"Total",dataIndex:"total",flex:1},{xtype:"gridcolumn",text:"Free",dataIndex:"free",flex:1},{xtype:"gridcolumn",text:"usable",dataIndex:"usable",flex:1}]}]},{xtype:"panel",name:"p_dsk",flex:1,layout:"fit",html:"<div class='idv-rcs-dsk'></div>",listeners:{resize:function(){this.resizeDiskChart()},scope:this}},{xtype:"panel",title:"System Info",name:"p_os",layout:"fit",flex:1,html:"<div class='idv-os-pnl'></div>"}]}]}],listeners:{afterrender:function(e){this.in$t()}}}),IG$.sys_resource.superclass.initComponent.apply(this,arguments)}});
IG$._I7a_=$s.extend($s.window,{modal:!0,title:"Page Config",layout:"fit",width:400,autoHeight:!0,initApp:function(){var e,t=this;t.rec&&(e=t.rec.get("options")||{},t.down("[name=ltype]").setValue(e.ltype||""),t.down("[name=_h]").setValue(e.html),t.down("[name=_t]").setValue(e.tmpl),t.down("[name=_ra]").setValue(e.rptl),t.rptl_uid=e.rptl_uid,t.down("[name=_s]").setValue(e.scrp))},_2:function(){var e=this,t=e.down("[name=ltype]").getValue();$.each(["_h","_r","_t"],(function(n,i){e.down("[name="+i+"]").setVisible(!(!t||"_"+t.charAt(0)!=i))}))},_3:function(){var e,t=this,n=t.rec;n&&((e=n.get("options")||{}).ltype=t.down("[name=ltype]").getValue(),e.html=t.down("[name=_h]").getValue(),e.tmpl=t.down("[name=_t]").getValue(),e.rptl=t.down("[name=_ra]").getValue(),e.rptl_uid=t.rptl_uid,e.scrp=t.down("[name=_s]").getValue(),n.set("options",e)),this.close()},initComponent:function(){$s.apply(this,{items:[{xtype:"panel",layout:"anchor",bodyPadding:10,defaults:{anchor:"100%"},items:[{xtype:"combobox",fieldLabel:"Load Type",name:"ltype",queryMode:"local",editable:!1,valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"],data:[{name:"No Action",value:""},{name:"Template",value:"template"},{name:"Load HTML",value:"html"},{name:"Open Report",value:"report"}]},listeners:{change:function(){this._2()},scope:this}},{xtype:"textfield",name:"_h",fieldLabel:"Default HTMLPage"},{xtype:"fieldcontainer",name:"_r",layout:"hbox",fieldLabel:"Report",items:[{xtype:"textfield",name:"_ra",readOnly:!0,emptyText:IRm$.r1("M_SEL_ITEM"),flex:1},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH"),handler:function(){var e=this,t=new IG$.metaSelectDlg({instance:e.instance,visibleItems:"workspace;folder;report;dashboard",tree_options:{cubebrowse:!1},callback:new IG$.callBackObj(e,(function(t){e.down("[name=_ra]").setValue(t.name),e.rptl_uid=t.uid}))});IG$.checkLogin(this,t)},scope:this}]},{xtype:"combobox",name:"_t",queryMode:"local",fieldLabel:"Template Name",editable:!1,valueField:"value",displayField:"name",store:{xtype:"store",fields:["name","value"]}},{xtype:"textfield",fieldLabel:"After Javascript",name:"_s"}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._3()},scope:this},{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}]}),IG$._I7a_.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this.initApp()}}}),IG$.dashboardmenu=$s.extend(IG$.v$pnl,{scroll:!1,initialized:!1,hideMode:"offsets",layout:"fit",bodyPadding:5,border:0,load_content:function(){var e=this,t=new IG$._rpc$,n="/SYS_Config/dashboardmenu";t.showerror=!1,t.init(e,{ack:"content",payload:{uid:n},mbody:{}},e,e._l1,(function(t){var i,a=!0;return"0x1400"==t.errorcode&&((i=new IG$._rpc$).init(e,{ack:"writecontent",payload:{address:n,name:"dashboardmenu",type:"PrivateContent"},mbody:{},meta_type:"dashboard_menu"},e,e.load_content),i.send(),a=!1),a})),t.send()},_l1:function(e){var t,n=this.down("[name=menust]");this.appinfo=e,t={name:"Menu",level:-1,option:{},description:"Top Menu",expanded:!0,children:this.appinfo.menustructure},n.store.setRootNode(t,1)},_l2:function(e){var t,n,i,a=this,o=a.down("[name=menust]"),l=o.getSelectionModel().selected,r=a.appinfo._a;switch(e){case 0:l&&l.length>0&&(t={name:"New Menu"},l.items[0].appendChild(t,!1,!0),l.items[0].expand());break;case 1:l&&l.length>0&&((i=l.items[0]).isRoot()||(n=i.get("sid"),delete r.map[n],i.remove()));break;case 2:a._m3(o,-1,!1);break;case 3:a._m3(o,0,!1);break;case 4:a._m3(o,1,!0)}},_l3:function(){var e=this.down("[name=menust]").store.getRootNode(),t={children:[]},n=this.appinfo,i=n.menustructure;this._l8(),this._l5(i,e,t),n.menustructure=t.children},_l5:function(e,t,n){var i,a,o;for(i=0;i<t.childNodes.length;i++)o={name:(a=t.childNodes[i]).get("name"),sid:a.get("sid"),description:a.get("description"),items:a.get("items"),children:null,level:n.level+1,options:a.get("options")},n.children=n.children||[],n.children.push(o),a.hasChildNodes()&&this._l5(e,a,o)},l4:function(e){switch(e){case 0:this._l3(),this._l6()}},_l6:function(){var e=new IG$._rpc$,t=this.appinfo;e.init(this,{ack:"writecontent",payload:{uid:t.uid},mbody:t,meta_type:"dashboard_menu"},this,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")})),e.send()},moveGridSelection:function(e,t){var n=e.getSelectionModel().getSelection(),i=n&&n.length?n[0]:null;if(i){var a=e.getStore().indexOf(i);if(t<0){if(--a<0)return}else if(++a>=e.getStore().getCount())return;e.getStore().remove(i),i=e.getStore().insert(a,i),e.getSelectionModel().select(i,!0)}},_m3:function(e,t,n){var i=e.getSelectionModel().getSelection(),a=i&&i.length?i[0]:null;if(a&&(!a||a.parentNode)){var o,l=a.parentNode,r=l.indexOf(a);if(n){if(!(o=l.parentNode))return;l.removeChild(a),a=o.insertChild(o.childNodes.length,a),e.getSelectionModel().select(a,!0)}else{if(t<0){if(--r<0)return}else if(++r>=l.childNodes.length)return;l.removeChild(a),a=l.insertChild(r,a),e.getSelectionModel().select(a,!0)}}},_l7:function(e){var t,n,i,a,o,l=this.down("[name=mgrid]"),r=this.appinfo._a;switch(e){case 0:break;case 1:for(t=l.getSelectionModel().selected,i=0;i<t.length;i++)if(n=t.items[i],l.store.remove(n),o=r.map[n.get("sid")])for(a=0;a<o.items.length;a++)if(o.items[a].uid==n.get("uid")){o.items.splice(a,1);break}break;case 2:this.moveGridSelection(l,-1);break;case 3:this.moveGridSelection(l,1)}},updateGridContent:function(e){var t=this.down("[name=mg]"),n=new IG$._rpc$;e.get("uid")?(n.init(this,{ack:"content",payload:{uid:e.get("uid")},mbody:{subfolder:"T"}},this,(function(e){var n,i,a=[];if(e.children)for(n=0;n<e.children.length;n++)i=e.children[n].type.toLowerCase(),/report|folder/.test(i)&&a.push(e.children[n]);t.store.loadData(a)})),n.send()):t.store.loadData([])},_l8:function(){var e,t,n,i,a=this.down("[name=menust]").getSelectionModel().selected,o=this.down("[name=mgrid]"),l=(this.appinfo._a,[]);if(a&&a.length>0){for(i=(n=a.items[0]).get("sid"),e=0;e<o.store.data.items.length;e++)t=o.store.data.items[e],l.push({uid:t.get("uid"),name:t.get("name"),type:t.get("type"),sid:i,nodepath:t.get("nodepath")});n.set("items",l)}},_1:function(e){this.appinfo,e.get("sid");var t=new IG$._I7a_({instance:this.instance,rec:e});IG$.checkLogin(this,t)},initComponent:function(){var e=this;$s.apply(this,{items:[{xtype:"panel",layout:{type:"vbox",align:"stretch"},border:0,defaults:{anchor:"100%"},items:[{xtype:"panel",border:0,flex:1,layout:{type:"border"},tbar:[{text:IRm$.r1("B_SAVE"),handler:function(){this.l4(0)},scope:this},{text:IRm$.r1("L_REFRESH"),handler:function(){this.load_content()},scope:this}],items:[{xtype:"panel",region:"center",flex:2,border:0,layout:"border",items:[{xtype:"treepanel",region:"center",flex:1,title:"Menu Structures",name:"menust",rootVisible:!0,plugins:[{ptype:"cellediting"}],store:{xtype:"treestore",proxy:{type:"memory"},fields:["name","description","sid"]},columns:[{xtype:"treecolumn",text:IRm$.r1("B_TITLE"),dataIndex:"name",editor:"textfield",minWidth:200},{text:IRm$.r1("B_DESC"),dataIndex:"description",editor:"textfield",flex:1,minWidth:200},{xtype:"actioncolumn",width:50,items:[{iconCls:"icon-grid-config",tooltip:IRm$.r1("B_CONFIG_ITEM"),handler:function(e,t,n,i,a,o){this._1(o)},scope:this}]}],listeners:{beforeselect:function(e,t,n,i){this._l8()},cellclick:function(e,t,n,i,a,o){i.get("sid");var l=i.get("items")||[],r=this.down("[name=mgrid]");this.appinfo;r.store.loadData(l)},scope:this},tbar:[{text:IRm$.r1("L_ADD_NEW"),handler:function(){e._l2.call(e,0)}},{text:IRm$.r1("L_REMOVE_SELECTED"),handler:function(){e._l2.call(e,1)}},{text:IRm$.r1("B_MOVE_UP"),handler:function(){e._l2.call(e,2)}},{text:IRm$.r1("B_MOVE_DOWN"),handler:function(){e._l2.call(e,3)}},{text:IRm$.r1("B_MOVE_LEFT"),hidden:!0,handler:function(){e._l2.call(e,4)}}]},{xtype:"gridpanel",region:"south",name:"mgrid",selModel:{selection:"checkboxmodel",checkSelector:".x-grid-cell"},viewConfig:{plugins:{ptype:"gridviewdragdrop",ddGroup:"_I$RD_G_",enableDrop:!0,enableDrag:!1}},split:!0,flex:1,title:IRm$.r1("L_C_ITEMS"),tbar:[{text:IRm$.r1("L_ADD_NEW"),hidden:!0,handler:function(){this._l7(0)},scope:this},{text:IRm$.r1("L_REMOVE_SELECTED"),handler:function(){this._l7(1)},scope:this},{text:IRm$.r1("B_MOVE_UP"),handler:function(){this._l7(2)},scope:this},{text:IRm$.r1("B_MOVE_DOWN"),handler:function(){this._l7(3)},scope:this}],store:{xtype:"store",fields:["uid","name","nodepath","type","sid"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name"},{text:IRm$.r1("B_TYPE"),dataIndex:"type"},{text:IRm$.r1("B_DESC"),dataIndex:"description"},{text:IRm$.r1("B_LOC"),dataIndex:"nodepath",flex:1}]}]},{xtype:"panel",region:"east",split:!0,collapsible:!0,collapsed:!1,flex:1,title:IRm$.r1("L_NAVIGATOR"),layout:{type:"vbox",align:"stretch"},items:[new IG$.n$navTreeCom({instance:e.instance,name:"mtree",flex:1,gridupdate:new IG$.callBackObj(e,e.updateGridContent)}),{xtype:"gridpanel",name:"mg",enabledrag:!0,viewConfig:{plugins:[{ptype:"gridviewdragdrop",ddGroup:"_I$RD_G_",enableDrop:!1,enableDrag:!0}]},flex:1,store:{xtype:"store",fields:["uid","name","type","nodepath"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name"},{text:IRm$.r1("B_TYPE"),dataIndex:"type"},{text:IRm$.r1("B_LOC"),dataIndex:"nodepath"}]}]}]}]}]}),IG$.dashboardmenu.superclass.initComponent.call(this)},listeners:{afterrender:function(e){this.load_content()}}});
IG$.dashboardRcsMgrPreview=$s.extend($s.window,{title:IRm$.r1("L_PRV_DATA"),modal:!0,width:400,height:350,layout:"fit",loadContent:function(){var e=new IG$._rpc$;e.init(this,{ack:"content",payload:{uid:this.uid},mbody:{}},this,(function(e){}),!1),e.send()},initComponent:function(){$s.apply(this,{items:[{xtype:"panel",bodyPadding:10,layout:{type:"vbox",align:"stretch"},items:[{html:"<div style='height: 200px;overflow: auto;'><img src='"+ig$.servlet+"?sreq=resource&_rcs_="+this.uid+"&_mts_="+IG$._g$a+"'></img></div>",name:"img_prev"}]}],buttons:[{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}]}),IG$.dashboardRcsMgrPreview.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e.uid&&e.loadContent.call(e)}}}),IG$.dashboardRcsEdit=$s.extend($s.window,{title:"Dashboard Resource Config",modal:!0,width:400,height:350,layout:"fit",loadContent:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{uid:e.rec.get("uid")},mbody:{}},e,(function(t){var i=t.content;e._citem=i,e.down("[name=itemname]").setValue(i.name),e.down("[name=description]").setValue(i.description)}),!1),t.send()},_confirm:function(){var e,t=this,i=t.down("[name=mform]"),n=t.down("[name=orig_filename]"),o=t.down("[name=photo]");if(i.getForm().isValid()){i.getForm();document.charset="UTF-8";var a=o.getRawValue();a.indexOf("\\")>-1&&(a=a.substring(a.lastIndexOf("\\")+1)),n.setValue(a),i.submit({url:ig$.servlet,waitMsg:"Uploading your data file",success:function(e,i){var n=e.errorReader.jsonData,o=n&&n.result?n.result.uid:null;t.processUploadedFile(o),t.__cprog=0}})}else(e=new IG$._rpc$).init(t,{ack:"writecontent",payload:{uid:t.rec.get("uid"),name:t.down("[name=itemname]").getValue(),description:t.down("[name=description]").getValue()},mbody:{option:"rename"}},t,(function(e){t.rec.set("name",e.name),t.close()}),(function(){t._proc=0})),e.send()},processUploadedFile:function(e){var t=this,i=new IG$._rpc$,n=[],o=t.rec;n.push({uid:e,name:t.down("[name=itemname]").getValue(),ouid:o.get("uid")}),i.init(t,{ack:"helpcontent",payload:n,mbody:{option:"reg_rcs",buid:t.buid}},t,(function(e){o.set("name",n[0].name),t.close()}),!1),i.send()},initComponent:function(){$s.apply(this,{items:[{xtype:"panel",bodyPadding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",name:"itemname",_fasl:1,fieldLabel:IRm$.r1("B_NAME")},{xtype:"textarea",name:"description",fieldLabel:IRm$.r1("B_DESC"),height:50},{xtype:"form",name:"mform",layout:"anchor",items:[{xtype:"hiddenfield",name:"_mts_",value:IG$._g$a},{xtype:"textfield",name:"orig_filename",hidden:!0,fieldLabel:IRm$.r1("L_ORIG_NAME")},{xtype:"fileuploadfield",name:"photo",fieldLabel:IRm$.r1("L_DATA"),msgTarget:"side",allowBlank:!1,anchor:"100%",buttonText:IRm$.r1("L_SELECT_FILE"),buttonConfig:{margin:"0 2 0"}}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._confirm()},scope:this},{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}]}),IG$.dashboardRcsEdit.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e.down("[name=mform]").getForm().errorReader=new IG$.m2ER,e.loadContent.call(e)}}}),IG$.dashboardRcsMgr=$s.extend(IG$.v$pnl,{layout:"fit",framecontent:null,confirmSettings:function(){this.updateSetting()&&(this.callback&&this.callback.execute(),this.close())},initF:function(){},commitCode:function(){var e,t,i,n=this.framecontent,o=n?n.rcs:null,a=this.down("[name=dgrid]");if(n)for(o.length&&o.splice(0,o.length),e=0;e<a.store.data.items.length;e++)t={uid:(i=a.store.data.items[e]).get("uid"),name:i.get("name")},o.push(t);return 1},refreshCode:function(){},init_f:function(){},toolbarHandler:function(e){switch(e){case"cmd_import":this.down("[name=d_file]").show();break;case"cmd_reload":this.loadResources();break;case"cmd_mgr_rcs":break;case"cmd_c_files":this.registerFiles()}},initApp:function(){var e,t,i,n=this,o=n.down("[name=d_file]").el.dom,a=$(".m_fileupload",o),d=n.down("[name=d_upfiles]");a.empty(),e=$("<input type='file' name='files[]' data-url='upload' multiple></input>").appendTo(a),t=$("<div class='filedropzone fade well'>Drop files here</div>").appendTo(a),i=$("<div class='file-progress'><div class='bar' style='width: 0%;'></div></div>").appendTo(a),e.fileupload({url:ig$.servlet,dataType:"json",done:function(e,t){var i,o,a,s=t.result||{errorcode:"0xffff",errormsg:"Server incorrect responding"},l=[];if(s.errorcode)IG$.ShowErrorMessage(s,n,null);else if(s.result)for(i=s.result.length?s.result:[s.result],o=0;o<i.length;o++)a=i[o],l.push(a);if(l&&l.length)for(d.show(),o=0;o<l.length;o++)d.store.add(l[o])},progressall:function(e,t){var n=parseInt(t.loaded/t.total*100,10),o=$(".bar",i);o.css("width",n+"%"),o.text("Loaded "+t.loaded+" / "+t.total)},dropZone:t}).bind("fileuploadsubmit",(function(e,t){})),e.fileupload("option","url",ig$.servlet)},registerFiles:function(){var e,t,i=this,n=i.down("[name=d_upfiles]"),o=i.down("[name=dgrid]"),a=n.store,d=[],s=new IG$._rpc$,l=o.store,r={};for(e=0;e<l.data.items.length;e++)r[(t=l.data.items[e]).get("name")]=t.get("uid");for(e=0;e<a.data.items.length;e++)t=a.data.items[e],d.push({uid:t.get("uid"),name:t.get("filename"),ouid:r[t.get("filename")]});d.length&&(s.init(i,{ack:"helpcontent",payload:d,mbody:{option:"reg_rcs",buid:i.uid}},i,(function(e){i.loadResources(1)}),!1),s.send())},loadResources:function(e){var t=this,i=(t.down("[name=dgrid]"),new IG$._rpc$),n="DashboardResources";1==e&&(d_upfiles=t.down("[name=d_upfiles]"),d_upfiles.store.removeAll(),d_upfiles.hide(),t.down("[name=d_file]").hide()),t.gobj?t.loadResource(t.gobj.uid,e,"global",new IG$.callBackObj(t,(function(){this.uid&&"page"==this.cmode&&this.loadResource(this.gobj.uid,e,"page")}))):(i.init(t,{ack:"helpcontent",payload:{uid:"/"+n,name:n,type:"Folder",post:"create",duty:"everyone",mode:"s"},mbody:{option:"translate"}},t,(function(i){i&&i.length&&(t.gobj=i[0],t.loadResource(t.gobj.uid,e,"global",new IG$.callBackObj(t,(function(){this.uid&&"page"==this.cmode&&this.loadResource(this.gobj.uid,e,"page")}))))}),!1),i.send())},loadResource:function(e,t,i,n){var o=this,a=new IG$._rpc$,d=o.down("[name=dgrid]");a.init(o,{ack:"content",payload:{uid:e},mbody:{option:"folder"}},o,(function(e){var a,s,l,r=e?e.children:null,c=[];if(r)for(a=0;a<r.length;a++)(s=r[a]).btype=i,s.name.indexOf(".")>-1&&(s.fileext=s.name.substring(s.name.lastIndexOf(".")+1)),c.push(s);for(a=d.store.data.items.length-1;a>=0;a--)(l=d.store.data.items[a]).get("btype")==i&&d.store.remove(l);for(a=0;a<c.length;a++)d.store.add(c[a]);9==t&&o.commitCode(),n&&n.execute()}),!1),a.send()},removeItem:function(e){var t=new IG$._rpc$,i={uid:e.get("uid")},n=this.down("[name=dgrid]");t.init(this,{ack:"batchcontent",payload:i,mbody:{option:"delete"}},this,(function(t){n.store.remove(e)}),null),t.send()},initComponent:function(){$s.apply(this,{tbar:[{iconCls:"icon-toolbar-import",tooltip:IRm$.r1("L_IMPORT_FILE"),text:IRm$.r1("L_IMPORT_FILE"),handler:function(){this.toolbarHandler("cmd_import")},scope:this},{iconCls:"icon-refresh",tooltip:"Reload",handler:function(){this.toolbarHandler("cmd_reload")},scope:this}],items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{html:"<div class='m_fileupload'></div>",name:"d_file",height:120,hidden:!0,bodyPadding:10},{name:"d_upfiles",xtype:"gridpanel",height:120,hidden:!0,selType:"checkboxmodel",selModel:{mode:"MULTI"},store:{fields:["uid","filename","fileext"]},columns:[{text:IRm$.r1("L_FILENAME"),dataIndex:"filename",flex:1},{text:IRm$.r1("L_FILEEXT"),dataIndex:"fileext",flex:1},{xtype:"actioncolumn",width:20,items:[{iconCls:"icon-grid-delete",tooltip:"Delete item",handler:function(e,t,i){var n=e.store.getAt(t);e.store.remove(n)}}]}],bbar:["->",{xtype:"button",text:IRm$.r1("L_COMMIT_ALL_FILES"),handler:function(){this.toolbarHandler("cmd_c_files")},scope:this},{xtype:"button",text:IRm$.r1("L_CANCEL_ALL_FILES"),handler:function(){var e=this.down("[name=d_upfiles]");e.store.removeAll(),e.hide(),this.down("[name=d_file]").hide()},scope:this}]},{xtype:"gridpanel",name:"dgrid",flex:1,selType:"checkboxmodel",selModel:{mode:"MULTI"},store:{fields:["uid","name","type","filename","btype","memo","imgwidth","imgheight","fileext"]},columns:[{text:IRm$.r1("B_TYPE"),width:100,dataIndex:"btype"},{text:IRm$.r1("B_NAME"),flex:1,dataIndex:"name"},{text:IRm$.r1("L_FILEEXT"),width:120,dataIndex:"fileext"},{text:IRm$.r1("B_DOWNLOAD"),width:80,renderer:function(e){return"<span class='igc-download'>Download</span>"}},{xtype:"actioncolumn",width:40,items:[{iconCls:"icon-grid-config",tooltip:"Config item",handler:function(e,t,i){var n=e.store.getAt(t),o=new IG$.dashboardRcsEdit({instance:this.instance,rec:n,buid:this.uid});IG$.checkLogin(this,o)},scope:this},{iconCls:"icon-grid-delete",tooltip:"Delete item",handler:function(e,t,i){var n=this,o=e.store.getAt(t);IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("B_CD_MHS",o.get("name")),(function(e){"yes"==e&&o&&n.removeItem(o)}))},scope:this}]}],listeners:{cellclick:function(e,t,i,n,o,a){var d,s=n.get("fileext"),l=/png|gif|jpg|jpeg/.test(s);if(2==i&&l){var r=new IG$.dashboardRcsMgrPreview({instance:this.instance,uid:n.get("uid")});IG$.checkLogin(this,r)}else 4==i&&((d=new IG$._rpc$).init(this,{ack:"content",payload:{uid:n.get("uid")},mbody:{}},this,(function(e){s&&$.download(ig$.servlet,[{name:"ack",value:"download"},{name:"payload",value:n.get("uid")},{name:"mtype",value:"resource"},{name:"mbody",value:n.get("name")},{name:"_mts_",value:IG$._g$a||""}],"POST")}),!1),d.send())},scope:this}}]}]}),IG$.dashboardRcsMgr.superclass.initComponent.apply(this,arguments)},listeners:{afterrender:function(e){e.initApp()}}});
IG$.mgr_dashboard=$s.extend(IG$.v$pnl,{scroll:!1,initialized:!1,closable:!0,layout:"fit",bodyPadding:5,iconCls:"icon-ing-docdef",curnode:null,cursop:null,init:function(){2==this._cmode?this.init_f("BusinessLogic",0):(this.init_f("BusinessProcess",0),this.init_f("DashboardResources",1))},init_f:function(e,t){var n,i=this.down("[name=m_navi]"),a=new IG$._rpc$;a.init(this,{ack:"helpcontent",payload:{uid:"/"+e,name:e,type:"Folder",post:"create",duty:"everyone",mode:"s"},mbody:{option:"translate"}},this,(function(e){var a,o=this,s=e&&e.length?e[0].uid:null;s&&(0==t?(n=new IG$.n$navTreeCom({instance:o.instance,name:"mtree",rootuid:s,showCustomMenu:function(e){var t=this.customMenu,n=e.get("type").toLowerCase(),i=(e.get("name"),e.get("nodepath")),a=e.get("uid"),o=(e.get("type"),!(!e.get("writable")&&!e.get("manage"))),s=!!e.get("manage"),d=!1;return t.removeAll(),(o||s)&&(d=!0,t.add({text:IRm$.r1("B_FOLDER"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this._createMetaObject.call(this,"Folder",a,i,e)},scope:this}),"folder"==n&&t.add({text:IRm$.r1("L_REMOVE"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this.deleteMetaObject.call(this,a,e)},scope:this})),d},custom_expand_func:new IG$.callBackObj(o,o.rs_custom_click_func),custom_click_func:new IG$.callBackObj(o,o.rs_custom_click_func)}),i.add(n)):1==t&&((a=o.down("[name=m_1]")).uid=s,a.init_f.call(a)))})),a.send()},rs_custom_click_func:function(e){var t=this.down("[name=t_btn]");t.setDisabled(!0),this._s1=e,(e.get("writable")||e.get("manageable"))&&t.setDisabled(!1),this.load_content(e)},load_content:function(e){var t=this,n=new IG$._rpc$;n.init(t,{ack:"content",payload:{uid:e.get("uid")},mbody:{option:""}},t,(function(e){var n,i,a=e?e.children:null,o=[],s=this.down("[name=g1]");if(a)for(n=0;n<a.length;n++)i=a[n],(2==t._cmode&&"JavaClass"==i.type||2!=t._cmode&&"ClassModule"==i.type)&&o.push(i);s.store.loadData(o)}),!1),n.send()},createItem:function(e){var t=this,n=t.down("[name=mtree]");t._s1&&n._createMetaObject.call(n,e,t._s1.get("uid"),t._s1.get("nodepath"),t._s1)},initComponent:function(){var e=this;e.title=IRm$.r1("I_MGR_DBD"),e.items=[{xtype:"panel",layout:"card",border:0,defaults:{deferredRender:!1},name:"n_c",dockedItems:[{xtype:"toolbar",dock:"top",hidden:2==e._cmode,items:[{xtype:"displayfield",value:IRm$.r1("L_SEL_MODE")},"-",{xtype:"button",text:IRm$.r1("L_CLASS_MOD"),name:"b_0",pressed:1,handler:function(){var e=this.down("[name=n_c]").getLayout();this.down("[name=b_0]").toggle(!0),this.down("[name=b_1]").toggle(!1),this.down("[name=b_2]").toggle(!1),e.setActiveItem(0)},scope:this},{xtype:"button",name:"b_1",text:IRm$.r1("L_RESOURCE"),handler:function(){var e=this.down("[name=n_c]").getLayout();this.down("[name=b_0]").toggle(!1),this.down("[name=b_1]").toggle(!0),this.down("[name=b_2]").toggle(!1),e.setActiveItem(1)},scope:this},{xtype:"button",name:"b_2",text:IRm$.r1("L_MENU"),handler:function(){var e=this.down("[name=n_c]").getLayout();this.down("[name=b_0]").toggle(!1),this.down("[name=b_1]").toggle(!1),this.down("[name=b_2]").toggle(!0),e.setActiveItem(2)},scope:this}]}],items:[{xtype:"panel",layout:"border",name:"m_0",border:!1,title:IRm$.r1("L_CLASS_MOD"),items:[{xtype:"panel",layout:"fit",region:"west",collapsed:!1,width:200,title:IRm$.r1("L_NAVIGATOR"),name:"m_navi",tbar:[{xtype:"button",name:"t_btn",text:IRm$.r1("L_CREATE_ITEM"),disabled:!0,menu:{xtype:"menu",items:2==e._cmode?[{text:IRm$.r1("D_JAVAPACKAGE"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this.createItem("JavaPackage")},scope:this},"-",{text:IRm$.r1("D_JAVACLASS"),hidden:!1!==ig$.features.ig_n_jcm,handler:function(){this.createItem("JavaClass")},scope:this}]:[{text:IRm$.r1("B_FOLDER"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this.createItem("Folder")},scope:this},"-",{text:IRm$.r1("D_CLASSMODULE"),hidden:!1!==ig$.features.ig_n_jcm,handler:function(){this.createItem("ClassModule")},scope:this}]}},{xtype:"button",iconCls:"icon-refresh",tooltip:IRm$.r1("L_REFRESH"),handler:function(){var e=this.down("[name=mtree]"),t=e.getRootNode();e.refreshNode.call(e,t)},scope:this}],items:[]},{xtype:"panel",region:"center",flex:1,layout:"fit",tbar:[{text:IRm$.r1("L_COMPILE"),handler:function(){var e,t=this,n=t.down("[name=g1]"),a={items:[]},o=n.getSelectionModel().selected,s=0,d=new IG$._rpc$;IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM_COMPILE"),(function(n){if("yes"==n&&o.length>0){for(i=0;i<o.length;i++)e=o.items[i],a.items.push({uid:e.get("uid"),option:"compile"}),s++;s>0&&(d.init(t,{ack:"plugin",payload:a,mbody:{option:"compile"}},t,(function(e){var n,i,a,o,s=t.down("[name=g1]"),d={};if(e&&e.length){for(n=0;n<s.store.data.items.length;n++)d[(i=s.store.data.items[n]).get("uid")]=i;for(n=0;n<e.length;n++)a=e[n].uid,o=e[n].status,(i=d[a])&&i.set("msg","S"==o?"Success":"Error")}}),null),d.send())}}))},scope:this},{text:IRm$.r1("B_REMOVE"),handler:function(){var e,t=this,n=t.down("[name=g1]"),a={items:[]},o=n.getSelectionModel().selected,s=0,d=new IG$._rpc$;IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM_DELETE"),(function(c){if("yes"==c&&o.length>0){for(i=0;i<o.length;i++)e=o.items[i],a.items.push({uid:e.get("uid")}),s++;s>0&&(d.init(t,{ack:"batchcontent",payload:a,mbody:{option:"delete"}},t,(function(e){var t;for(t=o.length-1;t>=0;t--)n.store.remove(o.items[t])}),null),d.send())}}))},scope:this}],items:[{xtype:"gridpanel",name:"g1",selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},store:{xtype:"store",fields:["uid","name","description","nodepath","type","writable","msg"]},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link",width:250},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1},{text:IRm$.r1("L_MESSAGE"),dataIndex:"msg",width:80},{xtype:"actioncolumn",width:50,menuDisabled:!0,items:[{iconCls:"icon-grid-config",tooltip:IRm$.r1("L_EDIT"),handler:function(t,n,i){var a=t,o=e.instance,s=a.store.getAt(n),d=o.mainPanel;d&&d.navigateApp.call(d,s.get("uid"),s.get("type").toLowerCase(),s.get("name"),s.get("nodepath"),!0,s.get("writable"))},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,n){var i=e.store,a=i.getAt(t);IG$.deleteMetaObject(a.get("uid"),a,IG$.callBackObj(this,(function(){i.removeAt(t)})))},scope:this}]}],listeners:{cellclick:function(t,n,i,a,o,s){var d=e.instance.mainPanel;d&&1==i&&d.navigateApp.call(d,a.get("uid"),a.get("type").toLowerCase(),a.get("name"),a.get("nodepath"),!0,a.get("writable"))},scope:this}}]}]},new IG$.dashboardRcsMgr({instance:e.instance,cmode:"global",title:IRm$.r1("L_RESOURCE"),name:"m_1"}),new IG$.dashboardmenu({instance:e.instance,title:IRm$.r1("L_MENU"),name:"m_2"})]}],this.listeners={afterrender:function(e){e.init.call(e)}},IG$.mgr_dashboard.superclass.initComponent.call(this)}});
IG$.cmwzd=$s.extend($s.window,{modal:!0,layout:"fit",closable:!1,resizable:!1,width:540,height:480,_confirm:function(){var e=this,t=e.down("[name=g1]").getSelectionModel().selected,n=0,i=t.items.length;$.each(t.items,(function(t,a){var o,l,s=new IG$._rpc$,d=a.data,c=d.exitem;o=c?{uid:c.uid,type:"CodeMap"}:{pid:e.s1.get("uid"),name:d.name,type:"CodeMap"},l={meta_type:"code_mapping",datasource:d.dsource,attributes:{attrb1:d.name},dtype:"sql",sql_data:d.sql,uid:c?c.uid:null,type:"CodeMap"},s.init(e,{ack:"writecontent",payload:o,mbody:l,meta_type:"code_mapping"},e,(function(t){++n==i&&e.close()}),null),s.send()}))},_init:function(){this._getDsource()},execq:function(){var e=this.down("[name=lt_0]"),t={},n=new IG$._rpc$,i={};e.getAllValues(t,!1)||(i.dbpool=t.cbdatasource,i.sql=t.cbsql,n.init(this,{ack:"olapservice",payload:{option:"sqlcubemeta"},mbody:i,meta_type:"inlineview"},this,(function(e){var n,a,o=[],l=this.down("[name=cbflds]");if(e.length){for(n=e[0].columns,a=0;a<n.length;a++)o.push(n[a].name);l.setValue(o.join(",")),i.columns=n,this._execdata(i,t.cbgroupfield)}}),!1),n.send())},_execdata:function(e,t){this.down("[name=lt_0]");var n,i=new IG$._rpc$,a={dbpool:e.dbpool},o=[];for(a.sql="SELECT DISTINCT "+t+" FROM ("+e.sql+") t01",a.columns=[],t=t.toLowerCase(),n=0;n<e.columns.length;n++)e.columns[n].name.toLowerCase()==t&&a.columns.push(e.columns[n]),n<4&&o.push(e.columns[n].name);i.init(this,{ack:"tablecontent",payload:{option:"preview"},mbody:a,meta_type:"inlineview"},this,(function(n){var i,a,l,s,d,c=this.down("[name=g1]"),r=n,m=-1,u=[],p=this._scontent,h={};if(r.headers&&r.headers.length){for(s=0;s<p.length;s++)(d=p[s].attributes.attrb1)&&(h[d]=p[s]);for(a=r.headers,s=0;s<a.length;s++)a[s].name.toLowerCase()==t&&(m=s);if(m>-1)for(i=r.inline_data,s=0;s<i.length;s++)(l={name:i[s][m],dsource:e.dbpool}).sql="SELECT DISTINCT "+o.join(", ")+"\n\n FROM (\n"+e.sql+"\n\n) t01 WHERE \n"+t+"='"+l.name+"'",l.exitem=h[l.name],u.push(l)}c.store.loadData(u)}),!1),i.send()},_getDsource:function(){this.instance;var e=new IG$._rpc$;e.init(this,{ack:"tablecontent",payload:{address:"/"},mbody:{option:"standard"}},this,(function(e){var t,n,i,a=[],o=(this.instance.dlgLogin.jS2,this.down("[name=cbdatasource]"));if(e&&e.length){for(i=e,a.push({dispname:"-- Select Pool --",uid:""}),n=0;n<i.length;n++)(t=i[n]).dispname=t.name,a.push(t);o.store.loadData(a),o.setValue("")}this._getMeta()}),!1),e.send()},_getMeta:function(){var e=new IG$._rpc$,t=this.s1;e.init(this,{ack:"content",payload:{uid:t.get("uid")},mbody:{option:"folder"}},this,(function(e){this._scontent=e.children||[]}),!1),e.send()},initComponent:function(){var e=this;$s.apply(e,{title:IRm$.r1("T_CODE_MAPPING"),bodyStyle:"padding:5px; background: #ffffff",items:[{xtype:"panel",padding:"5 5",border:0,autoScroll:!0,layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:IRm$.r1("L_STATIC_DATA_VALUES"),name:"lt_0",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"combobox",name:"cbdatasource",required:!0,queryMode:"local",fieldLabel:IRm$.r1("L_DATASOURCE"),displayField:"dispname",valueField:"uid",editable:!1,autoSelect:!1,store:{xtype:"store",fields:[]}},{xtype:"textfield",fieldLabel:"Group Field",required:!0,name:"cbgroupfield",value:"GROUP"},{xtype:"textarea",name:"cbsql",required:!0,flex:1,fieldLabel:"SQL",value:"SELECT CODE, VALUE, SORT, GROUP FROM TABLE"},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:"Execute",handler:function(){this.execq()},scope:this}]},{xtype:"textfield",name:"cbflds",value:"",readOnly:!0,flex:1,fieldLabel:"Columns"},{xtype:"gridpanel",name:"g1",height:400,store:{xtype:"store",fields:[]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"MULTI"},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link"},{text:IRm$.r1("B_DESC"),dataIndex:"sql",flex:1}],tbar:["->",{xtype:"button",text:"Register Selected",handler:function(){this._confirm()},scope:this}]}]}]}],buttons:[{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(){this._init()}}}),IG$.cmwzd.superclass.initComponent.apply(this,arguments)}}),IG$.systemlookup=$s.extend(IG$.v$pnl,{scroll:!1,initialized:!1,closable:!0,layout:"fit",bodyPadding:5,iconCls:"icon-ing-docdef",init_f:function(){var e,t=this,n=this.down("[name=m_navi]"),i=new IG$._rpc$;i.init(t,{ack:"helpcontent",payload:{uid:"/SYS_Lookup",name:"SYS_Lookup",type:"Folder",post:"create",duty:"everyone",mode:"s"},mbody:{option:"translate"}},t,(function(i){var a=i&&i.length?i[0].uid:null;a&&(t.tuid=a,e=new IG$.n$navTreeCom({instance:t.instance,name:"mtree",rootuid:a,btype:"codemap",rootname:"Code Mapping",visibleItems:"folder;",showCustomMenu:function(e){var t=this.customMenu,n=(e.get("type").toLowerCase(),e.get("name")),i=e.get("nodepath"),a=e.get("uid"),o=(e.get("type"),!(!e.get("writable")&&!e.get("manage"))),l=!!e.get("manage"),s=!1;return t.removeAll(),(o||l)&&(s=!0,t.add({text:IRm$.r1("B_FOLDER"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this._createMetaObject.call(this,"Folder",a,i,e)},scope:this}),t.add({text:IRm$.r1("L_RENAME_ITEM",IG$._gitemname(n)),hidden:!1!==ig$.features.ig_n_ren,handler:function(){this._renameMetaObject.call(this,n,a,i,record)},scope:this}),t.add({text:IRm$.r1("L_DELETE_ITEM",IG$._gitemname(n)),hidden:!1!==ig$.features.ig_n_del,handler:function(){this.deleteMetaObject.call(this,a,record)},scope:this})),s},custom_expand_func:new IG$.callBackObj(t,t.rs_custom_click_func),custom_click_func:new IG$.callBackObj(t,t.rs_custom_click_func)}),n.add(e))})),i.send()},rs_custom_click_func:function(e){var t=this,n=t.down("[name=t_btn]"),i=t.down("[name=b_n_lk]"),a=t.down("[name=b_mv]"),o=t.down("[name=b_wzd]");n.setDisabled(!0),i.setDisabled(!0),a.setDisabled(!0),o.setDisabled(!0),t._s1=e,(e.get("writable")||e.get("manageable"))&&(n.setDisabled(!1),e.isRoot()||(i.setDisabled(!1),a.setDisabled(!1),o.setDisabled(!1))),t.load_content(e)},load_content:function(e){var t=new IG$._rpc$;t.init(this,{ack:"content",payload:{uid:e.get("uid")},mbody:{}},this,(function(e){var t,n,i=e?e.children:null,a=[],o=this.down("[name=g1]");if(i)for(t=0;t<i.length;t++)"CodeMap"==(n=i[t]).type&&a.push(n);o.store.loadData(a)}),!1),t.send()},createItem:function(e){var t=this,n=t.down("[name=mtree]");if(t._s1){if("CodeMap"==e&&t._s1.isRoot())return void IG$.alertmsg(ig$.appname,IRm$.r1("M_SELECT_FOLDER"),null,null,1,"warning");n._createMetaObject.call(n,e,t._s1.get("uid"),t._s1.get("nodepath"),t._s1)}else IG$.alertmsg(ig$.appname,IRm$.r1("M_SELECT_FOLDER"),null,null,1,"warning")},toolbarHandler:function(e){var t,n,a,o=this,l=0;switch(e){case"cmd_move":if(t=o.down("[name=g1]"),(n=t.getSelectionModel().selected)&&1==n.length){o=this;var s=new IG$.metaSelectDlg({instance:o.instance,visibleItems:"folder",targetobj:"folder",tree_options:{cubebrowse:!1,rootuid:o.tuid},callback:new IG$.callBackObj(o,(function(e){e&&IG$.confirmMessages(IRm$.r1("B_CONFIRM"),IRm$.r1("B_CD_MHS",e.name),(function(t){if("yes"==t){for(address=[],l=0,i=0;i<n.length;i++)((a=n.items[i]).get("writable")||a.get("manage"))&&(address.push({uid:a.get("uid")}),l++);l>0&&(req=new IG$._rpc$,req.init(o,{ack:"helpcontent",payload:address,mbody:{option:"move",target:e.uid}},o,(function(e){var t=this.down("[name=mtree]"),n=t.getRootNode();t.refreshNode.call(t,n)}),null,null),req.send())}}))}))});IG$.checkLogin(this,s)}else IG$.alertmsg(ig$.appname,IRm$.r1("M_SEL_SINGLE"),null,null,1,"warning");break;case"cmd_export_meta":IG$.confirmMessages(IRm$.r1("T_EXP_MC"),IRm$.r1("T_EXP_MC_Q"),(function(e){var t,n,i=o,a=new IG$._rpc$;(t={uid:i.tuid,name:"SYS_Lookup",type:"Folder",nodepath:"/SYS_Lookup"})&&t.uid&&"yes"==e&&(n={uid:t.uid,nodepath:t.nodepath,name:t.name,type:t.type},a.init(i,{ack:"content",payload:n,mbody:{output:"file"}},i,(function(e){var t,n;e&&(t=e.luid,n=e.filename,t&&n&&$.download(ig$.servlet,[{name:"ack",value:"download"},{name:"payload",value:t},{name:"mbody",value:n},{name:"_mts_",value:IG$._g$a||""}],"POST"))}),null),a.send())}),o,o);break;case"cmd_wzd":var d;o=this;d=new IG$.cmwzd({instance:o.instance,s1:o._s1}),IG$.checkLogin(o,d)}},initComponent:function(){var e=this;e.items=[{xtype:"panel",layout:"border",border:!1,items:[{xtype:"panel",layout:"fit",region:"west",collapsed:!1,width:200,title:IRm$.r1("L_NAVIGATOR"),name:"m_navi",tbar:[{xtype:"button",name:"t_btn",text:IRm$.r1("B_CR"),disabled:!0,menu:{xtype:"menu",items:[{text:IRm$.r1("B_FOLDER"),hidden:!1!==ig$.features.ig_n_f_f,handler:function(){this.createItem("Folder")},scope:this},"-",{text:IRm$.r1("L_CODEMAPPING"),hidden:!1!==ig$.features.ig_n_lk,handler:function(){this.createItem("CodeMap")},scope:this}]}},{xtype:"button",iconCls:"icon-refresh",tooltip:IRm$.r1("L_REFRESH"),handler:function(){var e=this.down("[name=mtree]"),t=e.getRootNode();e.refreshNode.call(e,t)},scope:this}],items:[]},{xtype:"panel",region:"center",flex:1,layout:"fit",title:IRm$.r1("L_S_LK"),tbar:[{text:IRm$.r1("L_CODEMAPPING"),hidden:ig$.features.ig_n_lk,name:"b_n_lk",disabled:!0,handler:function(){this.createItem("CodeMap")},scope:this},{xtype:"button",text:IRm$.r1("L_MOVE"),name:"b_mv",hidden:ig$.$l_>5,disabled:!0,handler:function(){this.toolbarHandler("cmd_move")},scope:this},{xtype:"button",text:IRm$.r1("L_WIZARD"),name:"b_wzd",disabled:!0,handler:function(){this.toolbarHandler("cmd_wzd")},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),hidden:ig$.$l_>5,handler:function(){this.toolbarHandler("cmd_export_meta")},scope:this}],items:[{xtype:"gridpanel",name:"g1",store:{xtype:"store",fields:["uid","name","description","nodepath","type","writable"]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell",mode:"SINGLE"},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",tdCls:"igc-td-link"},{text:IRm$.r1("B_DESC"),dataIndex:"description",flex:1},{xtype:"actioncolumn",width:60,menuDisabled:!0,items:[{iconCls:"icon-grid-config",tooltip:IRm$.r1("L_EDIT"),handler:function(t,n,i){var a=t,o=e.instance,l=a.store.getAt(n),s=o.mainPanel;s&&s.navigateApp.call(s,l.get("uid"),l.get("type").toLowerCase(),l.get("name"),l.get("nodepath"),!1,l.get("writable"))},scope:this},{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,n){var i=e,a=this,o=e.store.getAt(t);IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM_DELETE"),(function(e){if("yes"==e){var t=new IG$._rpc$;t.init(a,{ack:"deletecontent",payload:{uid:o.get("uid")},mbody:{}},a,(function(e){i.store.remove(o)}),null),t.send()}}))},scope:this}]}],listeners:{cellclick:function(e,t,n,i,a,o){var l=this;if(1==n){var s=l.instance.mainPanel;s&&s.navigateApp.call(s,i.get("uid"),i.get("type").toLowerCase(),i.get("name"),i.get("nodepath"),!1,i.get("writable"),{callback:new IG$.callBackObj(l,(function(){l._s1&&l.rs_custom_click_func(l._s1)}))})}},scope:this}}]}]}],this.listeners={afterrender:function(e){e.init_f.call(e)}},IG$.systemlookup.superclass.initComponent.call(this)}});
IG$.uipage=$s.extend(IG$.v$pnl,{padding:0,closable:!0,layout:"fit",init_f:function(){var e,t=this,i=t.down("[name=t_save]"),a=t.down("[name=t_save_as]");1!=this.writable&&""!=this.uid||i.setVisible(!0),a.setVisible(!0),(e=new IG$._rpc$).init(t,{ack:"content",payload:{uid:t.uid},mbody:{option:"standard"}},t,t.rs_loadContent,!1),e.send()},rs_loadContent:function(e){},toolbarHandler:function(e){switch(e){case"cmd_save":var t=this.uid;if(t){this.saveCnt(t,null,target)}else this.saveAsContent(!1);break;case"cmd_saveas":this.saveAsContent(!1)}},saveCnt:function(e,t,i){var a=new IG$._rpc$;a.init(this,{ack:"writecontent",payload:{uid:e},mbody:t},this,this.rs_saveCnt,null,[i]),a.send()},rsaveContent:function(e,t){1==(!!t&&t[0])?this.doClose():(this.contentchanged=!1,IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success"))},saveAsContent:function(e){var t=new IG$.metaSelectDlg({instance:me.instance,mode:"newitem",initpath:this.nodepath});t.callback=new IG$.callBackObj(this,this.saveNewContent,e),IG$.checkLogin(this,t)},saveNewContent:function(e,t){var i=this.reportoption.getCurrentPivot.call(this.reportoption),a=new IG$._rpc$;a.init(this,{ack:"writecontent",payload:{address:e.nodepath+"/"+e.name,name:e.name,type:this.itemtype||"Report",pid:e.uid},mbody:i},this,this._rs_procMakeItem,this.rs_procMakeItem,[e.name,t,e.nodepath,e.uid,i]),a.showerror=!1,a.send()},rs_procMakeItem:function(e,t){var i=this,a=t[0],n=t[1],l=t[2],o=t[3],s=t[4];"0x12e0"==IG$.getErrorCode(e)?IG$.confirmMessages(ig$.appname,a+" already exist on the server. Would you overwrite existing item with this copy?",(function(e){if("yes"==e){var t=new IG$._rpc$;t.init(i,{ack:"writecontent",payload:{address:l+"/"+a,name:a,type:this.itemtype||"UIPage",pid:o,overwrite:"T"},mbody:s},i,i._rs_procMakeItem,null,[a,n,l]),t.send()}}),i,i):IG$.ShowErrorMessage(e,i)},_rs_procMakeItem:function(e,t){t[0];var i=t[1],a=IG$.XGetNode(e,"/smsg/item"),n=IG$.XGetAttr(a,"name");1!=i?(this.contentchanged=!1,this.uid=IG$.XGetAttr(a,"uid"),this.uid=this.uid,this.setTitle(n)):this.doClose()},doClose:function(e){if("no"==e)(t=new IG$._rpc$).init(this,{ack:"helpcontent",payload:{uid:this.uid},mbody:{option:"lock",detail:"close"}},this,(function(e){this.doClose()}),!1),t.send();else if("yes"==e){var t;(t=new IG$._rpc$).init(this,{ack:"helpcontent",payload:{uid:this.uid},mbody:{option:"lock",detail:"close"}},this,(function(e){this.toolbarHandler("cmd_save",!0)}),!1),t.send()}},initComponent:function(){var e=this;e.items=[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},border:0,items:[{xtype:"fieldset",title:"Global Filter",layout:{type:"vbox",align:"none"},items:[{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_FILTER_ITEMS"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",name:"gfilter",emptyText:IRm$.r1("L_SEARCH_KWD")},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH")}]},{xtype:"combobox",fieldLabel:IRm$.r1("L_SEL_TYPE"),labelField:"disp",valueField:"type",store:{xtype:"store",fields:["disp","type"],data:[]}}]},{xtype:"fieldset",title:"Dashboard Items",layout:"fit",flex:1,items:[{xtype:"gridpanel",store:{xtype:"store",fields:["title","type","dispoption","nodepath","uid","name"]},selType:"checkboxmodel",selModel:{checkSelector:".x-grid-cell"},columns:[{xtype:"gridcolumn",text:IRm$.r1("B_TITLE")},{xtype:"gridcolumn",text:IRm$.r1("L_DISP_TYPE")},{xtype:"gridcolumn",text:IRm$.r1("L_DISP_OPTION")},{xtype:"gridcolumn",text:IRm$.r1("L_BIND_REPORT"),flex:1}],tbar:[{xtype:"button",text:IRm$.r1("L_ADD_VIEW"),handler:function(){var t=new IG$._Ia8({instance:e.instance});IG$.checkLogin(this,t)},scope:this},{xtype:"button",text:IRm$.r1("L_ADD_FILTER"),handler:function(){var t=new IG$._Ia7({instance:e.instance});IG$.checkLogin(this,t)},scope:this},{xtype:"button",text:IRm$.r1("B_EDIT"),handler:function(){var t=new IG$._Ia8({instance:e.instance});IG$.checkLogin(this,t)},scope:this}]}]},{xtype:"textarea",name:"layouthtml",fieldLabel:IRm$.r1("L_LAYOUT_HTML"),height:200}]}],e.tbar=[{iconCls:"icon-toolbar-save",name:"t_save",tooltip:IRm$.r1("L_SAVE_CONTENT"),hidden:!0,handler:function(){this.toolbarHandler("cmd_save")},scope:this},{iconCls:"icon-toolbar-saveas",name:"t_save_as",tooltip:IRm$.r1("L_SAVE_REPORT_AS"),hidden:!0,handler:function(){this.toolbarHandler("cmd_saveas")},scope:this}],IG$.uipage.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e.init_f()}}}),IG$._Ia8=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:360,height:400,autoHeight:!1,parentnodepath:null,itemtype:null,parentuid:null,callback:null,fV9:function(){},initComponent:function(){var e=this;e.title=IRm$.r1("L_MAKEITEM"),$s.apply(this,{defaults:{bodyStyle:"padding:10px"},items:[{xtype:"form",layout:"anchor",autoScroll:!0,defaults:{anchor:"100%"},items:[{xtype:"fieldset",title:"Basic Option",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_VIEW_TYPE"),labelField:"label",displayField:"label",valueField:"value",editable:!1,store:{xtype:"store",fields:["label","value"],data:[{label:"Chart",value:"chart"},{label:"Report",value:"report"},{label:"As saved",value:"saved"},{label:"R statistics",value:"R"},{label:"Filter",value:"filter"}]}},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_REPORT_ITEM"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",emptyText:IRm$.r1("L_SEARCH_KWD")},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH")}]}]},{xtype:"fieldset",title:"Size option",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"numberfield",fieldLabel:IRm$.r1("B_HEIGHT"),minValue:50}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.fV9()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}]}),IG$._Ia8.superclass.initComponent.apply(this,arguments)}}),IG$._Ia6=function(e){this.container=e,this.table=$("<table></table>").appendTo(e)},IG$._Ia6.prototype={},IG$._Ia7=$s.extend($s.window,{modal:!0,region:"center",layout:"fit",closable:!1,resizable:!1,width:400,autoHeight:!0,callback:null,fV9:function(){},r1:function(){var e,t,i=this.R1;i||(e=this.down("[name=filterarea]"),t=$("[name=filterdiv]",e.el.dom),i=this.R1=new IG$._Ia6(t)),i.table.empty()},initComponent:function(){var e=this;e.title=IRm$.r1("L_MAKEITEM"),$s.apply(this,{defaults:{bodyStyle:"padding:10px"},items:[{xtype:"form",layout:"anchor",autoScroll:!0,defaults:{anchor:"100%"},items:[{xtype:"fieldset",title:"Basic Option",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"combobox",fieldLabel:IRm$.r1("L_VIEW_TYPE"),labelField:"label",displayField:"label",valueField:"value",editable:!1,store:{xtype:"store",fields:["label","value"],data:[{label:"Chart",value:"chart"},{label:"Report",value:"report"},{label:"As saved",value:"saved"},{label:"R statistics",value:"R"},{label:"Filter",value:"filter"}]}},{html:"<div name='filterdiv'></div>",name:"filterarea",height:300},{xtype:"fieldcontainer",fieldLabel:IRm$.r1("L_REPORT_ITEM"),layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",emptyText:IRm$.r1("L_SEARCH_KWD")},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH")}]}]},{xtype:"fieldset",title:"Size option",layout:"anchor",defaults:{anchor:"100%"},items:[{xtype:"numberfield",fieldLabel:IRm$.r1("B_HEIGHT"),minValue:50}]}]}],buttons:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this.fV9()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){this.close()},scope:this}],listeners:{afterrender:function(e){this.r1()}}}),IG$._Ia7.superclass.initComponent.apply(this,arguments)}});
IG$.metaImport=$s.extend($s.panel,{bodyStyle:"padding:5px",closable:!0,iconCls:"icon-ing-docdef",layout:{type:"vbox",align:"stretch"},defaults:{anchor:"100%"},uploadFile:function(){var e=this,t=this.down("[name=mform]");t.getForm().isValid()&&t.getForm().submit({url:ig$.servlet,waitMsg:"Uploading your data file",success:function(o,a){var i=o.errorReader.jsonData;if(i.errorcode)IG$.ShowErrorMessage(i,e,null);else{var n=i?i.result.uid:null;t.customowner.processUploadedFile.call(t.customowner,n)}},failure:function(e,t){}})},processUploadedFile:function(e){this.down("[name=uploadset]");var t=new IG$._rpc$;this.uid=e,t.init(this,{ack:"uploadcontent",payload:{uid:e},mbody:{option:"meta_imp"}},this,this.rs_processUploadedFile,null),t.send()},rs_processUploadedFile:function(e){var t,o,a,i=this.down("[name=metadata]").store;for(t=0;t<e.length;t++)a=(o=e[t]).type.toLowerCase(),o.iconCls=IG$.get_metatype_icon(a,o);i.loadData(e)},toolbarHandler:function(e){switch(e){case"cmd_imp":this.uid?IG$.confirmMessages("ImportMeta",IRm$.r1("M_CONFIRM_IMP"),this.do_importMeta,this,this):IG$.ShowError(IRm$.r1("E_SEL_TGT_ITEM"),this)}},do_importMeta:function(e){if("yes"==e){var t,o,a,i,n=this.down("[name=metadata]"),s=this.down("[name=opt_imp]"),r=(n.store,n.getSelectionModel().selected),l=new IG$._rpc$,m=[];if(r&&r.length>0){for(t=0;t<r.length;t++)o={name:(a=r.items[t]).get("name"),uid:a.get("uid"),nodepath:a.get("nodepath"),type:a.get("type")},m.push(o);i={uid:this.uid,option:"imp_load"},s.getAllValues(i,!0),l.init(this,{ack:"uploadcontent",payload:i,mbody:{children:m},meta_type:"metrics"},this,(function(e,t){var o=e,a=this.down("[name=metadata]").store,i=0;o&&(i+=this.updNodeRs(o,a)),i>0?IG$.alertmsg(ig$.appname,i+" item failed to import!",null,null,1,"error"):IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),null),l.send()}else IG$.ShowError(IRm$.r1("E_SEL_TGT_ITEM"),me)}},updNodeRs:function(e,o){var a,i,n,s,r=0;for(a=0;a<o.data.items.length;a++)if((i=(s=o.data.items[a]).get("uid"))&&e[i]){switch(n=parseInt(e[i])){case 0:msg="Not processed";break;case 1:msg="Success";break;case 5:msg="STAT_CONTENT_MISSING";break;case 6:msg="STAT_FAIL_PARENT";break;case 7:msg="STAT_UPPER_NODE_MISSING";break;case 8:msg="STAT_NO_PARENT";break;default:msg="Unknown "+t.status}s.set("logresult",msg),1!=n&&r++}return r},initComponent:function(){var e=this;ig$.$l_=ig$.$l_||0,this.items=[{xtype:"fieldset",title:IRm$.r1("L_LOAD_FILE"),region:"north",name:"uploadset",layout:"anchor",collapsible:!0,items:[{xtype:"form",name:"mform",border:0,customowner:this,layout:{type:"hbox",align:"stretch"},items:[{xtype:"hiddenfield",name:"_mts_",value:IG$._g$a},{xtype:"fileuploadfield",name:"photo",flex:1,fieldLabel:IRm$.r1("L_DATA"),msgTarget:"side",allowBlank:!1,anchor:"100%",buttonText:IRm$.r1("L_SELECT_FILE"),buttonConfig:{margin:"0 2 0"}},{xtype:"button",text:IRm$.r1("L_UPLOAD"),handler:function(){e.uploadFile.call(e)}}]}]},{xtype:"form",layout:{type:"vbox",align:"stretch"},flex:1,border:0,items:[{xtype:"fieldcontainer",border:0,layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},flex:1,name:"opt_imp",hidden:ig$.$l_>5,items:[{xtype:"checkbox",name:"opt_keep_date",fieldLabel:IRm$.r1("L_KEEP_MODI_DATES"),boxLabel:IRm$.r1("B_ENABLED"),checked:!0},{xtype:"checkbox",name:"opt_owner_info",fieldLabel:IRm$.r1("L_KEEP_OWNER_INFO"),boxLabel:IRm$.r1("B_ENABLED"),checked:!0},{xtype:"checkbox",name:"opt_security",fieldLabel:IRm$.r1("L_IMP_SECURITY"),boxLabel:IRm$.r1("B_ENABLED")},{xtype:"checkbox",name:"opt_history",fieldLabel:IRm$.r1("L_CLEAR_HIST"),boxLabel:IRm$.r1("B_ENABLED")+" (For Production)"}]},{xtype:"button",plain:!0,text:IRm$.r1("L_IMPORT_SELECTED"),handler:function(){this.toolbarHandler("cmd_imp")},scope:this}]},{xtype:"gridpanel",flex:1,name:"metadata",store:{fields:[]},selType:"checkboxmodel",selModel:{mode:"MULTI"},columns:[{width:320,text:IRm$.r1("B_NAME"),dataIndex:"name"},{width:70,text:IRm$.r1("B_EXISTS"),dataIndex:"exist"},{text:IRm$.r1("B_TYPE"),dataIndex:"type",width:80},{flex:1,text:IRm$.r1("B_PATH"),dataIndex:"nodepath"},{flex:1,text:IRm$.r1("L_LOG_RESULT"),dataIndex:"logresult"}]}]}],IG$.metaImport.superclass.initComponent.apply(this,arguments)},listeners:{afterrender:function(){var e=this.down("[name=mform]");e.getForm().errorReader=new IG$.m2ER,e.customowner=this}}}),IG$.metaImportDlg=$s.extend($s.window,{width:400,autoHeight:!0,layout:"fit",initComponent:function(){this.title=IRm$.r1("T_META_IMP"),this.items=[new IG$.metaImport],this.buttons=[{text:IRm$.r1("B_CLOSE"),handler:function(){this.close()},scope:this}],IG$.metaImportDlg.superclass.initComponent.apply(this,arguments)}});
IG$.mgr_deploy=$s.extend(IG$.v$pnl,{closable:!0,layout:"fit",bodyPadding:0,padding:0,iconCls:"icon-ing-docdef",_init:function(){var e=this,t=new IG$._rpc$;t.init(e,{ack:"content",payload:{address:"/SYS_Config/extra_sys_config"},mbody:{}},e,(function(t){var n,o,i=e.down("[name=dpsvr]"),a=[],l=t.deploy||[];for(e.dp_svr={},n=0;n<l.length;n++)o=l[n],a.push(o),e.dp_svr[o.name]=o;i.store.loadData(a)}),!1),t.send()},testConnection:function(){var e=this,t=e.down("[name=c_info]"),n=new IG$._rpc$,o={};t.getAllValues(o)||(n.init(e,{ack:"deploy",payload:{option:"testconnection"},mbody:o},e,(function(t){t&&t.uid&&(IG$.alertmsg(ig$.appname,IRm$.r1("M_SUCCESS"),null,null,0,"success"),e.down("[name=mexplorer]").mtree.refreshTree())}),!1),n.send())},_move_sel:function(e){var t,n,o,i,a=this.down("[name=grd_ditem]"),l=this.down("[name=mexplorer]");if(e){if((t=l.mtree.getSelectionModel().selected)&&t.length)for(n=0;n<t.length;n++)i={name:(o=t.items[n]).get("name"),uid:o.get("uid"),nodepath:o.get("nodepath"),type:o.get("type"),icon:o.get("icon"),iconCls:o.get("iconCls"),updatedate:o.get("updatedate")},a.store.add(i)}else if((t=a.getSelectionModel().selected)&&t.length)for(n=t.length-1;n>=0;n--)o=t.items[n],a.store.remove(o)},_do_deploy:function(e){var t=this,n=t.down("[name=grd_ditem]"),o=t.down("[name=c_info]"),i=new IG$._rpc$,a={},l={children:[]};if(!o.getAllValues(a)){a.option=e?"validate":"execute";var r=function(){var e,o,r=n.store;for(o=0;o<r.data.items.length;o++)e=r.data.items[o],l.children.push(e.data);i.init(t,{ack:"deploy",payload:a,mbody:l,meta_type:"metrics"},t,(function(e){}),!1),i.send()};e?r():IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM_OVERWRITE"),(function(e){"yes"==e&&r()}))}},initComponent:function(){$s.apply(this,{items:[{xtype:"panel",bodyPadding:0,border:1,layout:{type:"hbox",align:"stretch"},items:[{xtype:"panel",flex:1,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_SEARCH"),flex:1,emptyText:IRm$.r1("M_SEL_ITEM"),labelWidth:60},{xtype:"button",iconCls:"icon-toolbar-search",tooltip:IRm$.r1("B_SEARCH")},{xtype:"container",flex:1}]},new IG$.explorer({instance:this.instance,name:"mexplorer",vmode:"tree",border:0,flex:1,split:!1,_meta_move:!1,nav_options:{context_menu:!1},request_override:new IG$.callBackObj(this,(function(e,t){var n=this.down("[name=c_info]"),o=new IG$._rpc$,i={};n.getAllValues(i)||(i.option="bridge",o.init(this,{ack:"deploy",payload:i,mbody:e,meta_type:"deploy_request"},this,(function(e){t.execute(e)}),!1),o.send())})),custom_click_func:new IG$.callBackObj(this,(function(e,t){var n=e.get("type").toLowerCase();return("root"==n||IG$.isFolder(n)<5)&&(e.isExpanded()||e.expand()),!1})),show_tree_items:!0})]},{xtype:"container",layout:{type:"vbox",align:"stretch",pack:"center"},padding:5,width:50,items:[{xtype:"container",flex:1,border:0},{xtype:"button",text:">",width:50,handler:function(){this._move_sel(1)},scope:this},{xtype:"button",text:"<",width:50,handler:function(){this._move_sel(0)},scope:this},{xtype:"container",flex:1,border:0}]},{xtype:"panel",flex:1,text:IRm$.r1("L_TGT_SVR"),layout:{type:"vbox",align:"stretch"},items:[{xtype:"fieldset",title:"Connection Information",name:"c_info",layout:"anchor",items:[{xtype:"combobox",name:"dpsvr",fieldLabel:IRm$.r1("L_DEPLOY_SVR"),displayField:"name",valueField:"name",store:{fields:["name"]},listeners:{change:function(e){var t=this.down("[name=c_info]"),n=this.dp_svr;n&&n[e.getValue()]&&t.setAllValues(n[e.getValue()].properties)},scope:this}},{xtype:"textfield",name:"server_url",placeholder:"Select "+IRm$.r1("L_DEPLOY_SVR")+" ex) http://localhost:8280",required:!0,readOnly:!0,fieldLabel:IRm$.r1("L_SERVER_HOST")},{xtype:"textfield",name:"endpoint",placeholder:"Select "+IRm$.r1("L_DEPLOY_SVR")+" ex) /servlet/krcp",required:!0,readOnly:!0,fieldLabel:IRm$.r1("L_ENDPOINT_URL")},{xtype:"textfield",name:"tenant_name",required:!0,placeholder:"type teant such as ROOT",fieldLabel:IRm$.r1("L_TENANT")},{xtype:"textfield",name:"tsvr_userid",required:!0,fieldLabel:IRm$.r1("L_USERID")},{xtype:"textfield",name:"tsvr_passwd",inputType:"password",required:!0,fieldLabel:IRm$.r1("L_PASSWORD")},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_TST_CON"),handler:function(){this.testConnection()},scope:this}]}]},{xtype:"gridpanel",title:"Deploy Items",name:"grd_ditem",tbar:[{xtype:"button",text:IRm$.r1("L_VALID_STATUS"),handler:function(){this._do_deploy(!0)},scope:this},{xtype:"button",text:IRm$.r1("L_EXECUTE"),handler:function(){this._do_deploy()},scope:this}],selType:"checkboxmodel",selModel:{mode:"MULTI"},viewConfig:{plugins:[{ptype:"gridviewdragdrop",ddGroup:"_I$RD_G_",enableDrop:!1,enableDrag:!0}],listeners:{}},store:{},columns:[{text:IRm$.r1("B_NAME"),dataIndex:"name",flex:1},{text:IRm$.r1("L_FULL_PATH"),dataIndex:"nodepath",flex:1},{text:IRm$.r1("B_STATUS"),dataIndex:"status"},{text:IRm$.r1("L_EXE_RSLTS"),dataIndex:"execution_results"}]}]}]}],listeners:{afterrender:function(e){this._init()}}}),IG$.mgr_deploy.superclass.initComponent.call(this)}});
IG$.sch_prog=$s.extend(IG$.v$pnl,{padding:10,closable:!0,iconCls:"icon-schedule",layout:"fit",init_f:function(){this.load_cnt()},load_cnt:function(){var e,t=new IG$._rpc$;e={ack:"appoption",payload:{address:"schedule_config"},mbody:{}},t.init(this,e,this,(function(e){var t=this.down("[name=grdprog]");this._mc=e||{},this._mc.meta_type="schedule_config",t.store.loadData(this._mc.programs)}),null),t.send()},_editProg:function(e){var t,a,i=this;i.down("[name=grdprog]");if(i.down("[name=mcard]").getLayout().setActiveItem(1),i._editor_rec=e||null,i.mdata=e?e.data:{},i.__tabinit_)i._editor_init_f();else{var n,o,s=$(i.down("[name=script_0]").el.dom),r=$(".idv-jcl-edtr",s);r.empty(),t=Math.max(IG$.j$ext._w(s)-4,t||380),a=Math.max(IG$.j$ext._h(s)-4,a||380),n=$("<div class='idv-jcl-view'></div>").appendTo(r),IG$.j$ext._w(n,t),IG$.j$ext._h(n,a),(o=ace.edit(n[0])).getSession().setMode("ace/mode/java"),i.scriptview_0=n,i.scripteditor_0=o,i.__tabinit_=1,setTimeout((function(){i._editor_init_f()}),500)}},_update_content:function(){var e,t,a,i=this.down("[name=grdprog]"),n={meta_type:"schedule_config",programs:[]};for(e=0;e<i.store.data.items.length;e++)a={mod_type:(t=i.store.data.items[e]).get("mod_type"),name:t.get("name"),java_class:t.get("java_class"),java_source:t.get("java_source"),java_import:t.get("java_import"),java_extra:t.get("java_extra"),ui_layout:t.get("ui_layout"),ui_script:t.get("ui_script"),ui_screen:t.get("ui_screen"),code_parts:t.get("code_parts")},n.programs.push(a);return this._mc=n,1},_save:function(e){var t=this;t._update_content()&&(e?t._bsave():IG$.confirmMessages(ig$.appname,IRm$.r1("L_SAVE_CHANGES"),(function(e){"yes"==e&&t._bsave()})))},_bsave:function(){var e,t=new IG$._rpc$;e={ack:"appoption",payload:{address:"schedule_config",option:"updatecontent"},mbody:this._mc,meta_type:"schedule_config"},t.init(this,e,this,(function(e){IG$.alertmsg(ig$.appname,IRm$.r1("M_SAVED"),null,null,0,"success")}),!1),t.send()},_exp:function(){var e,t=this;t._update_content()&&(e=new IG$.dlg_syscon({instance:t.instance,meta_content:t._mc,callback:new IG$.callBackObj(t,(function(e){var t=this.down("[name=grdprog]");this._mc=e||{},this._mc.meta_type="schedule_config",t.store.loadData(this._mc.programs)}))}),IG$.showDlg(t,e))},pname:"com.amplix.scheduler.job.",_editor_init_f:function(){var e=this,t=e.mdata||{};e.__prog_start=0,t.mod_type=t.mod_type||e.mod_type||"scheduler_quartz",e.java_import=t.java_import,e.down("[name=mod_type]").setValue(t.mod_type),e._editor_updmodtype(),e.down("[name=m_name]").setValue(t.name),e.down("[name=m_java_class]").setValue(t.java_class?t.java_class:t.name?e.pname+t.name:e.pname),e.down("[name=prog_part]").setValue(""),e.scripteditor_0&&e.scripteditor_0.setValue(""),e.__prog_start=1},_editor_upcheck:function(){var e=this,t=e.mdata,a=e.down("[name=m_name]"),i=e.down("[name=m_java_class]"),n=e.down("[name=mod_type]");if($s.apply(t,{mod_type:n.getValue(),name:a.getValue(),java_class:i.getValue(),java_import:e.java_import}),a.clearInvalid(),i.clearInvalid(),t.name){if(t.java_class)return t;i.setInvalid(IRm$.r1("B_REQ"))}else a.setInvalid(IRm$.r1("B_REQ"))},_apply_prog_part:function(e){var t=this.down("[name=prog_part]"),a=e||t.getValue(),i=this.mdata,n=this.scripteditor_0;this.__prog_start&&i&&a&&(i.code_parts=i.code_parts||{},"code_"==a.substring(0,5)?i.code_parts[a]=n.getValue()?n.getValue().split("\n"):null:i[a]=n.getValue()?n.getValue().split("\n"):null)},_editor_updmodtype:function(){var e,t,a=this.down("[name=mod_type]"),i=this.down("[name=prog_part]"),n=a.getValue(),o=[{name:IRm$.r1("B_SELECT"),value:""}];for(t=0;t<a.store.data.items.length;t++)if(a.store.data.items[t].get("value")==n){e=a.store.data.items[t].get("pname");break}e&&(this.pname=e),"scheduler_quartz"==n?o=o.concat([{name:"Java Source",value:"java_source"},{name:"Extra Java",value:"java_extra"},{name:"UI Layout",value:"ui_layout"},{name:"UI Script",value:"ui_script"},{name:"UI Screen",value:"ui_screen"}]):"external_dataloader"==n?o=o.concat([{name:"Java Source",value:"java_source"},{name:"Extra Java",value:"java_extra"}]):"single_sign_on"==n&&(o=o.concat([{name:"Login for Authentication",value:"code_before_login"},{name:"After Internal Login Failed",value:"code_try_login"},{name:"Get User Lists",value:"code_get_user_list"},{name:"Get Role Lists",value:"code_get_role_list"},{name:"Get Group Lists",value:"code_get_group_list"},{name:"Optional Fields",value:"code_get_option_fields"}])),i.store.loadData(o)},_editor_doCompile:function(){var e=new IG$._rpc$,t=this._editor_upcheck();t&&(e.init(this,{ack:"plugin",payload:{option:"compile"},mbody:{meta_type:"schedule_config",programs:[t]},meta_type:"schedule_config"},this,(function(e){var t,a=this.down("[name=txtoutput]"),i=e&&e.length?e[0]:null,n=[];i&&i.results&&(t=i.results.error_details)&&$.each(t,(function(e,t){n.push(t.message||"")})),a.setValue(n.join("\n")||"success!")})),e.send())},_editor_commit_f:function(e){var t=this,a=t._editor_upcheck(),i=t._editor_rec,n=t.down("[name=grdprog]"),o=t.down("[name=mcard]");if(a){var s;if(i){for(s in a)i.data[s]=a[s];i.refresh()}else t._editor_rec=n.store.add(a);t._save(1),!0!==e&&o.getLayout().setActiveItem(0)}},_update_prog_part:function(){var e=this.down("[name=prog_part]").getValue(),t=this.mdata,a="";e&&t&&(t[e]?a=t[e].join("\n"):"code_"==e.substring(0,5)&&t.code_parts&&t.code_parts[e]&&(a=t.code_parts[e].join("\n"))),this.scripteditor_0.setValue(a)},initComponent:function(){var e=this;$s.apply(this,{items:[{xtype:"panel",layout:"card",name:"mcard",items:[{xtype:"gridpanel",flex:1,name:"grdprog",store:{xtype:"store"},columns:[{text:IRm$.r1("B_NAME"),width:200,dataIndex:"name"},{text:IRm$.r1("L_PKG_NAME"),flex:1,dataIndex:"java_class"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(e,t,a){var i=e.store;i.getAt(t);IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM"),(function(e){i.removeAt(t)}))},scope:this}]}],listeners:{itemclick:function(e,t,a,i,n,o){this._editProg(t)},scope:this},tbar:[{text:IRm$.r1("B_SAVE"),handler:function(){this._save()},scope:this},{text:IRm$.r1("B_REFRESH"),handler:function(){this.init_f()},scope:this},{text:IRm$.r1("L_ADD_NEW_PROGRAM"),handler:function(){this._editProg()},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),tooltip:IRm$.r1("L_EXPORT"),handler:function(){this._exp()},scope:this}]},{xtype:"panel",layout:"fit",tbar:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._apply_prog_part(),this._editor_commit_f()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){var e=this.down("[name=mcard]");this.__prog_start=!1,e.getLayout().setActiveItem(0)},scope:this},"-",{text:IRm$.r1("L_PKG_LST"),handler:function(){var e=this,t={cls:e.java_import?e.java_import.join("\n"):""},a=new IG$.classModuleClsImport({instance:e.instance,litem:t,callback:new IG$.callBackObj(e,(function(t){e.java_import=t.cls?t.cls.split("\n"):null}))});IG$.showDlg(e,a)},scope:this}],items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"combobox",name:"mod_type",fieldLabel:IRm$.r1("L_MODULE_TYPE"),required:!0,displayField:"name",valueField:"value",store:{data:[{name:"Scheduler Class",value:"scheduler_quartz",pname:"com.amplix.scheduler.job."},{name:"External DataLoader",value:"external_dataloader",pname:"com.amplix.dataloader.custom."},{name:"Single Sign On",value:"single_sign_on",pname:"com.amplix.sso.custom."}]},listeners:{change:function(){this._editor_updmodtype()},scope:this}},{xtype:"container",flex:1}]},{xtype:"container",height:10},{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},autoScroll:!0,title:"Java Execution",items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),name:"m_name"},{xtype:"container",flex:1}]},{xtype:"fieldset",paddingY:20,title:"Java Codes",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_JAVA_CLASS"),name:"m_java_class"},{xtype:"container",flex:1}]},{xtype:"panel",layout:{type:"vbox",align:"stretch"},height:600,border:0,items:[{xtype:"panel",layout:{type:"hbox",align:"stretch"},border:0,items:[{xtype:"combobox",name:"prog_part",fieldLabel:IRm$.r1("L_PROGRAM_PARTS"),required:!0,displayField:"name",valueField:"value",store:{},listeners:{change:function(e,t,a){a&&this._apply_prog_part(a),this._update_prog_part()},scope:this}},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_APPLY_CODES"),handler:function(){this._apply_prog_part(),this._editor_commit_f(!0)},scope:this}]},{name:"script_0",flex:1,region:"center",html:"<div class='idv-jcl-edtr'></div>",split:!0,border:1,listeners:{resize:function(t,a,i,n,o,s){e.scriptview_0&&e.scripteditor_0&&(IG$.j$ext._w(e.scriptview_0,a-4),IG$.j$ext._h(e.scriptview_0,i-4),e.scripteditor_0.resize(!0))}}}]},{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("B_COMPILE"),handler:function(){this._apply_prog_part(),this._editor_doCompile()},scope:this}]},{xtype:"textarea",fieldLabel:IRm$.r1("L_OUTPUT_MSG"),name:"txtoutput",height:120,labelPosition:"top"}]}]}]}]}]}]}),IG$.sch_prog.superclass.initComponent.call(this)},listeners:{afterrender:function(e){e.init_f()}}});
IG$.chart_dsgn=$s.extend(IG$.v$pnl,{padding:10,closable:!0,iconCls:"icon-schedule",layout:"fit",init_f:function(){this.load_cnt()},load_cnt:function(){var t,e=new IG$._rpc$;t={ack:"content",payload:{address:"/SYS_Config/chart_dsgn"},mbody:{subfolder:"T"}},e.init(this,t,this,(function(t){this.down("[name=grdprog]").store.loadData(t.result)}),null),e.send()},_editProg:function(t){var e,i,a=this;a.down("[name=grdprog]");if(a.down("[name=mcard]").getLayout().setActiveItem(1),a._editor_rec=t||null,a.mdata=t?t.data:{},a.__tabinit_)a._editor_init_f();else{var n,r,o=$(a.down("[name=script_0]").el.dom),s=$(".idv-jcl-edtr",o);s.empty(),e=Math.max(IG$.j$ext._w(o)-4,e||380),i=Math.max(IG$.j$ext._h(o)-4,i||380),n=$("<div class='idv-jcl-view'></div>").appendTo(s),IG$.j$ext._w(n,e),IG$.j$ext._h(n,i),(r=ace.edit(n[0])).getSession().setMode("ace/mode/java"),a.scriptview_0=n,a.scripteditor_0=r,a.__tabinit_=1,setTimeout((function(){a._editor_init_f()}),500)}},initComponent:function(){var t=this;$s.apply(this,{items:[{xtype:"panel",layout:"card",name:"mcard",items:[{xtype:"gridpanel",flex:1,name:"grdprog",store:{xtype:"store"},columns:[{text:IRm$.r1("B_NAME"),width:200,dataIndex:"name"},{text:IRm$.r1("L_PKG_NAME"),flex:1,dataIndex:"java_class"},{xtype:"actioncolumn",width:60,items:[{iconCls:"icon-grid-delete",tooltip:IRm$.r1("L_REMOVE"),handler:function(t,e,i){var a=t.store;a.getAt(e);IG$.confirmMessages(ig$.appname,IRm$.r1("M_CONFIRM"),(function(t){a.removeAt(e)}))},scope:this}]}],listeners:{itemclick:function(t,e,i,a,n,r){this._editProg(e)},scope:this},tbar:[{text:IRm$.r1("B_REFRESH"),handler:function(){this.init_f()},scope:this},{text:IRm$.r1("L_ADD_NEW_CHART"),handler:function(){this._editProg()},scope:this},"->",{text:IRm$.r1("L_EXPORT_META"),tooltip:IRm$.r1("L_EXPORT"),handler:function(){this._exp()},scope:this}]},{xtype:"panel",layout:"fit",tbar:[{text:IRm$.r1("B_CONFIRM"),handler:function(){this._apply_prog_part(),this._editor_commit_f()},scope:this},{text:IRm$.r1("B_CANCEL"),handler:function(){var t=this.down("[name=mcard]");this.__prog_start=!1,t.getLayout().setActiveItem(0)},scope:this}],items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},items:[{xtype:"panel",padding:10,layout:{type:"vbox",align:"stretch"},autoScroll:!0,title:IRm$.r1("B_GENERAL"),items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"container",layout:{type:"vbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("B_NAME"),name:"m_name"},{xtype:"textfield",fieldLabel:IRm$.r1("B_LABEL"),name:"m_label"},{xtype:"textfield",fieldLabel:IRm$.r1("B_CHART_TYPE"),name:"m_charttype"},{xtype:"textfield",fieldLabel:IRm$.r1("B_CHART_SUBTYPE"),name:"m_subtype"},{xtype:"textfield",fieldLabel:IRm$.r1("B_CHART_IMG"),name:"m_img"},{xtype:"combobox",fieldLabel:IRm$.r1("B_GRP"),name:"m_grp",displayField:"name",valueField:"value",store:{data:IG$.__chartoption.chartcateg}}]},{xtype:"container",flex:1}]},{xtype:"fieldset",paddingY:20,title:"Codes",layout:{type:"vbox",align:"stretch"},items:[{xtype:"container",layout:{type:"hbox",align:"stretch"},items:[{xtype:"textfield",fieldLabel:IRm$.r1("L_JAVA_CLASS"),name:"m_java_class"},{xtype:"container",flex:1}]},{xtype:"panel",layout:{type:"vbox",align:"stretch"},height:600,border:0,items:[{xtype:"panel",layout:{type:"hbox",align:"stretch"},border:0,items:[{xtype:"combobox",name:"prog_part",fieldLabel:IRm$.r1("L_PROGRAM_PARTS"),required:!0,displayField:"name",valueField:"value",store:{},listeners:{change:function(t,e,i){i&&this._apply_prog_part(i),this._update_prog_part()},scope:this}},{xtype:"container",flex:1},{xtype:"button",text:IRm$.r1("L_APPLY_CODES"),handler:function(){this._apply_prog_part(),this._editor_commit_f(!0)},scope:this}]},{name:"script_0",flex:1,region:"center",html:"<div class='idv-jcl-edtr'></div>",split:!0,border:1,listeners:{resize:function(e,i,a,n,r,o){t.scriptview_0&&t.scripteditor_0&&(IG$.j$ext._w(t.scriptview_0,i-4),IG$.j$ext._h(t.scriptview_0,a-4),t.scripteditor_0.resize(!0))}}}]}]}]}]}]}]}]}),IG$.chart_dsgn.superclass.initComponent.call(this)},listeners:{afterrender:function(t){t.init_f()}}});